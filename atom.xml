<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æœ¨å­ã€ä½³</title>
  
  <subtitle>è‡ªå¾‹ã€è‡ªç«‹ã€è‡ªç”±</subtitle>
  <link href="https://lovelee.cn/atom.xml" rel="self"/>
  
  <link href="https://lovelee.cn/"/>
  <updated>2022-08-31T06:47:56.174Z</updated>
  <id>https://lovelee.cn/</id>
  
  <author>
    <name>æœ¨å­ã€ä½³</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>github action deploy hexo(based on butterfly)</title>
    <link href="https://lovelee.cn/2022/08/31/github_action_deploy_hexo/"/>
    <id>https://lovelee.cn/2022/08/31/github_action_deploy_hexo/</id>
    <published>2022-08-30T19:56:03.000Z</published>
    <updated>2022-08-31T06:47:56.174Z</updated>
    
    <content type="html"><![CDATA[<div id="page" style="font-size:13px;"><div class="note blue no-icon flat"><p>æœ¬æ¥è§†é¢‘å’Œæ•™ç¨‹ä¸­å·²ç»è¯´çš„å¾ˆæ¸…æ¥šäº†ï¼Œä½†æ˜¯è‡ªå·±åŠ¨æ‰‹çš„æ—¶å€™è¿˜æ˜¯é‡åˆ°äº†å¾ˆå¤šé—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ã€‚ä¹Ÿå¸Œæœ›å¯ä»¥å¸®åˆ°åç»­é‡‡å‘çš„äººã€‚ğŸ§</p></div><h2 id="ï¼ˆå…ˆä¸Šç»“æœï¼‰åœ¨å†ç»äº†22æ¬¡å¤±è´¥ä¹‹åï¼Œç¬¬23æ¬¡ç»ˆäºæˆåŠŸäº†"><a href="#ï¼ˆå…ˆä¸Šç»“æœï¼‰åœ¨å†ç»äº†22æ¬¡å¤±è´¥ä¹‹åï¼Œç¬¬23æ¬¡ç»ˆäºæˆåŠŸäº†" class="headerlink" title="ï¼ˆå…ˆä¸Šç»“æœï¼‰åœ¨å†ç»äº†22æ¬¡å¤±è´¥ä¹‹åï¼Œç¬¬23æ¬¡ç»ˆäºæˆåŠŸäº†"></a>ï¼ˆå…ˆä¸Šç»“æœï¼‰åœ¨å†ç»äº†22æ¬¡å¤±è´¥ä¹‹åï¼Œç¬¬23æ¬¡ç»ˆäºæˆåŠŸäº†</h2><div class="fj-gallery"><p><img src="https://img.gejiba.com/images/7ea5ec9c808e6e028e63958c8cb1e774.png"></p>          </div><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a><mark class="hl-label pink">github action</mark> ç®€ä»‹</h2><p>Github Action æ˜¯ GitHub äº 2018 å¹´ 10 æœˆæ¨å‡ºçš„ä¸€ä¸ª CI\CD æœåŠ¡ã€‚(æŒç»­é›†æˆã€æŒç»­äº¤ä»˜ã€æŒç»­éƒ¨ç½²)<br>æˆ‘çš„ç†è§£å°±æ˜¯ï¼šé€šè¿‡ç›‘å¬ä»“åº“ä¸€ç³»åˆ—å¦‚æ¨é€çš„åŠ¨ä½œï¼Œè¿›è€Œåœ¨githubç¯å¢ƒä¸­åˆ›é€ å‡ºç±»ä¼¼è™šæ‹Ÿæœºçš„ç¯å¢ƒï¼ˆå¦‚å¼€å‘ç¯å¢ƒä¸€æ ·ï¼‰ï¼Œå®‰è£…ä¾èµ–ï¼ˆnodejsã€hexo-cliï¼‰ï¼Œæ‰§è¡Œå‘½ä»¤å¦‚ npm run build ã€hexoä¸‰ä»¶å¥—ç­‰ã€‚</p><h2 id="Github-Action-ä½¿ç”¨æ•™ç¨‹"><a href="#Github-Action-ä½¿ç”¨æ•™ç¨‹" class="headerlink" title="Github Action ä½¿ç”¨æ•™ç¨‹"></a>Github Action ä½¿ç”¨æ•™ç¨‹</h2><p>é¦–å…ˆæˆ‘ä»¬è¦æ˜ç¡®ç›®çš„ï¼Œè‡ªåŠ¨éƒ¨ç½²ï¼Œå°±æ˜¯è¦ åœ¨githubæ”¶åˆ°æˆ‘ä»¬çš„åŠ¨ä½œ (æˆ‘ç”¨çš„æ˜¯<mark class="hl-label red">æäº¤</mark> )æ—¶<sup>â‘ </sup>,å®ç°äº‘ç«¯æ‰§è¡Œå¦‚æœ¬åœ°ä¸€æ ·çš„åŠ¨ä½œ<sup>â‘¡</sup></p><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><div class="tabs" id="å‡†å¤‡å·¥ä½œ"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#å‡†å¤‡å·¥ä½œ-1">å‡†å¤‡å·¥ä½œ</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="å‡†å¤‡å·¥ä½œ-1"><p>æ–¹ä¾¿ç®¡ç†ï¼Œæˆ‘æ¨èé¡¹ç›®æºç å’Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨ä¸¤ä¸ªä»“åº“ï¼Œå› ä¸º&lt;name&gt;.github.ioæ˜¯å¼€æ”¾ä»“åº“ï¼Œæ‰€ä»¥ä¸æƒ³å±•ç¤ºæºç ,æœ€å¥½ä½¿ç”¨ç§æœ‰ä»“åº“ç®¡ç†ï¼Œç„¶åé€šè¿‡ç”Ÿæˆdist &amp; public çš„æ–¹å¼æ¨åˆ°å¼€æ”¾ä»“åº“ï¼Œè¿›è¡Œé¡¹ç›®å±•ç¤ºã€‚<br>ä½¿ç”¨ç§æœ‰ä»“åº“æœ€ä¸»è¦çš„åŸå› å°±æ˜¯<code>å®‰å…¨</code>,å› ä¸ºåœ¨actioné…ç½®ä¸­ä¼šç”¨åˆ° <mark class="hl-label blue">Token</mark>  ï¼Œå¦‚æœ <mark class="hl-label blue">Token</mark>  è¢«ç›—ç”¨ï¼Œåˆ«äººå¯ä»¥æ“ä½œä½ çš„ github ä»“åº“å†…å®¹ï¼Œé€ æˆä¸å¿…è¦çš„éº»çƒ¦ã€‚<br>ä¸€èˆ¬ä½¿ç”¨hexoçš„è¯ï¼Œhexo g -d é…ç½®å¥½ä¼šè‡ªåŠ¨ä¸Šä¼  public åˆ°å¼€æ”¾ä»“åº“ï¼Œæ— éœ€è‡ªå·±pushã€‚<br>ä»Šå¤©æ¼”ç¤ºçš„æ˜¯ github action æ¨é€åˆ°å¼€æ”¾ä»“åº“ï¼Œæ‰€ä»¥è¦å‡†å¤‡å¥½<mark class="hl-label red">ä¸¤ä¸ª</mark> ä»“åº“ã€‚</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><details class="toggle" ><summary class="toggle-button" style="">åˆ›å»ºç§æœ‰ä»“åº“</summary><div class="toggle-content"><p>ç‚¹å‡»å›¾ç‰‡æŸ¥çœ‹å¤§å›¾</p><div class="fj-gallery"><p><img src="https://img.gejiba.com/images/1e77b584d3609ecb81905fb09fa21eb1.png"></p>          </div></div></details><ul><li>è¿›è¡Œæºç æ¨é€åˆ°ä»“åº“ã€‚</li></ul><h2 id="å‡†å¤‡actionç¯å¢ƒ"><a href="#å‡†å¤‡actionç¯å¢ƒ" class="headerlink" title="å‡†å¤‡actionç¯å¢ƒ"></a>å‡†å¤‡actionç¯å¢ƒ</h2><ul><li><p>åˆ‡æ¢åˆ°Actions</p><div class="fj-gallery"><p><img src="https://img.gejiba.com/images/116c6474bc61e43eba92d72f5aeb21ec.png"></p>          </div></li><li><p>é€‰æ‹©è‡ªå·±å®šä¹‰å·¥ä½œæµ</p><div class="fj-gallery"><p><img src="https://img.gejiba.com/images/85f1224e6619ae7e07004b277247c407.png"></p>          </div></li><li><p>åˆ›å»ºæ–‡ä»¶ï¼Œç¼–è¾‘å†…å®¹ï¼Œå‘å¸ƒå·¥ä½œæµ</p><div class="fj-gallery"><p><img src="https://img.gejiba.com/images/a44d701e07d583d6bfe3d83f6622e32a.png"></p>          </div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">name: è‡ªåŠ¨éƒ¨ç½²</span><br><span class="line"># å½“æœ‰æ”¹åŠ¨æ¨é€åˆ°masteråˆ†æ”¯æ—¶ï¼Œå¯åŠ¨Action</span><br><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches:</span><br><span class="line">      - main</span><br><span class="line">      #2020å¹´10æœˆågithubæ–°å»ºä»“åº“é»˜è®¤åˆ†æ”¯æ”¹ä¸ºmainï¼Œæ³¨æ„æ›´æ”¹</span><br><span class="line">  release:</span><br><span class="line">    types:</span><br><span class="line">      - published</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  deploy:</span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">    steps:</span><br><span class="line">      - name: Checkout Repository main branch</span><br><span class="line">        uses: actions/checkout@v3</span><br><span class="line">        with:</span><br><span class="line">          ref: main</span><br><span class="line"></span><br><span class="line">      - name: install nodejs</span><br><span class="line">        uses: actions/setup-node@v3.4.1</span><br><span class="line">        with:</span><br><span class="line">          node-version: &quot;16.x&quot;</span><br><span class="line"></span><br><span class="line">      - name: å®‰è£… Hexo</span><br><span class="line">        run: |</span><br><span class="line">          export TZ=&#x27;Asia/Shanghai&#x27;</span><br><span class="line">          npm install hexo-cli -g</span><br><span class="line"></span><br><span class="line">      - name: å®‰è£…ä¾èµ–</span><br><span class="line">        run: |</span><br><span class="line">          npm install</span><br><span class="line"></span><br><span class="line">      - name: ç”Ÿæˆé™æ€æ–‡ä»¶</span><br><span class="line">        run: |</span><br><span class="line">          hexo clean</span><br><span class="line">          hexo generate</span><br><span class="line"></span><br><span class="line">      - name: éƒ¨ç½²åˆ°Github</span><br><span class="line">        uses: JamesIves/github-pages-deploy-action@v4</span><br><span class="line">        with:</span><br><span class="line">          token: $&#123;&#123;secrets.IO_SSH&#125;&#125; # æ¥å—æ¨é€çš„ public å…¬å¼€ä»“åº“ - è¿™é‡Œåˆ«å’Œæºç ç§æœ‰ä»“åº“ææ··</span><br><span class="line">          repository-name: jia0213/jia0213.github.io</span><br><span class="line">          branch: main</span><br><span class="line">          folder: public</span><br><span class="line">          commit-message: &#x27;$&#123;&#123; github.event.head_commit.message &#125;&#125; Updated By Github Actions&#x27;</span><br></pre></td></tr></table></figure></li><li><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œymlä¸­æœ‰å‡ å¤„éœ€è¦è°ƒæ•´ä¸ºä½ é¡¹ç›®ä¸­çš„å®é™…æ•°æ®ï¼š<br>å¦‚åˆ†æ”¯ <mark class="hl-label blue">main</mark>  -&gt; <mark class="hl-label pink">master</mark> <br>å¦‚å…¶ä»–ä¾èµ– åœ¨ install é‡Œ å¢åŠ å‘½ä»¤ å¦‚ npm install gulp<br>å¦‚repository-name éœ€è¦ä½ å®é™…çš„è·¯å¾„ å¦‚ &lt;name&gt;/.github.io<br>token: $ <mark class="hl-label red">github -> setting - accessToken</mark> </p></li><li><p>æœ€åä¸€æ­¥éƒ¨ç½²çš„æ—¶å€™ with é‡Œé¢æœ‰ä¸ª <mark class="hl-label red">token</mark> ,è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œ<br>æ•æ„Ÿå­—æ®µä¸€èˆ¬ä½¿ç”¨<code>ç¯å¢ƒå˜é‡</code>æ¥ä»£æ›¿ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š</p></li></ul><ul><li>æ‰¾åˆ°æ·»åŠ ä½ç½®<div class="fj-gallery"><p><img src="https://img.gejiba.com/images/a56cbdbc059e43882643c6ef00611a94.png"></p>          </div></li><li>è¾“å…¥éœ€è¦ä¿å¯†çš„ é”®å’Œå€¼ ï¼Œåé¢ä½¿ç”¨ <code>$&#123;&#123;secrets.é”®&#125;&#125;</code> å³å¯å¼•ç”¨åˆ° value<div class="fj-gallery"><p><img src="https://img.gejiba.com/images/b295c5a8cc746c270f8065d386ae5c15.png"></p>          </div></li></ul><ul><li>è€Œè¿™é‡Œæˆ‘ä»¬è¦åœ¨æºç ä»“åº“æ¨é€åˆ°å…¬å¼€ä»“åº“è¿›è¡Œéƒ¨ç½²ï¼Œç”¨åˆ°çš„ <code>token</code>ç”¨çš„æ˜¯æ•´ä¸ªgithubä»“åº“çš„æ“ä½œæƒé™çš„ token ï¼Œä¸ç„¶ä¼šæŠ¥é”™ git æ²¡æœ‰æ“ä½œæƒé™ç­‰ç›¸å…³é—®é¢˜</li><li>æ–°å¼€çª—å£ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥æ³¨å†Œtoken<br>è®¿é—® Github-&gt;å¤´åƒï¼ˆå³ä¸Šè§’ï¼‰-&gt;Settings-&gt;Developer Settings-&gt;Personal access tokens-&gt;generate new token,åˆ›å»ºçš„ Token åç§°éšæ„ï¼Œä½†å¿…é¡»å‹¾é€‰ repo é¡¹ å’Œ workflows é¡¹ã€‚<div class="fj-gallery"><p><img src="https://img.gejiba.com/images/29fee3ff48f17264a72c608211427ff5.png"></p>          </div><div class="fj-gallery"><p><img src="https://img.gejiba.com/images/f5d6a0ecb53187123f94901eeea3de58.png"></p>          </div></li><li>å›åˆ° main.ymlä¸­ï¼Œå°†token æ›¿æ¢ä¸º åˆšæ‰å‡†å¤‡å¥½çš„ å˜é‡å¼•ç”¨ï¼Œåœ¨å·¥ä½œæµç¼–è¾‘ç•Œé¢å³ä¾§ç‚¹å‡» <mark class="hl-label commit">start</mark>   å³å¯<div class="note purple flat"><p>è‡³æ­¤ï¼Œaction éƒ¨ç½²å®Œæˆï¼Œå¦‚æœæˆåŠŸæ‰§è¡Œï¼Œé‚£å°±å¤§åŠŸå‘Šæˆï¼</p></div></li></ul><p>ç‰¹åˆ«é¸£è°¢ï¼š</p><ul><li><p><a href="https://anzhiy.cn" ><mark class="hl-label blue">å®‰çŸ¥é±¼</mark> </a>,å‚è€ƒæ–‡ç« <a href="https://anzhiy.cn/posts/asdx.html">ä½¿ç”¨ Github Action è‡ªåŠ¨éƒ¨ç½²</a></p></li><li><p><a href="https://zhuanlan.zhihu.com/p/364366127">GitHub Actionså…¥é—¨æ•™ç¨‹-è‡ªåŠ¨éƒ¨ç½²é™æ€åšå®¢</a></p></li><li><p><a href="https://zhuanlan.zhihu.com/p/508457566">ä»ç§æœ‰ä»£ç åº“è‡ªåŠ¨éƒ¨ç½²Hexoç«™åˆ°GitHub Pages</a></p></li></ul><h2 id="å‘1"><a href="#å‘1" class="headerlink" title="å‘1"></a>å‘1</h2><p>ä¸Šä¼ æºç ä¹‹åï¼Œè‡ªåŠ¨æ‰§è¡Œactionæ—¶ï¼ŒæŠ¥é”™æ— æ³•è§£æhexoè¯­æ³•ï¼ŒæŸ¥çœ‹ä»“åº“ä¸»é¢˜æ–‡ä»¶å¤¹ä¸ºç©ºï¼Œå›¾æ ‡ä¸Šå‡ºç°ç™½è‰²ç®­å¤´ã€‚</p><div class="fj-gallery"><p><img src="https://img.gejiba.com/images/7ddfd0522066351b840be3d43448e240.png"></p>          </div><h2 id="å‘2"><a href="#å‘2" class="headerlink" title="å‘2"></a>å‘2</h2><p>æ‰§è¡Œactionæ—¶æŠ¥é”™ï¼ŒlockfileVersion@1ç‰ˆæœ¬é—®é¢˜ï¼Œè§£å†³åŠæ³•æ˜¯é€šè¿‡nodeçš„ç‰ˆæœ¬ä¸ä¹‹åŒ¹é…ï¼Œnodeç‰ˆæœ¬æ¨è <code>node-version: &quot;16.x&quot;</code></p><div class="fj-gallery"><p><img src="https://img.gejiba.com/images/2f709850146403bac6b32f9729a45434.png"></p>          </div><h2 id="å‘3"><a href="#å‘3" class="headerlink" title="å‘3"></a>å‘3</h2><p>æ‰§è¡Œactionæ—¶æŠ¥é”™ï¼Œï¼ˆgitï¼‰Warning: Permanently added the ECDSA host key for IP address â€˜xxx.xxx.xxxâ€™ to the list of known hosts. Permission denied (publickey) æ‰§è¡Œgitå‘½æ—¶å—åˆ°å…¬é’¥SSHå½±å“å¯¼è‡´æƒé™ä¸å¤Ÿ</p><div class="note purple no-icon flat"><p>Permission denied (publickey).<br>fatal: Could not read from remote repository.</p><p>Please make sure you have the correct access rights<br>and the repository exists</p></div><p>è§£å†³åŠæ³•ï¼š</p><h2 id="å‘4"><a href="#å‘4" class="headerlink" title="å‘4"></a>å‘4</h2><p>hexo éƒ¨ç½²æŠ¥é”™ <mark class="hl-label red">spawn failed</mark> </p><ul><li><ol><li>å‡ºç° <figure class="highlight plaintext"><figcaption><span>failed</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- fatal: in unpopulated submodule &#x27;.deploy_git&#x27; </span><br><span class="line">- FATAL &#123;</span><br><span class="line">  err: Error: Spawn failed</span><br></pre></td></tr></table></figure>è§£å†³ï¼š æŠŠæ ¹ç›®å½•ä¸‹çš„ .deploy_git ç›®å½•åˆ é™¤ å†é‡æ–°ç”Ÿæˆ ã€ æäº¤</li></ol></li><li><ol start="2"><li>æ›´å¤šå¯èƒ½çš„å› ç´ å’Œè§£å†³æ–¹æ¡ˆå¯ä»¥å‚è€ƒ<a href="https://blog.zhheo.com/" >@æ´ªæ€»HEO</a>å†™çš„æ–¹æ¡ˆ:<a href="https://blog.zhheo.com/p/128998ac.html">Hexo é”™è¯¯ï¼šspawn failed çš„è§£å†³æ–¹æ³•</a>ã€‚</li></ol></li></ul><h2 id="å‘5"><a href="#å‘5" class="headerlink" title="å‘5"></a>å‘5</h2><p>å½“æ·»åŠ å…¬é’¥çš„æ—¶å€™å‡ºç°äº†Key is invalid. You must supply a key in OpenSSH public key format github</p><ul><li>é¦–å…ˆåœ¨æœ¬åœ°ç”Ÿæˆkey <figure class="highlight plaintext"><figcaption><span>bash</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;é‚®ç®±&quot;</span><br></pre></td></tr></table></figure></li><li>æ‰§è¡Œä¹‹åä¼šå‘Šè¯‰ä½  ç”Ÿæˆçš„æ–‡ä»¶ ä½ç½®å’Œåç§° æˆ‘çš„æ˜¯ C:\Users\Administrator/.ssh/id_rsa</li><li>ç›´æ¥èµ‹å€¼ç²˜è´´ .sshçš„æ–‡ä»¶ä¼šç ´åæ ¼å¼ï¼Œéœ€è¦æ‰“å¼€ æ‰€åœ¨.putæ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹ä¸­çš„git bashç„¶å</li><li>è¾“å…¥ clip &lt; id_rsa.pub æ–‡ä»¶åå­—æ‰“ä¸€åŠtabé”®å¯ä»¥è‡ªåŠ¨è¡¥å…¨</li><li>å›è½¦ä¹‹åæˆåŠŸæ‰§è¡Œï¼Œå†…å®¹å°±å¤åˆ¶åœ¨å‰ªåˆ‡æ¿äº†</li><li>æ·»åŠ ssh key ä¸ gitè¿›è¡Œç»‘å®š</li></ul><ul><li>ç‚¹å‡»å¤´åƒ<div class="fj-gallery"><p><img src="https://img.gejiba.com/images/8929cceb4b2f4054530c4099931b8d69.png"></p>          </div></li><li>å¢åŠ åˆ°é…ç½®ä¸­<div class="fj-gallery"><p><img src="https://img.gejiba.com/images/894baba7dfe8c3d49383a454a999078f.png"></p>          </div><div class="fj-gallery"><p><img src="https://img.gejiba.com/images/25bbe31807dbce5e42c4f01c5d35577d.png"></p>          </div></li></ul><h2 id="å‘6"><a href="#å‘6" class="headerlink" title="å‘6"></a>å‘6</h2><ul><li>ä¸€æ ·çš„é…ç½®ï¼Œè¿™æ¬¡æäº¤å°±é”™äº† æŠ¥é”™ä¿¡æ¯ï¼š<br>Error: The deploy step encountered an error: The process â€˜/usr/bin/gitâ€™ failed with exit code<br>è§£å†³æ–¹æ³•å¦‚ä¸‹<div class="fj-gallery"><p><img src="https://img.gejiba.com/images/7ac62caa51b84749081820d20c7fa2f8.png"></p>          </div></li></ul></div>]]></content>
    
    
    <summary type="html">github action éƒ¨ç½²åšå®¢</summary>
    
    
    
    <category term="å‰ç«¯" scheme="https://lovelee.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="hexo" scheme="https://lovelee.cn/tags/hexo/"/>
    
    <category term="butterfly" scheme="https://lovelee.cn/tags/butterfly/"/>
    
  </entry>
  
  <entry>
    <title>æ‰«ç æ‰“å¼€/è·³è½¬åˆ°å¾®ä¿¡å°ç¨‹åº</title>
    <link href="https://lovelee.cn/2022/08/29/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%89%93%E5%BC%80%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    <id>https://lovelee.cn/2022/08/29/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%89%93%E5%BC%80%E5%B0%8F%E7%A8%8B%E5%BA%8F/</id>
    <published>2022-08-29T12:53:09.207Z</published>
    <updated>2022-08-27T12:56:02.871Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å…¬ä¼—å·é¡µé¢-å°ç¨‹åºæ‰«ç æ‰“å¼€H5-å¾®ä¿¡å†…éƒ¨æ‰“å¼€å°ç¨‹åº"><a href="#å…¬ä¼—å·é¡µé¢-å°ç¨‹åºæ‰«ç æ‰“å¼€H5-å¾®ä¿¡å†…éƒ¨æ‰“å¼€å°ç¨‹åº" class="headerlink" title="å…¬ä¼—å·é¡µé¢ / å°ç¨‹åºæ‰«ç æ‰“å¼€H5 å¾®ä¿¡å†…éƒ¨æ‰“å¼€å°ç¨‹åº"></a>å…¬ä¼—å·é¡µé¢ / å°ç¨‹åºæ‰«ç æ‰“å¼€H5 å¾®ä¿¡å†…éƒ¨æ‰“å¼€å°ç¨‹åº</h1><h2 id="ä½¿ç”¨è¯´æ˜åŠæ³¨æ„äº‹é¡¹-amp-é—®é¢˜è§£å†³"><a href="#ä½¿ç”¨è¯´æ˜åŠæ³¨æ„äº‹é¡¹-amp-é—®é¢˜è§£å†³" class="headerlink" title="ä½¿ç”¨è¯´æ˜åŠæ³¨æ„äº‹é¡¹&amp;é—®é¢˜è§£å†³"></a>ä½¿ç”¨è¯´æ˜åŠæ³¨æ„äº‹é¡¹&amp;é—®é¢˜è§£å†³</h2><h3 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h3><p>ä½¿ç”¨å®˜æ–¹ç­¾åæ¯”å¯¹ç½‘å€ï¼Œæœ¬åœ°debugç­¾åæ˜¯å¦ä¸å®˜æ–¹ä¸€è‡´æˆ–æ­£ç¡® <a href="https://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=jsapisign">å®˜æ–¹æµ‹è¯•ç½‘å€</a></p><p><img src="https://docimg8.docs.qq.com/image/sTycY4i1ypKKNEWlAkhkcA?w=817&h=845" alt="æ•ˆæœå›¾"></p><h2 id="å¼€å‘æ­¥éª¤-å‚è€ƒåœ°å€"><a href="#å¼€å‘æ­¥éª¤-å‚è€ƒåœ°å€" class="headerlink" title="å¼€å‘æ­¥éª¤ å‚è€ƒåœ°å€"></a>å¼€å‘æ­¥éª¤ <a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_Open_Tag.html#%E5%BC%80%E6%94%BE%E6%A0%87%E7%AD%BE%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3">å‚è€ƒåœ°å€</a></h2><h3 id="1-å‡†å¤‡å·²è®¤è¯çš„æœåŠ¡å·"><a href="#1-å‡†å¤‡å·²è®¤è¯çš„æœåŠ¡å·" class="headerlink" title="1.å‡†å¤‡å·²è®¤è¯çš„æœåŠ¡å·"></a>1.å‡†å¤‡å·²è®¤è¯çš„æœåŠ¡å·</h3><h3 id="2-ä½¿ç”¨å¼€æ”¾æ ‡ç­¾"><a href="#2-ä½¿ç”¨å¼€æ”¾æ ‡ç­¾" class="headerlink" title="2. ä½¿ç”¨å¼€æ”¾æ ‡ç­¾"></a>2. ä½¿ç”¨å¼€æ”¾æ ‡ç­¾</h3><p><img src="https://docimg8.docs.qq.com/image/VVRK7ntS9nCbFdQZdoqmOg?w=963&h=259"></p><h3 id="ä»£ç å¼€å‘"><a href="#ä»£ç å¼€å‘" class="headerlink" title="ä»£ç å¼€å‘"></a>ä»£ç å¼€å‘</h3><p><img src="https://docimg2.docs.qq.com/image/mMHaYhPmKh52SphLo1Z6Tw?w=1616&h=726"></p><h4 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;full&quot;&gt;</span><br><span class="line">       &lt;wx-open-launch-weapp id=&quot;launch-btn&quot; username=&quot;gh_b44e6672d709&quot; path=&quot;/pages/dav/dav?from=wx&quot;</span><br><span class="line">           style=&quot;float: left;width: 100%;height: 100%;text-align: center;display: flex;justify-content: center;&quot;&gt;</span><br><span class="line">           &lt;template&gt; &lt;!--æ’æ§½éœ€è¦åŠ ï¼Œä¸ç„¶å†…å®¹ç©ºç™½--&gt;</span><br><span class="line">               &lt;div style=&quot;width: 100%;margin: 0px auto;float: left;&quot;&gt;</span><br><span class="line">                   &lt;div style=&quot;width: 100%;float: left;text-align: center;&quot;&gt;</span><br><span class="line">                       &lt;img src=&quot;http://static.xmgj.cn/images/logo/jyzs_120_120.png&quot;</span><br><span class="line">                           style=&quot;width: 80px;height: auto;margin: 160px auto 0px auto;&quot;&gt;</span><br><span class="line">                   &lt;/div&gt;</span><br><span class="line">                   &lt;p</span><br><span class="line">                       style=&quot;width: 100%;float: left;line-height: 30px;text-align: center;margin: 10px 0px 20px 0px;padding: 0px 15px;box-sizing: border-box;color: #666666;font-size: 15px;float: left;&quot;&gt;</span><br><span class="line">                       è¯·ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è·³è½¬åˆ°å¾®ä¿¡å°ç¨‹åº&lt;/p&gt;</span><br><span class="line">                   &lt;div</span><br><span class="line">                       style=&quot; width: 100%;height: 50px;line-height: 50px;font-weight: 300;float: left;text-align: center;&quot;&gt;</span><br><span class="line">                       &lt;div</span><br><span class="line">                           style=&quot;display: block;width: 200px;height: 45px;line-height: 45px;font-weight: 300;font-size: 15px;background-color: #f4f4f4;color: #929f9b;margin: 0px auto;position: relative;border-radius: 45px;border: none;&quot;&gt;</span><br><span class="line">                           ç‚¹å‡»å‰å¾€å¾®ä¿¡å°ç¨‹åº</span><br><span class="line">                       &lt;/div&gt;</span><br><span class="line">                   &lt;/div&gt;</span><br><span class="line">               &lt;/div&gt;</span><br><span class="line">           &lt;/template&gt;</span><br><span class="line">       &lt;/wx-open-launch-weapp&gt;</span><br><span class="line">   &lt;/div&gt;</span><br><span class="line">   &lt;script src=&quot;https://res.wx.qq.com/open/js/jweixin-1.6.0.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">   &lt;script src=&quot;https://gs.yuntech.cc/oa/js/jquery-1.8.3.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h5 id="è„šæœ¬éƒ¨åˆ†"><a href="#è„šæœ¬éƒ¨åˆ†" class="headerlink" title="è„šæœ¬éƒ¨åˆ†"></a>è„šæœ¬éƒ¨åˆ†</h5><ul><li>å…¶ä¸­æ¶‰åŠåˆ°å‡ ä¸ªå¿…å¡«é€‰é¡¹<ul><li>appId  å½“å‰é¡µé¢æ‰€å±çš„å…¬ä¼—å· (æ˜¯å¦è®¤è¯ ã€ æ˜¯å¦è®¾ç½®js sdk å®‰å…¨è°ƒç”¨åŸŸå ç­‰è®¾ç½®)</li><li>signature ç­¾å ï¼ˆéœ€è¦ä½¿ç”¨sh1æ–¹æ³•ï¼‰</li><li>timestamp ç­¾åæ—¶é—´æˆ³ ï¼ˆ10ä½ï¼‰</li><li>å…¶ä»–é€‰é¡¹æŒ‰ç…§ç¤ºä¾‹å›ºå®šå³å¯</li></ul></li></ul><p><img src="https://docimg6.docs.qq.com/image/lXD-yHGHPyef2qa9V9pQow?w=987&h=848"></p><ul><li>ç­¾åç®—æ³• <a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#62">å‚è€ƒåœ°å€</a></li></ul><p><img src="https://docimg7.docs.qq.com/image/kN-gJ_F-vQ_cFSQ9lcbyDA?w=1056&h=1322"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">wx.config(&#123;</span><br><span class="line">                 debug: true,</span><br><span class="line">                 appId: &#x27;wx9ba622522608be72&#x27;, // å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†</span><br><span class="line">                 timestamp, // å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³</span><br><span class="line">                 nonceStr, // å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²</span><br><span class="line">                 signature:signature1, // å¿…å¡«ï¼Œç­¾å</span><br><span class="line">                 jsApiList: [&quot;chooseImage&quot;], //å¿…é¡»è¦ä¸è°ƒç”¨å°ç¨‹åºæ ‡ç­¾æ¸²æŸ“ä¸å‡ºæ¥</span><br><span class="line">                 openTagList: [&#x27;wx-open-launch-weapp&#x27;] //å¿…é¡»å¿…é¡»è¦ä¸è°ƒç”¨å°ç¨‹åºæ ‡ç­¾æ¸²æŸ“ä¸å‡ºæ¥</span><br><span class="line">             &#125;);</span><br><span class="line">         wx.ready(function () &#123;</span><br><span class="line">             console.log(&#x27;wx-ready&#x27;)</span><br><span class="line"></span><br><span class="line">         &#125;);</span><br><span class="line"></span><br><span class="line">         wx.error(function (res) &#123;</span><br><span class="line">             // configä¿¡æ¯éªŒè¯åä¼šæ‰§è¡Œreadyæ–¹æ³•ï¼Œæ‰€æœ‰æ¥å£è°ƒç”¨éƒ½å¿…é¡»åœ¨configæ¥å£è·å¾—ç»“æœä¹‹åï¼Œconfigæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯çš„å¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥å¦‚æœéœ€è¦åœ¨é¡µé¢åŠ è½½æ—¶å°±è°ƒç”¨ç›¸å…³æ¥å£ï¼Œåˆ™é¡»æŠŠç›¸å…³æ¥å£æ”¾åœ¨readyå‡½æ•°ä¸­è°ƒç”¨æ¥ç¡®ä¿æ­£ç¡®æ‰§è¡Œã€‚å¯¹äºç”¨æˆ·è§¦å‘æ—¶æ‰è°ƒç”¨çš„æ¥å£ï¼Œåˆ™å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦æ”¾åœ¨readyå‡½æ•°ä¸­</span><br><span class="line">             console.log(&quot;res-err&quot;, res);</span><br><span class="line">             alert(JSON.stringify(res)+&#x27;--------------&#x27;)</span><br><span class="line">         &#125;);</span><br><span class="line"></span><br><span class="line">         var btn = document.getElementById(&#x27;launch-btn&#x27;);</span><br><span class="line">         btn.addEventListener(&#x27;launch&#x27;, function (e) &#123;</span><br><span class="line">             console.log(&#x27;success&#x27;);</span><br><span class="line">         &#125;);</span><br><span class="line">         btn.addEventListener(&#x27;error&#x27;, function (e) &#123;</span><br><span class="line">             console.log(&#x27;fail&#x27;, e.detail);</span><br><span class="line">         &#125;);</span><br></pre></td></tr></table></figure><h2 id="æœ€ç»ˆç»“æœ"><a href="#æœ€ç»ˆç»“æœ" class="headerlink" title="æœ€ç»ˆç»“æœ"></a>æœ€ç»ˆç»“æœ</h2><p><img src="https://docimg9.docs.qq.com/image/JWQCyGhngPOaRU0A9DbIAw?w=1818&h=698"></p><h3 id="æ³¨æ„äº‹é¡¹ï¼š"><a href="#æ³¨æ„äº‹é¡¹ï¼š" class="headerlink" title="æ³¨æ„äº‹é¡¹ï¼š"></a>æ³¨æ„äº‹é¡¹ï¼š</h3><p>å¦‚æœå¼€å‘è‡ªæµ‹æ²¡æœ‰é—®é¢˜ï¼›åˆ™å¯èƒ½æ˜¯ç™½åå•æˆ–è€…åŸŸåjs sdk æ— è°ƒç”¨æƒé™ï¼›è¯¦è§ å®˜æ–¹æ­¥éª¤ç¬¬ä¸€æ­¥ã€‚ï¼ˆäººå®¶è¯´çš„å¾ˆæ¸…æ¥š~~ï¼‰</p><p>ä¾‹å¦‚ï¼šä½ çš„åŸŸåï¼š<a href="http://kdjfkd.natappfree.cc/a/login">http://kdjfkd.natappfree.cc/a/login</a>  é‚£ä¹ˆä½ çš„å®‰å…¨åŸŸååº”è¯¥é…ç½®ä¸ºï¼šnatappfree.cc  å‘å§ï¼Œä¸è¦http,ä¹Ÿä¸è¦äºŒçº§åŸŸåã€‚</p><p>ç”¨äºç­¾åçš„url å¿…é¡»æ˜¯å…¨éƒ¨çš„åŸŸåï¼š<a href="http://kdjfkd.natappfree.cc/a/login">http://kdjfkd.natappfree.cc/a/login</a></p><p><img src="https://docimg3.docs.qq.com/image/tVD3bHOdZfKJfzet7M6MLw?w=712&h=725" alt="æ•ˆæœå›¾"></p><div class="note blue no-icon flat"><p>è¡¥å……</p></div><h1 id="å°ç¨‹åºå¼€å‘è®°å½•"><a href="#å°ç¨‹åºå¼€å‘è®°å½•" class="headerlink" title="å°ç¨‹åºå¼€å‘è®°å½•"></a>å°ç¨‹åºå¼€å‘è®°å½•</h1><h2 id="æ‰“å¼€å°ç¨‹åº"><a href="#æ‰“å¼€å°ç¨‹åº" class="headerlink" title="æ‰“å¼€å°ç¨‹åº"></a>æ‰“å¼€å°ç¨‹åº</h2><p><a href="https://gs.yuntech.cc/oa/jump-wx.html">æœ€ç»ˆç»“æœ</a></p><p><a href="https://gs.yuntech.cc/oa/jump-wx.html">https://gs.yuntech.cc/oa/jump-wx.html</a></p><p><a href="https://gs.yuntech.cc/oa/open-wx.html">https://gs.yuntech.cc/oa/open-wx.html</a></p><h3 id="å¤–é“¾æ‰“å¼€å°ç¨‹åº-å‚è€ƒæ–‡æ¡£"><a href="#å¤–é“¾æ‰“å¼€å°ç¨‹åº-å‚è€ƒæ–‡æ¡£" class="headerlink" title="å¤–é“¾æ‰“å¼€å°ç¨‹åº  å‚è€ƒæ–‡æ¡£"></a>å¤–é“¾æ‰“å¼€å°ç¨‹åº  <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/url-scheme.html">å‚è€ƒæ–‡æ¡£</a></h3><ul><li>ä½¿ç”¨webé¡µé¢ï¼Œæµè§ˆå™¨è·³è½¬å¾®ä¿¡appçŸ­ç çš„æ–¹å¼è¯†åˆ« </li></ul><p><img src="https://docimg8.docs.qq.com/image/X4ZVj5S-OaG01SUJQK2mhA?w=976&h=856"></p><ul><li>ç‰‡æ®µç”Ÿæˆä½ç½® - å°ç¨‹åºå¹³å°èœå•</li></ul><p><img src="https://docimg8.docs.qq.com/image/L6wI72UBcN0Xk4Wr2RnIHg?w=405&h=168"></p><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¤–é“¾ä¸¥æ ¼åŒºåˆ«äºå¾®ä¿¡å†…æ‰«ç  / åˆ†äº« / ç‚¹å‡»é“¾æ¥ï¼Œæ‰€ä»¥å†…éƒ¨æ‰“å¼€ä½¿ç”¨ä»¥ä¸‹æ–¹æ¡ˆ</p></blockquote><ul><li>éƒ¨åˆ†æºç  - ä½¿ç”¨ç‰‡æ®µ weixin://dl/business/?t=FqTEVoBawKp</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a id=&quot;dianjiimg_links&quot; href=&quot;weixin://dl/business/?t=FqTEVoBawKp&quot;&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if(weixin)&#123;</span><br><span class="line">    window.location.href = &quot;https://gs.yuntech.cc/oa/open-wx.html&quot;;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    window.location.href = &quot;weixin://dl/business/?t=FqTEVoBawKp&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>QQ å†…èŠå¤©åˆ†äº«çŸ­ç ï¼Œä¼šè¯†åˆ«ç¨‹åºå›¾æ ‡ å¯ä»¥ä½¿ç”¨ ä¸‹é¢æ ‡ç­¾</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta http-equiv=&quot;refresh&quot; content=&quot;0;url=weixin://dl/business/?t=FqTEVoBawKp&quot;&gt;</span><br><span class="line">&lt;meta name=&quot;description&quot; content=&quot;æ‰“å¼€å»ºäº‘åŠ©æ‰‹&quot; /&gt;</span><br><span class="line">&lt;meta itemprop=&quot;name&quot; content=&quot;æ‰“å¼€å»ºäº‘åŠ©æ‰‹&quot; /&gt;</span><br><span class="line">&lt;meta itemprop=&quot;image&quot; content=&quot;http://static.xmgj.cn/images/logo/jyzs_120_120.png&quot; /&gt;</span><br></pre></td></tr></table></figure><blockquote><p>æ•ˆæœå¦‚ä¸‹</p></blockquote><p><img src="https://docimg2.docs.qq.com/image/UmtKAxvaLpDH_8TEZZ3igg?w=1080&h=359"></p><h3 id="å¾®ä¿¡å†…éƒ¨æ‰“å¼€å°ç¨‹åº"><a href="#å¾®ä¿¡å†…éƒ¨æ‰“å¼€å°ç¨‹åº" class="headerlink" title="å¾®ä¿¡å†…éƒ¨æ‰“å¼€å°ç¨‹åº"></a>å¾®ä¿¡å†…éƒ¨æ‰“å¼€å°ç¨‹åº</h3><blockquote><p>å¯ä»¥ä¸å¤–é“¾æ‰“å¼€å°ç¨‹åºä½¿ç”¨åŒä¸€ä¸ªåœ°å€ï¼Œä½†æ˜¯åœ°å€å†…éƒ¨ä¼šè¿›è¡Œè·³è½¬åˆ¤æ–­ã€‚æ— ç¼è·³è½¬ã€‚è¯¦ç»†æ–¹æ¡ˆè§å…¬ä¼—å·æ–‡æ¡£</p></blockquote><h2 id="å°ç¨‹åºä»£ç å¼€å‘"><a href="#å°ç¨‹åºä»£ç å¼€å‘" class="headerlink" title="å°ç¨‹åºä»£ç å¼€å‘"></a>å°ç¨‹åºä»£ç å¼€å‘</h2><blockquote><p>components + node_modules ç›®å½•ä¸‹çš„ç»„ä»¶æ˜¯å…¨å±€èµ„æºï¼Œ å¦‚æœä½¿ç”¨åˆ†åŒ…ï¼Œ åˆ™éœ€è¦æŠŠå…·ä½“èµ„æºå‰ªåˆ‡åˆ°åˆ†åŒ…ä¸­ï¼Œ ç”¨æ¥èŠ‚çœä¸»åŒ…ï¼ˆåˆå§‹åŒ…ï¼‰ä½“ç§¯ã€‚æé«˜å“åº”é€Ÿåº¦</p></blockquote><h2 id="å…¬ä¼—å·ç»„ä»¶"><a href="#å…¬ä¼—å·ç»„ä»¶" class="headerlink" title="å…¬ä¼—å·ç»„ä»¶"></a>å…¬ä¼—å·ç»„ä»¶</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">official-account</span>&gt;</span><span class="tag">&lt;/<span class="name">official-account</span>&gt;</span></span><br></pre></td></tr></table></figure><p><a href="https://developers.weixin.qq.com/miniprogram/dev/component/official-account.html">å®˜æ–¹åœ°å€</a></p><blockquote><p>éœ€è¦åˆ¤æ–­æ˜¯å¦å…³æ³¨ â€“è¿‡â€“ å…¬ä¼—å·</p></blockquote><h2 id="UnionID-æœºåˆ¶è¯´æ˜"><a href="#UnionID-æœºåˆ¶è¯´æ˜" class="headerlink" title="UnionID æœºåˆ¶è¯´æ˜"></a>UnionID æœºåˆ¶è¯´æ˜</h2><p>å¦‚æœå¼€å‘è€…æ‹¥æœ‰å¤šä¸ªç§»åŠ¨åº”ç”¨ã€ç½‘ç«™åº”ç”¨ã€å’Œå…¬ä¼—å¸å·ï¼ˆåŒ…æ‹¬å°ç¨‹åºï¼‰ï¼Œå¯é€šè¿‡ UnionID æ¥åŒºåˆ†ç”¨æˆ·çš„å”¯ä¸€æ€§ï¼Œå› ä¸ºåªè¦æ˜¯åŒä¸€ä¸ªå¾®ä¿¡å¼€æ”¾å¹³å°å¸å·ä¸‹çš„ç§»åŠ¨åº”ç”¨ã€ç½‘ç«™åº”ç”¨å’Œå…¬ä¼—å¸å·ï¼ˆåŒ…æ‹¬å°ç¨‹åºï¼‰ï¼Œç”¨æˆ·çš„ UnionID æ˜¯å”¯ä¸€çš„ã€‚æ¢å¥è¯è¯´ï¼ŒåŒä¸€ç”¨æˆ·ï¼Œå¯¹åŒä¸€ä¸ªå¾®ä¿¡å¼€æ”¾å¹³å°ä¸‹çš„ä¸åŒåº”ç”¨ï¼ŒUnionIDæ˜¯ç›¸åŒçš„ã€‚</p><h3 id="UnionIDè·å–é€”å¾„"><a href="#UnionIDè·å–é€”å¾„" class="headerlink" title="UnionIDè·å–é€”å¾„"></a>UnionIDè·å–é€”å¾„</h3><p>ç»‘å®šäº†å¼€å‘è€…å¸å·çš„å°ç¨‹åºï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹é€”å¾„è·å– UnionIDã€‚</p><ol><li>å¼€å‘è€…å¯ä»¥ç›´æ¥é€šè¿‡ <a href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/login/wx.login.html">wx.login</a> + <code>code2Session</code> è·å–åˆ°è¯¥ç”¨æˆ· UnionIDï¼Œæ— é¡»ç”¨æˆ·æˆæƒã€‚</li><li>å°ç¨‹åºç«¯è°ƒç”¨äº‘å‡½æ•°æ—¶ï¼Œå¯åœ¨äº‘å‡½æ•°ä¸­é€šè¿‡ <a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/utils/Cloud.getWXContext.html">Cloud.getWXContext</a> è·å– UnionIDã€‚</li></ol><h3 id="å¾®ä¿¡å¼€æ”¾å¹³å°ç»‘å®šå°ç¨‹åºæµç¨‹"><a href="#å¾®ä¿¡å¼€æ”¾å¹³å°ç»‘å®šå°ç¨‹åºæµç¨‹" class="headerlink" title="å¾®ä¿¡å¼€æ”¾å¹³å°ç»‘å®šå°ç¨‹åºæµç¨‹"></a>å¾®ä¿¡å¼€æ”¾å¹³å°ç»‘å®šå°ç¨‹åºæµç¨‹</h3><p>ç™»å½•<a href="https://open.weixin.qq.com/">å¾®ä¿¡å¼€æ”¾å¹³å°</a> â€” ç®¡ç†ä¸­å¿ƒ â€” å°ç¨‹åº â€” ç»‘å®šå°ç¨‹åº</p>]]></content>
    
    
    <summary type="html">å¾®ä¿¡å°ç¨‹åº</summary>
    
    
    
    <category term="å¾®ä¿¡å°ç¨‹åº" scheme="https://lovelee.cn/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    
    <category term="å¾®ä¿¡å°ç¨‹åº" scheme="https://lovelee.cn/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>å¾®ä¿¡å…¬ä¼—å·èœå•ç½‘é¡µå¼€å‘</title>
    <link href="https://lovelee.cn/2022/08/29/%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BC%80%E5%8F%91/"/>
    <id>https://lovelee.cn/2022/08/29/%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BC%80%E5%8F%91/</id>
    <published>2022-08-29T12:53:09.204Z</published>
    <updated>2022-08-27T12:46:49.096Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¾®ä¿¡å…¬ä¼—å·å¼€å‘"><a href="#å¾®ä¿¡å…¬ä¼—å·å¼€å‘" class="headerlink" title="å¾®ä¿¡å…¬ä¼—å·å¼€å‘"></a>å¾®ä¿¡å…¬ä¼—å·å¼€å‘</h1><h2 id="åŸºç¡€æ“ä½œ"><a href="#åŸºç¡€æ“ä½œ" class="headerlink" title="åŸºç¡€æ“ä½œ"></a>åŸºç¡€æ“ä½œ</h2><blockquote><p> <a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_webpage_authorization.html">å®˜æ–¹æ–‡æ¡£</a></p></blockquote><blockquote><p><a href="https://blog.csdn.net/u013675978/article/details/109993861">å°ç¨‹åºå†…åµŒå…¬ä¼—å·æˆæƒæ€è·¯</a></p></blockquote><h3 id="ã€å…¬ä¼—å·å¾®ä¿¡å¹³å°ã€‘"><a href="#ã€å…¬ä¼—å·å¾®ä¿¡å¹³å°ã€‘" class="headerlink" title="ã€å…¬ä¼—å·å¾®ä¿¡å¹³å°ã€‘"></a>ã€å…¬ä¼—å·å¾®ä¿¡å¹³å°ã€‘</h3><ul><li>å¹³å°ä¸­é…ç½®éœ€è¦ç”¨åˆ°çš„å…¥å£</li></ul><p><img src="https://docimg5.docs.qq.com/image/NwB4yh7GnxFbBLt91GbXpw.png?w=1280&h=555.5115511551155"></p><ul><li>IPç™½åå•è®¾ç½®</li></ul><p><img src="https://docimg10.docs.qq.com/image/BsQi5Q8FYeiUDFyqQqRPuA.png?w=679&h=583"></p><ul><li>ç”¨æˆ·ç½‘é¡µæˆæƒåŒæ„æˆæƒå…¬ä¼—å·åŸŸåè®¾ç½® ä¸ å›è°ƒé¡µé¢ åŸŸåç›¸åŒï¼Œä¸‹è½½æ–‡ä»¶æ”¾ç½®æ ¹ç›®å½• ï¼ˆç½‘ç«™éœ€è¦è¿›è¡Œå¤‡æ¡ˆã€ä¸”ä¸èƒ½ä¸ºipåœ°å€ï¼‰è·å–code</li></ul><p><img src="https://docimg7.docs.qq.com/image/OrsDAxzDfNdPUAIF2numeA.png?w=586&h=456"></p><ul><li>å…¬ä¼—å·èœå•é‡ŒæŒ‚å‡ºçš„webé“¾æ¥è¦ä½¿ç”¨åŸŸåå¹¶é…æœ‰å®‰å…¨è¯ä¹¦ï¼Œä¸ç„¶ä¼šå‡ºç°è·³è½¬æç¤º</li></ul><p><img src="https://docimg5.docs.qq.com/image/0n6K1CkH1JHoCUxCw-TttA.png?w=297&h=640" alt="æç¤º"></p><h3 id="ã€å¼€å‘ç¨‹åºå‰ç«¯ã€‘"><a href="#ã€å¼€å‘ç¨‹åºå‰ç«¯ã€‘" class="headerlink" title="ã€å¼€å‘ç¨‹åºå‰ç«¯ã€‘"></a>ã€å¼€å‘ç¨‹åºå‰ç«¯ã€‘</h3><ul><li>ä¸æˆæƒé¡µå›è°ƒåŸŸåè¿›è¡Œé…åˆï¼Œåœ¨é‡å®šå‘åè·å–åˆ°urlä¸­çš„code</li></ul><p><img src="https://docimg5.docs.qq.com/image/YKQ6fzWX8cjIQn-VAm20jQ.png?w=1280&h=671.3353115727002"></p><ul><li>é…ç½®å…¬ä¼—å·èœå•é“¾æ¥</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">https://open.weixin.qq.com/connect/oauth2/authorize?appid=appid&amp;redirect_uri=url&amp;response_type=code&amp;scope=snsapi_base&amp;state=1#wechat_redirect</span><br><span class="line"></span><br><span class="line">å­—æ®µæ›¿æ¢ï¼š</span><br><span class="line"></span><br><span class="line">appid =&gt; çœŸå®çš„å…¬ä¼—å·appid</span><br><span class="line"></span><br><span class="line">redirect_uri =&gt; æ³¨æ„ï¼šæ­¤å­—æ®µä¸€å®šè¦è¿›è¡Œè½¬ç (è§„åˆ™è§ä¸‹é™„å½•1)ï¼Œä¸å¯ç›´æ¥ä½¿ç”¨å®Œæ•´url ï¼Œä¼šæç¤º &quot;redirect_uriåŸŸåä¸åå°é…ç½®ä¸ä¸€è‡´,é”™è¯¯ç :10003&quot; </span><br><span class="line"></span><br><span class="line">scope =&gt; 1. snsapi_base  2. snsapi_userinfo</span><br><span class="line"></span><br><span class="line">å…¶ä»–å­—æ®µä¸ºå›ºå®šå€¼</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ã€å¼€å‘ç¨‹åºåå°ã€‘"><a href="#ã€å¼€å‘ç¨‹åºåå°ã€‘" class="headerlink" title="ã€å¼€å‘ç¨‹åºåå°ã€‘"></a>ã€å¼€å‘ç¨‹åºåå°ã€‘</h3><ul><li>é€šè¿‡codeæ‹¿åˆ°access_tokenè·å–åˆ°openid æˆ–è€…è¿›ä¸€æ­¥æ‹¿åˆ°userinfo ï¼ˆè¯¦è§æ–‡æ¡£ï¼‰ï¼ˆå…¬ä¼—å·ç½‘é¡µaccess_tokenè·å–æ— æ¬¡æ•°ä¸Šé™ï¼Œä¸åŒäºsdkä¸­çš„åŸºç¡€access_tokenè·å–ï¼‰</li></ul><p><img src="https://docimg10.docs.qq.com/image/YN0ACmB3zNAJ49_rQpDt_g.png?w=1280&h=323.44086021505376"></p><p><img src="https://docimg5.docs.qq.com/image/hVIYcxJqOH-r1mBZOumx4Q.png?w=1172&h=432"></p><p><img src="https://docimg8.docs.qq.com/image/ro_nLFLYJqQRsOJfTYnVzA.png?w=940&h=161"></p><hr><blockquote><p>é™„å½•1:(10003é”™è¯¯æç¤ºå¤„ç†)</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å…¬ä¼—å·èœå•é‡Œé‡å®šå‘åœ°å€éœ€è¦æ›¿æ¢ç‰¹æ®Šå­—ç¬¦ï¼Œå¦åˆ™ä¼šå‡ºç°10003é”™è¯¯æç¤º</span><br><span class="line"></span><br><span class="line">url.replace(/\//g,&#x27;%2f&#x27;).replace(/\?/g,&#x27;%3f&#x27;).replace(/\=/g,&#x27;%3d&#x27;).replace(/\:/g,&#x27;%3a&#x27;)</span><br><span class="line"></span><br><span class="line">re_url.replace(/%2f/g,&#x27;/&#x27;).replace(/%3f/g,&#x27;?&#x27;).replace(/%3d/g,&#x27;=&#x27;).replace(/%3a/g,&#x27;:&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>é”™è¯¯æç¤ºï¼š</p></blockquote><p><img src="https://docimg2.docs.qq.com/image/FvD-Io7mzRm4Au9rUjij2A.png?w=349&h=212"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å¾®ä¿¡å…¬ä¼—å·å¼€å‘&quot;&gt;&lt;a href=&quot;#å¾®ä¿¡å…¬ä¼—å·å¼€å‘&quot; class=&quot;headerlink&quot; title=&quot;å¾®ä¿¡å…¬ä¼—å·å¼€å‘&quot;&gt;&lt;/a&gt;å¾®ä¿¡å…¬ä¼—å·å¼€å‘&lt;/h1&gt;&lt;h2 id=&quot;åŸºç¡€æ“ä½œ&quot;&gt;&lt;a href=&quot;#åŸºç¡€æ“ä½œ&quot; class=&quot;headerlink&quot; titl</summary>
      
    
    
    
    <category term="å¾®ä¿¡å…¬ä¼—å·" scheme="https://lovelee.cn/categories/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7/"/>
    
    
    <category term="å¾®ä¿¡å…¬ä¼—å·" scheme="https://lovelee.cn/tags/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7/"/>
    
  </entry>
  
  <entry>
    <title>webpackä½¿ç”¨å°è®¡</title>
    <link href="https://lovelee.cn/2022/08/29/webpack/"/>
    <id>https://lovelee.cn/2022/08/29/webpack/</id>
    <published>2022-08-29T12:53:09.200Z</published>
    <updated>2022-08-27T12:42:04.823Z</updated>
    
    <content type="html"><![CDATA[<h1 id="webpackä½¿ç”¨å°è®¡"><a href="#webpackä½¿ç”¨å°è®¡" class="headerlink" title="webpackä½¿ç”¨å°è®¡"></a>webpackä½¿ç”¨å°è®¡</h1><h2 id="åˆå§‹åŒ–-å®‰è£…"><a href="#åˆå§‹åŒ–-å®‰è£…" class="headerlink" title="åˆå§‹åŒ–-å®‰è£…"></a>åˆå§‹åŒ–-å®‰è£…</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">npm init -y </span><br><span class="line"></span><br><span class="line">npm install webpack webpack-dev-server webpack-cli --save-dev</span><br><span class="line"></span><br><span class="line">ä¸‰è€…ç¼ºä¸€ä¸å¯ã€‚å¼€å‘åˆ°æ‰“åŒ…å¿…å¤‡</span><br><span class="line"></span><br><span class="line">æˆ–è€…ä½¿ç”¨yarn  (è¿™é‡Œnpm å®‰è£…åŒ…ä¸å¤ªæ¨èç”¨yarn å› ä¸ºå¥½å¤šèµ„æº yarn å®‰è£…ä¼šå‡ºé”™ã€‚é¿å…ä¸å¿…è¦çš„éº»çƒ¦å°±ç›´æ¥ npm )</span><br><span class="line"></span><br><span class="line">yarn add webpack webpack-cli webpack-dev-server --dev</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>npx webpack è¿™é‡Œçš„npx</p></blockquote><blockquote><p>Node è‡ªå¸¦ npm æ¨¡å—ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨ npx å‘½ä»¤ã€‚ä¸‡ä¸€ä¸èƒ½ç”¨ï¼Œå°±è¦æ‰‹åŠ¨å®‰è£…ä¸€ä¸‹ã€‚ npm install -g npx </p></blockquote><blockquote><p>npx å°†èµ„æºä¸‹è½½åˆ°ä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼Œä½¿ç”¨ä»¥åå†åˆ é™¤</p></blockquote><blockquote><p><code>å¦‚æœæ­¥éª¤ä¸å¯¹ï¼Œé‡æ–°å†æ¥ã€‚ä¸­é€”é‡æ¥ä¼šå¯¼è‡´ä¸€ç³»åˆ—é—®é¢˜</code></p></blockquote><h2 id="èµ·æ­¥"><a href="#èµ·æ­¥" class="headerlink" title="èµ·æ­¥"></a>èµ·æ­¥</h2><h3 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1. cssç”Ÿæˆå•ç‹¬æ–‡ä»¶  / å·²æœ‰æ›´æ–°çš„æ–¹æ³•æ›¿ä»£</span><br><span class="line">npm install extract-text-webpack-plugin --save-dev </span><br><span class="line">const ExtractTextPlugin = require(&#x27;extract-text-webpack-plugin&#x27;); //cssç”Ÿæˆå•ç‹¬æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">2. æ¨èä½¿ç”¨çš„webpack css å¤„ç†æ¨¡å—</span><br><span class="line">npm install --save-dev mini-css-extract-plugin </span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">// æ„å»ºä¼˜åŒ–æ’ä»¶</span><br><span class="line">//optimizationä¸entry/pluginsåŒçº§</span><br><span class="line">optimization: &#123; //åˆå¹¶å‹ç¼©</span><br><span class="line">minimize: true,</span><br><span class="line">minimizer: [new TerserJSPlugin(&#123;&#125;), new OptimizeCSSAssetsPlugin(&#123;&#125;)],</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">optimization: &#123;</span><br><span class="line">minimize: true,</span><br><span class="line">minimizer: [new TerserJSPlugin(&#123;&#125;), new OptimizeCSSAssetsPlugin(&#123;&#125;)],</span><br><span class="line">splitChunks: &#123;</span><br><span class="line">cacheGroups: &#123; // å¤šä¸ªcss æå–åˆ°ä¸€ä¸ªstyles.cssæ–‡ä»¶ä¸­</span><br><span class="line">styles: &#123;</span><br><span class="line">name: &#x27;styles&#x27;,</span><br><span class="line">test: /\.css$/,</span><br><span class="line">chunks: &#x27;all&#x27;,</span><br><span class="line">enforce: true,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">new HtmlWebpackPlugin(&#123; //html</span><br><span class="line">template: &#x27;./src/index.html&#x27;,</span><br><span class="line">&#125;),</span><br><span class="line">new MiniCssExtractPlugin(&#123;</span><br><span class="line">filename: &#x27;[name].css&#x27;,</span><br><span class="line">chunkFilename: &#x27;[id].css&#x27;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">],</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ­£å¸¸é…ç½®"><a href="#æ­£å¸¸é…ç½®" class="headerlink" title="æ­£å¸¸é…ç½®"></a>æ­£å¸¸é…ç½®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">entry:&#x27;./src/index.js&#x27;,</span><br><span class="line">output: &#123;</span><br><span class="line">filename: &#x27;main.js&#x27;, //å•ä¸ªæ–‡ä»¶åå­—</span><br><span class="line">path: __dirname + &#x27;/dist&#x27;//å¦ä¸€ç§é…ç½®å‡ºå£åœ°å€æ–¹æ³•</span><br><span class="line">&#125;,</span><br><span class="line">-----å¦ä¸€ç§é…ç½®-----</span><br><span class="line">entry: &#123; </span><br><span class="line">index: &#x27;./src/index.js&#x27;</span><br><span class="line">&#125;,</span><br><span class="line">output: &#123;</span><br><span class="line">filename: &#x27;[name].js&#x27;,</span><br><span class="line">path: path.resolve(__dirname, &#x27;dist&#x27;)</span><br><span class="line">&#125;,</span><br><span class="line">module: &#123;</span><br><span class="line">rules: [</span><br><span class="line">&#123;</span><br><span class="line">test: /\.less$/,</span><br><span class="line">// use: [&#x27;style-loader&#x27;, &#x27;css-loader&#x27;, &#x27;less-loader&#x27;]</span><br><span class="line">use: [&#123;</span><br><span class="line">loader: MiniCssExtractPlugin.loader,</span><br><span class="line">options: &#123;</span><br><span class="line">esModule: true,</span><br><span class="line">&#125;</span><br><span class="line">&#125;, &#x27;css-loader&#x27;, &#x27;less-loader&#x27;]</span><br><span class="line">&#125;,</span><br><span class="line">]</span><br><span class="line">&#125;,</span><br><span class="line">devServer: &#123;</span><br><span class="line">port: 8099,</span><br><span class="line">// å®ç°æ”¯æŒBroswerè·¯ç”±</span><br><span class="line">historyApiFallback: true,</span><br><span class="line">hot: true,</span><br><span class="line">// contentBase: &#x27;dist&#x27;,</span><br><span class="line">host: &#x27;localhost&#x27;,</span><br><span class="line">compress: true,</span><br><span class="line">open: true</span><br><span class="line">&#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å‘"><a href="#å‘" class="headerlink" title="å‘"></a>å‘</h2><h3 id="å‘1"><a href="#å‘1" class="headerlink" title="å‘1"></a>å‘1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Error: Chunk.entrypoints: Use Chunks.groupsIterable and filter by instanceof Entrypoint insteadè§£å†³</span><br><span class="line"></span><br><span class="line">webpack4.0ä»¥ä¸Šç”¨3.x extract-webpack-plugin æ‰“åŒ…ä¼šä¸å…¼å®¹ï¼Œextract-webpack-pluginå‡çº§å°±å¯ä»¥äº†</span><br><span class="line"></span><br><span class="line">npm install --save-dev extract-text-webpack-plugin@4.0.0-beta.0</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å‘2"><a href="#å‘2" class="headerlink" title="å‘2"></a>å‘2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">Error: Cannot find module &#x27;@babel</span><br><span class="line"></span><br><span class="line">é—®é¢˜äº§ç”Ÿçš„åŸå› </span><br><span class="line">babel-loaderå’Œbabel-coreç‰ˆæœ¬ä¸å¯¹åº”æ‰€äº§ç”Ÿçš„ï¼Œ</span><br><span class="line"></span><br><span class="line">babel-loader 8.xå¯¹åº”babel-core 7.x</span><br><span class="line">babel-loader 7.xå¯¹åº”babel-core 6.x</span><br><span class="line"></span><br><span class="line">å¦‚ä½•è§£å†³</span><br><span class="line">1ã€ å¸è½½æ—§çš„babel-core</span><br><span class="line">npm un babel-core</span><br><span class="line">2ã€ å®‰è£…æ–°çš„babel-core</span><br><span class="line">npm i -D @babel/core</span><br><span class="line">3ã€ å¸è½½æ—§çš„babel-preset</span><br><span class="line">npm un babel-preset-env</span><br><span class="line">npm un babel-preset-stage-0</span><br><span class="line">4ã€ å®‰è£…æ–°çš„babel-preset</span><br><span class="line">npm i @babel/preset-react</span><br><span class="line">npm i @babel/preset-env</span><br><span class="line">npm i babel-preset-mobx</span><br><span class="line">5ã€ å¸è½½æ—§çš„babel-plugin</span><br><span class="line">npm un babel-plugin-transform-runtime</span><br><span class="line">6ã€ å®‰è£…æ–°çš„babel-plugin</span><br><span class="line">npm install --save-dev @babel/plugin-proposal-object-rest-spread</span><br><span class="line">npm install --save-dev @babel/plugin-transform-runtime</span><br><span class="line">npm install --save @babel/runtime</span><br><span class="line">7ã€ ä¿®æ”¹.babelrcæ–‡ä»¶</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &quot;presets&quot;: [&quot;@babel/preset-env&quot;, &quot;@babel/preset-react&quot;, &quot;mobx&quot;],</span><br><span class="line">    &quot;plugins&quot;: [</span><br><span class="line">        &quot;@babel/plugin-proposal-object-rest-spread&quot;,</span><br><span class="line">        &quot;@babel/plugin-transform-runtime&quot;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å®Œæ•´çš„-webpack-config-js-è‡ªç”¨"><a href="#å®Œæ•´çš„-webpack-config-js-è‡ªç”¨" class="headerlink" title="å®Œæ•´çš„ webpack.config.js - è‡ªç”¨"></a>å®Œæ•´çš„ <code>webpack.config.js</code> - è‡ªç”¨</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">const path = require(&#x27;path&#x27;);</span><br><span class="line">const webpack = require(&#x27;webpack&#x27;);</span><br><span class="line">// å¯¼å…¥é webpack è‡ªå¸¦é»˜è®¤æ’ä»¶</span><br><span class="line">const HtmlWebpackPlugin = require(&#x27;html-webpack-plugin&#x27;); // html</span><br><span class="line">const MiniCssExtractPlugin = require(&#x27;mini-css-extract-plugin&#x27;); //css å¤„ç†</span><br><span class="line">const TerserJSPlugin = require(&#x27;terser-webpack-plugin&#x27;); // jså‹ç¼©</span><br><span class="line">const OptimizeCSSAssetsPlugin = require(&#x27;optimize-css-assets-webpack-plugin&#x27;); //csså‹ç¼©</span><br><span class="line"></span><br><span class="line">let env = process.env.NODE_ENV == &quot;development&quot; ? &quot;development&quot; : &quot;production&quot;;</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">mode: &#x27;development&#x27;, // development  production</span><br><span class="line">entry: &#123;</span><br><span class="line">index: &#x27;./src/index.js&#x27;</span><br><span class="line">&#125;,</span><br><span class="line">output: &#123;</span><br><span class="line">filename: &#x27;[name].js&#x27;,</span><br><span class="line">path: path.resolve(__dirname, &#x27;dist&#x27;)</span><br><span class="line">&#125;,</span><br><span class="line">optimization: &#123; </span><br><span class="line">minimize: true,</span><br><span class="line">minimizer: [new TerserJSPlugin(&#123;&#125;), new OptimizeCSSAssetsPlugin(&#123;&#125;)],</span><br><span class="line">&#125;,</span><br><span class="line">plugins: [</span><br><span class="line">new HtmlWebpackPlugin(&#123; //html</span><br><span class="line">template: &#x27;./src/index.html&#x27;,</span><br><span class="line">&#125;),</span><br><span class="line">new MiniCssExtractPlugin(&#123;</span><br><span class="line">filename: &#x27;[name].css&#x27;,</span><br><span class="line">chunkFilename: &#x27;[id].css&#x27;,</span><br><span class="line">&#125;)</span><br><span class="line">],</span><br><span class="line">module: &#123;</span><br><span class="line">rules: [&#123;</span><br><span class="line">test: /\.(js|jsx)$/,</span><br><span class="line">use: [&quot;babel-loader&quot;],</span><br><span class="line">exclude: /node_modules/</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">test: /\.css$/i,</span><br><span class="line">use: [&#123;</span><br><span class="line">loader: MiniCssExtractPlugin.loader,</span><br><span class="line">options: &#123;</span><br><span class="line">esModule: true,</span><br><span class="line">&#125;</span><br><span class="line">&#125;, &#x27;css-loader&#x27;]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">test: /\.ts$/,</span><br><span class="line">use: &#x27;ts-loader&#x27;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">test: /\.less$/,</span><br><span class="line">use: [&#123;</span><br><span class="line">loader: MiniCssExtractPlugin.loader,</span><br><span class="line">options: &#123;</span><br><span class="line">esModule: true,</span><br><span class="line">&#125;</span><br><span class="line">&#125;, &#x27;css-loader&#x27;, &#x27;less-loader&#x27;]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">test: /\.(sa|sc)ss$/,</span><br><span class="line">use: [&#123;</span><br><span class="line">loader: MiniCssExtractPlugin.loader,</span><br><span class="line">options: &#123;</span><br><span class="line">esModule: true,</span><br><span class="line">hmr: process.env.NODE_ENV === &#x27;development&#x27;,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;,</span><br><span class="line">&#x27;css-loader&#x27;,</span><br><span class="line">&#x27;sass-loader&#x27;,</span><br><span class="line">],</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">test: /.(jpg|png|gif)$/,</span><br><span class="line">use: &#x27;url-loader?limit=8000&#x27;</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;,</span><br><span class="line">devServer: &#123;</span><br><span class="line">port: 8099,</span><br><span class="line">historyApiFallback: true,</span><br><span class="line">hot: true,</span><br><span class="line">host: &#x27;localhost&#x27;,</span><br><span class="line">compress: true,</span><br><span class="line">open: true</span><br><span class="line">&#125;,</span><br><span class="line">devtool: &#x27;cheap-module-eval-source-map&#x27;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;webpackä½¿ç”¨å°è®¡&quot;&gt;&lt;a href=&quot;#webpackä½¿ç”¨å°è®¡&quot; class=&quot;headerlink&quot; title=&quot;webpackä½¿ç”¨å°è®¡&quot;&gt;&lt;/a&gt;webpackä½¿ç”¨å°è®¡&lt;/h1&gt;&lt;h2 id=&quot;åˆå§‹åŒ–-å®‰è£…&quot;&gt;&lt;a href=&quot;#åˆå§‹åŒ–-å®‰è£…&quot; cla</summary>
      
    
    
    
    <category term="å‰ç«¯" scheme="https://lovelee.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="webpack" scheme="https://lovelee.cn/tags/webpack/"/>
    
  </entry>
  
  <entry>
    <title>Vueä½¿ç”¨å°è®¡</title>
    <link href="https://lovelee.cn/2022/08/29/vue%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%A1/"/>
    <id>https://lovelee.cn/2022/08/29/vue%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%A1/</id>
    <published>2022-08-29T12:53:09.197Z</published>
    <updated>2022-08-27T12:40:56.658Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç»„ä»¶é€’å½’"><a href="#ç»„ä»¶é€’å½’" class="headerlink" title="ç»„ä»¶é€’å½’"></a>ç»„ä»¶é€’å½’</h2><ul><li>ç»„ä»¶é€’å½’æ—¶ï¼Œå‡ºç°ä¸‹æ¬¡æ ‡ç­¾ä¸æ¸²æŸ“ã€‚é—®é¢˜å¤„ç†ï¼š<ul><li><code>name</code> ä¸ºç»„ä»¶å¢åŠ nameå±æ€§</li></ul></li></ul><h2 id="åº”ç”¨è¿‡ç¨‹"><a href="#åº”ç”¨è¿‡ç¨‹" class="headerlink" title="åº”ç”¨è¿‡ç¨‹"></a>åº”ç”¨è¿‡ç¨‹</h2><ul><li><p>@scroll ç»‘å®šåæ— æ•ˆ</p><ul><li>ç»™ç»‘å®šå…ƒç´ å¢åŠ  æ ·å¼ <code>overflow-x:hidden; | overflow:auto;</code></li></ul></li><li><p>@click ç»‘å®šäº‹ä»¶é˜»æ­¢è¡Œä¸º</p><ul><li>stop é˜»æ­¢å†’æ³¡</li><li>prevent é˜»æ­¢é»˜è®¤äº‹ä»¶</li><li>self åªä½œç”¨äºå½“å‰ç»‘å®šå…ƒç´ </li><li>ä½¿ç”¨ä¿®é¥°ç¬¦æ—¶ï¼Œé¡ºåºå¾ˆé‡è¦ï¼Œç›¸åº”çš„ä»£ç ä¼šä»¥åŒæ ·çš„é¡ºåºäº§ç”Ÿã€‚</li><li>ä¾‹å¦‚ï¼šç”¨ @click.prevent.self ä¼šé˜»æ­¢æ‰€æœ‰çš„ç‚¹å‡»ï¼Œè€Œ @click.self.prevent åªä¼šé˜»æ­¢å…ƒç´ ä¸Šçš„ç‚¹å‡»ã€‚</li></ul></li><li><p>é¡µé¢ä½¿ç”¨å¤šä¸ªç»„ä»¶åªå±•ç¤ºä¸€ä¸ª</p><ul><li>å°†ç»„ä»¶ä½¿ç”¨åŒæ ‡ç­¾å±•ç¤º å¦‚ <Loading /> æ”¹ä¸º <Loading></Loading></li></ul></li><li><p>hook </p></li><li><p>v-on</p></li><li><p>v-bind=â€$propsâ€ å±•å¼€å¯¹è±¡ å¯ä»¥çœå»å†™å¾ˆå¤š é”®å€¼å¯¹ (ç”¨äºçˆ¶å­ç»„ä»¶ä¼ å€¼)</p></li><li><p>å°†ä¸ä¼šåæœŸæ›´æ”¹çš„æ•°æ® ï¼ˆæˆ–å¤§æ•°æ®ï¼‰æ”¾å¼ƒç›‘å¬</p><ul><li>Object.freeze()</li></ul></li><li><p>ç®€æ˜“çš„store</p><ul><li>const state = Vue.observable({ count: 0 })</li></ul></li><li><p>å¼‚æ­¥ç»„ä»¶ + loading æ•ˆæœ</p><ul><li>ä½¿ç”¨vuexçŠ¶æ€æ§åˆ¶vmå®ä¾‹ã€‚dispatchæ§åˆ¶ç»„ä»¶çš„v-ifï¼Œå°±ä¸ä¼šå‡ºç°ç»„ä»¶æœªæ³¨å†Œçš„é”™è¯¯æˆ–å…¶ä»–é”™è¯¯</li></ul></li></ul><h2 id="å…¶ä»–æ³¨æ„äº‹é¡¹-å‘ç‚¹"><a href="#å…¶ä»–æ³¨æ„äº‹é¡¹-å‘ç‚¹" class="headerlink" title="å…¶ä»–æ³¨æ„äº‹é¡¹ / å‘ç‚¹"></a>å…¶ä»–æ³¨æ„äº‹é¡¹ / å‘ç‚¹</h2><ul><li>ERROR Invalid options in vue.config.js: â€œbaseUrlâ€ is not allowed</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">vueé¡¹ç›®ç‰ˆæœ¬æ˜¯ 3.10.0 æŠ¥é”™</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  baseUrl: process.env.NODE_ENV === &#x27;production&#x27;</span><br><span class="line">? &#x27;./&#x27;</span><br><span class="line">: &#x27;/&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">åœ¨vue-cli.3.3ç‰ˆæœ¬å baseUrlè¢«åºŸé™¤äº†ï¼Œå› æ­¤è¿™è¾¹è¦å†™æˆ publicPath</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  publicPath: process.env.NODE_ENV === &#x27;production&#x27;</span><br><span class="line">? &#x27;./&#x27;</span><br><span class="line">: &#x27;/&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>â€‹    </p><h2 id="vue-property-decorator"><a href="#vue-property-decorator" class="headerlink" title="vue-property-decorator"></a>vue-property-decorator</h2><ul><li><a href="https://www.jianshu.com/p/d8ed3aa76e9b">https://www.jianshu.com/p/d8ed3aa76e9b</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;ç»„ä»¶é€’å½’&quot;&gt;&lt;a href=&quot;#ç»„ä»¶é€’å½’&quot; class=&quot;headerlink&quot; title=&quot;ç»„ä»¶é€’å½’&quot;&gt;&lt;/a&gt;ç»„ä»¶é€’å½’&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ç»„ä»¶é€’å½’æ—¶ï¼Œå‡ºç°ä¸‹æ¬¡æ ‡ç­¾ä¸æ¸²æŸ“ã€‚é—®é¢˜å¤„ç†ï¼š&lt;ul&gt;
&lt;li&gt;&lt;code&gt;name&lt;/code&gt; ä¸ºç»„ä»¶å¢åŠ nam</summary>
      
    
    
    
    <category term="å‰ç«¯" scheme="https://lovelee.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="Vue" scheme="https://lovelee.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Vue-cli4+</title>
    <link href="https://lovelee.cn/2022/08/29/Vue-cli4+/"/>
    <id>https://lovelee.cn/2022/08/29/Vue-cli4+/</id>
    <published>2022-08-29T12:53:09.191Z</published>
    <updated>2022-08-27T12:39:45.690Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Vue-cli-ä½¿ç”¨å°è®¡"><a href="#Vue-cli-ä½¿ç”¨å°è®¡" class="headerlink" title="Vue-cli ä½¿ç”¨å°è®¡"></a>Vue-cli ä½¿ç”¨å°è®¡</h1><blockquote><p>å®˜ç½‘: <a href="https://cli.vuejs.org/zh/guide/">https://cli.vuejs.org/zh/guide/</a></p></blockquote><h2 id="vue-cli-ç‰ˆæœ¬"><a href="#vue-cli-ç‰ˆæœ¬" class="headerlink" title="vue-cli ç‰ˆæœ¬"></a>vue-cli ç‰ˆæœ¬</h2><blockquote><p>@vue/cli 4.5.6</p></blockquote><h2 id="vue-ç‰ˆæœ¬"><a href="#vue-ç‰ˆæœ¬" class="headerlink" title="vue ç‰ˆæœ¬"></a>vue ç‰ˆæœ¬</h2><blockquote><p>~2.6.0</p></blockquote><h2 id="åˆ›å»ºé¡¹ç›®åless-æˆ–è€…-css-ä½¿ç”¨æŠ¥é”™ã€‚ç‰ˆæœ¬ä¸åŒ¹é…ã€‚ä¸€èˆ¬éœ€è¦é™çº§"><a href="#åˆ›å»ºé¡¹ç›®åless-æˆ–è€…-css-ä½¿ç”¨æŠ¥é”™ã€‚ç‰ˆæœ¬ä¸åŒ¹é…ã€‚ä¸€èˆ¬éœ€è¦é™çº§" class="headerlink" title="åˆ›å»ºé¡¹ç›®åless æˆ–è€… css ä½¿ç”¨æŠ¥é”™ã€‚ç‰ˆæœ¬ä¸åŒ¹é…ã€‚ä¸€èˆ¬éœ€è¦é™çº§"></a>åˆ›å»ºé¡¹ç›®åless æˆ–è€… css ä½¿ç”¨æŠ¥é”™ã€‚ç‰ˆæœ¬ä¸åŒ¹é…ã€‚ä¸€èˆ¬éœ€è¦é™çº§</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">less-loaderç‰ˆæœ¬å¤ªé«˜ï¼Œå¯ä»¥å¸è½½é‡è£…ä½ç‰ˆæœ¬</span><br><span class="line">å¸è½½é‡è£…ï¼šnpm uninstall less-loader</span><br><span class="line">å®‰è£…ä½ç‰ˆæœ¬ï¼šnpm install --save-dev less-loader@4.1.0</span><br><span class="line">åœ¨é¡¹ç›®çš„æ–‡ä»¶package.jsonå¯ä»¥çœ‹åˆ°less-loaderçš„ç‰ˆæœ¬</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å¦‚æœåˆ›å»ºé¡¹ç›®ä¸­é€”æŠ¥é”™"><a href="#å¦‚æœåˆ›å»ºé¡¹ç›®ä¸­é€”æŠ¥é”™" class="headerlink" title="å¦‚æœåˆ›å»ºé¡¹ç›®ä¸­é€”æŠ¥é”™"></a>å¦‚æœåˆ›å»ºé¡¹ç›®ä¸­é€”æŠ¥é”™</h2><blockquote><p>ç®€å•æš´åŠ›çš„æ–¹æ³•è§£å†³,å¸è½½æ‰€æœ‰,æ¸…é™¤ç¼“å­˜,å†æ¥ä¸€æ¬¡ï¼ˆæœ‰å¾ˆå¤§å¯èƒ½æ˜¯ç‰ˆæœ¬å˜åŒ–å¯¼è‡´-ä¸»è¦çœ‹é”™è¯¯è¯´æ˜æ˜¯å¦æ¶‰åŠç‰ˆæœ¬å·ï¼‰</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">npm uninstall -g vue</span><br><span class="line">npm uninstall -g vue-cli</span><br><span class="line">npm uninstall -g @vue/cli</span><br><span class="line">npm cache clean --force</span><br><span class="line">npm install -g @vue/cli</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="é»˜è®¤é…ç½®æ”¹åŠ¨ï¼Œé…ç½®äº†vue-config-js-å°†public-ä¸­é»˜è®¤index-æ”¾åœ¨æ ¹ç›®å½•"><a href="#é»˜è®¤é…ç½®æ”¹åŠ¨ï¼Œé…ç½®äº†vue-config-js-å°†public-ä¸­é»˜è®¤index-æ”¾åœ¨æ ¹ç›®å½•" class="headerlink" title="é»˜è®¤é…ç½®æ”¹åŠ¨ï¼Œé…ç½®äº†vue.config.js å°†public ä¸­é»˜è®¤index æ”¾åœ¨æ ¹ç›®å½•"></a>é»˜è®¤é…ç½®æ”¹åŠ¨ï¼Œé…ç½®äº†vue.config.js å°†public ä¸­é»˜è®¤index æ”¾åœ¨æ ¹ç›®å½•</h2><hr><h1 id="vue-config-js-æ–‡ä»¶å†…å®¹"><a href="#vue-config-js-æ–‡ä»¶å†…å®¹" class="headerlink" title="vue.config.js æ–‡ä»¶å†…å®¹"></a>vue.config.js æ–‡ä»¶å†…å®¹</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">const path = require(&#x27;path&#x27;);</span><br><span class="line">const webpack = require(&#x27;webpack&#x27;);</span><br><span class="line">const HtmlWebpackPlugin = require(&#x27;html-webpack-plugin&#x27;);</span><br><span class="line">// const CompressionWebpackPlugin = require(&#x27;compression-webpack-plugin&#x27;)</span><br><span class="line">// const productionGzipExtensions = [&#x27;js&#x27;, &#x27;css&#x27;]</span><br><span class="line"></span><br><span class="line">const docEnv = process.env.NODE_ENV;</span><br><span class="line">module.exports = &#123;</span><br><span class="line">    publicPath: docEnv === &#x27;production&#x27; ? &#x27;./&#x27; : &#x27;./&#x27;,</span><br><span class="line">    outputDir: &#x27;dist&#x27;,</span><br><span class="line">    assetsDir: &#x27;assets&#x27;,</span><br><span class="line">    indexPath: &#x27;index.html&#x27;,</span><br><span class="line">    lintOnSave: false,</span><br><span class="line">    runtimeCompiler: true,</span><br><span class="line">    productionSourceMap: false,</span><br><span class="line">    css: &#123;</span><br><span class="line">        sourceMap: false,</span><br><span class="line">        extract: true</span><br><span class="line">    &#125;,</span><br><span class="line">    configureWebpack: &#123;</span><br><span class="line">        resolve: &#123;</span><br><span class="line">            alias: &#123;</span><br><span class="line">                &#x27;@&#x27;: path.resolve(__dirname, &#x27;./src&#x27;),</span><br><span class="line">                &#x27;@base&#x27;: path.resolve(__dirname, &#x27;./&#x27;),</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        plugins: [</span><br><span class="line">            // ä¸‹é¢æ˜¯ä¸‹è½½çš„æ’ä»¶çš„é…ç½®</span><br><span class="line">            /* new CompressionWebpackPlugin(&#123;</span><br><span class="line">                algorithm: &#x27;gzip&#x27;,</span><br><span class="line">                test: new RegExp(&#x27;\\.(&#x27; + productionGzipExtensions.join(&#x27;|&#x27;) + &#x27;)$&#x27;),</span><br><span class="line">                threshold: 10240,</span><br><span class="line">                minRatio: 0.8</span><br><span class="line">            &#125;), */</span><br><span class="line">            new webpack.optimize.LimitChunkCountPlugin(&#123;</span><br><span class="line">                maxChunks: 5,</span><br><span class="line">                minChunkSize: 1000</span><br><span class="line">            &#125;),</span><br><span class="line">            new HtmlWebpackPlugin(&#123; // æ‰“åŒ…è¾“å‡ºHTML</span><br><span class="line">                minify: &#123; // å‹ç¼©HTMLæ–‡ä»¶</span><br><span class="line">                    removeComments: true, // ç§»é™¤HTMLä¸­çš„æ³¨é‡Š</span><br><span class="line">                    collapseWhitespace: true, // åˆ é™¤ç©ºç™½ç¬¦ä¸æ¢è¡Œç¬¦</span><br><span class="line">                    minifyCSS: true// å‹ç¼©å†…è”css</span><br><span class="line">                &#125;,</span><br><span class="line">                filename: &#x27;index.html&#x27;,</span><br><span class="line">                template: path.join(__dirname, &#x27;index.html&#x27;)</span><br><span class="line">            &#125;)</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    /* chainWebpack: config =&gt; &#123;</span><br><span class="line">        config</span><br><span class="line">        .plugin(&#x27;html&#x27;)</span><br><span class="line">        .tap(args =&gt; &#123;</span><br><span class="line">            args[0].template = path.join(__dirname, &#x27;index.html&#x27;)</span><br><span class="line">            return args</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;, */</span><br><span class="line">    devServer: &#123;</span><br><span class="line">        contentBase: path.join(__dirname, &#x27;dist&#x27;),</span><br><span class="line">        compress: false,</span><br><span class="line">        port: 9000,</span><br><span class="line">        clientLogLevel: &#x27;silent&#x27;,</span><br><span class="line">        hot: true,</span><br><span class="line">        index: &#x27;index.html&#x27;,</span><br><span class="line">        inline: true,</span><br><span class="line">        overlay: &#123;</span><br><span class="line">            warnings: true,</span><br><span class="line">            errors: false</span><br><span class="line">        &#125;,</span><br><span class="line">        proxy: &#123;</span><br><span class="line">            &#x27;/api&#x27;: &#123;</span><br><span class="line">                // æ­¤å¤„çš„å†™æ³•ï¼Œç›®çš„æ˜¯ä¸ºäº† å°† /api æ›¿æ¢æˆ https://www.baidu.com/</span><br><span class="line">                // target: &#x27;https://www.baidu.com/&#x27;,</span><br><span class="line">                target: &#x27;https://gs.yuntech.cc/oa/&#x27;,</span><br><span class="line">                // å…è®¸è·¨åŸŸ</span><br><span class="line">                changeOrigin: true,</span><br><span class="line">                ws: true,</span><br><span class="line">                pathRewrite: &#123;</span><br><span class="line">                    &#x27;^/api&#x27;: &#x27;&#x27;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#x27;/service&#x27;: &#123;</span><br><span class="line">                target: &#x27;http://service.yuntech.cc/&#x27;,</span><br><span class="line">                changeOrigin: true,</span><br><span class="line">                ws: true,</span><br><span class="line">                pathRewrite: &#123;</span><br><span class="line">                    &#x27;^/service&#x27;: &#x27;&#x27;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="babel-config-js-æ–‡ä»¶å†…å®¹"><a href="#babel-config-js-æ–‡ä»¶å†…å®¹" class="headerlink" title="babel.config.js æ–‡ä»¶å†…å®¹"></a>babel.config.js æ–‡ä»¶å†…å®¹</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  presets: [</span><br><span class="line">    &#x27;@vue/cli-plugin-babel/preset&#x27;</span><br><span class="line">  ],</span><br><span class="line">  plugins: [</span><br><span class="line">    </span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="package-json-æ–‡ä»¶å†…å®¹"><a href="#package-json-æ–‡ä»¶å†…å®¹" class="headerlink" title="package.json æ–‡ä»¶å†…å®¹"></a>package.json æ–‡ä»¶å†…å®¹</h1><blockquote><p>ï¼ˆå¦‚æœå‡ºç°é—®é¢˜ï¼Œæœ‰å¯èƒ½æ˜¯ä¾èµ–ç‰ˆæœ¬ä¸åŒ¹é…ã€‚éœ€è¦å¯¹ç…§lock æ–‡ä»¶ï¼‰</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;yuntech-project&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;0.0.1&quot;,</span><br><span class="line">  &quot;private&quot;: true,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;serve&quot;: &quot;vue-cli-service serve&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;vue-cli-service build&quot;,</span><br><span class="line">    &quot;lint&quot;: &quot;vue-cli-service lint&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;axios&quot;: &quot;^0.20.0&quot;,</span><br><span class="line">    &quot;vue&quot;: &quot;^2.6.11&quot;,</span><br><span class="line">    &quot;vue-router&quot;: &quot;^3.2.0&quot;,</span><br><span class="line">    &quot;vuex&quot;: &quot;^3.4.0&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;devDependencies&quot;: &#123;</span><br><span class="line">    &quot;@vue/cli-plugin-babel&quot;: &quot;~4.5.0&quot;,</span><br><span class="line">    &quot;@vue/cli-plugin-eslint&quot;: &quot;~4.5.0&quot;,</span><br><span class="line">    &quot;@vue/cli-plugin-router&quot;: &quot;~4.5.0&quot;,</span><br><span class="line">    &quot;@vue/cli-plugin-vuex&quot;: &quot;~4.5.0&quot;,</span><br><span class="line">    &quot;@vue/cli-service&quot;: &quot;~4.5.0&quot;,</span><br><span class="line">    &quot;babel-eslint&quot;: &quot;^10.1.0&quot;,</span><br><span class="line">    &quot;babel-plugin-import&quot;: &quot;^1.13.0&quot;,</span><br><span class="line">    &quot;compression-webpack-plugin&quot;: &quot;^6.0.1&quot;,</span><br><span class="line">    &quot;core-js&quot;: &quot;^3.6.5&quot;,</span><br><span class="line">    &quot;eslint&quot;: &quot;^6.7.2&quot;,</span><br><span class="line">    &quot;eslint-plugin-vue&quot;: &quot;^6.2.2&quot;,</span><br><span class="line">    &quot;html-webpack-plugin&quot;: &quot;^4.4.1&quot;,</span><br><span class="line">    &quot;less&quot;: &quot;^3.12.2&quot;,</span><br><span class="line">    &quot;less-loader&quot;: &quot;^7.0.1&quot;,</span><br><span class="line">    &quot;vue-template-compiler&quot;: &quot;^2.6.11&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;eslintConfig&quot;: &#123;</span><br><span class="line">    &quot;root&quot;: true,</span><br><span class="line">    &quot;env&quot;: &#123;</span><br><span class="line">      &quot;node&quot;: true</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;extends&quot;: [</span><br><span class="line">      &quot;plugin:vue/essential&quot;,</span><br><span class="line">      &quot;eslint:recommended&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;parserOptions&quot;: &#123;</span><br><span class="line">      &quot;parser&quot;: &quot;babel-eslint&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;browserslist&quot;: [</span><br><span class="line">    &quot;&gt; 1%&quot;,</span><br><span class="line">    &quot;last 2 versions&quot;,</span><br><span class="line">    &quot;not dead&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Vue-cli-ä½¿ç”¨å°è®¡&quot;&gt;&lt;a href=&quot;#Vue-cli-ä½¿ç”¨å°è®¡&quot; class=&quot;headerlink&quot; title=&quot;Vue-cli ä½¿ç”¨å°è®¡&quot;&gt;&lt;/a&gt;Vue-cli ä½¿ç”¨å°è®¡&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;å®˜ç½‘: &lt;a href=&quot;http</summary>
      
    
    
    
    <category term="å‰ç«¯" scheme="https://lovelee.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="Vue" scheme="https://lovelee.cn/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>å†™åœ¨å‰é¢</title>
    <link href="https://lovelee.cn/2022/08/29/top/"/>
    <id>https://lovelee.cn/2022/08/29/top/</id>
    <published>2022-08-29T12:53:09.187Z</published>
    <updated>2022-08-31T01:36:04.444Z</updated>
    
    <content type="html"><![CDATA[<div class="note no-icon blue flat"><p>æ³¨å†Œè¿‡å…¶ä»–ç«™çš„åšå®¢ï¼Œæ€»ä¸æ˜¯è‡ªå·±æƒ³è¦çš„æ ·å­ï¼Œæ˜¯å¶ç„¶ï¼Œä¹Ÿæ˜¯å¿…ç„¶ï¼Œæˆ‘ä¸€ç‚¹ç‚¹çš„æŠŠè¿™ä¸ªåšå®¢æ­èµ·æ¥äº†ã€‚</p></div><p>åšå®¢çš„å†…å®¹å€’æ˜¯æ¬¡è¦çš„ï¼Œè™½ç„¶æˆ‘ä¹Ÿæ²¡æœ‰å†™å¾ˆå¤šç¬”è®°çš„ä¹ æƒ¯ï¼Œä½†æ˜¯ä¼šæ…¢æ…¢çš„æŠ•å…¥è¿›æ¥ã€‚<br>è¿™æ¬¡æ­åšå®¢æ”¶è·æœ€å¤§çš„ï¼Œè¿˜æ˜¯å­¦ä¹ çš„è¿‡ç¨‹ã€‚<br>ä¿¡æ¯åŒ–çš„æ—¶ä»£ï¼Œä¸€ä¸ªè§†é¢‘å°±èƒ½å¸¦ä½ èµ°è¿›æ–°çš„é¢†åŸŸã€‚</p><p>å½“æˆ‘åªä¼šèµ°çš„æ—¶å€™ï¼Œæˆ‘æƒ³å­¦è·‘ï¼Œä¼šè·‘äº†ï¼Œæˆ‘åˆæƒ³å­¦éª‘è½¦ï¼Œå­¦ä¼šéª‘è½¦åˆæƒ³è€ƒé©¾ç…§ï¼Œè€ƒåˆ°é©¾ç…§äº†ï¼Œå½“ç„¶æˆ‘ä¹Ÿä¸æƒ³å­¦å¦å…‹ã€‚ã€‚ã€‚<br>è¿™å°±æ˜¯ä¸€ç‚¹ç‚¹çš„è¿›æ­¥ï¼Œæˆ‘æ¯”è¾ƒäº«å—æˆé•¿çš„è¿‡ç¨‹ã€‚<br>æ—¶é—´ä¸ä¸€å®šå¯¹çš„ä¸Šï¼Œä½†æ˜¯å†ç¨‹å·®ä¸å¤šå°±æ˜¯è¿™æ ·ã€‚</p><div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2020</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>04-01</p></div></div><div class='timeline-item-content'><p>Vue+ElementUI+Vant+Antd+idoc+gitbook</p></div></div></div><div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2021</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>04-01</p></div></div><div class='timeline-item-content'><p>React+Taro</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>05-01</p></div></div><div class='timeline-item-content'><p>uniapp+uniCloud</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>11-01</p></div></div><div class='timeline-item-content'><p>nuxt</p></div></div></div><div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-01</p></div></div><div class='timeline-item-content'><p>nodejs+express</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>04-01</p></div></div><div class='timeline-item-content'><p>mongodb</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>06-01</p></div></div><div class='timeline-item-content'><p>vercel</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>06-15</p></div></div><div class='timeline-item-content'><p>hexo</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>08-01</p></div></div><div class='timeline-item-content'><p>hexo+vercelApi+mongodbCloud</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>08-27</p></div></div><div class='timeline-item-content'><p>æ˜¨å¤©vercel IPè¢«å¢™äº†,é»˜è®¤åŸŸåè®¿é—®Gäº†ã€‚ã€‚ã€‚å“ˆå“ˆï¼Œåˆé€¼ç€æˆ‘å‰è¿›äº†ã€‚é¡ºåŠ¿æˆ‘å°±æ¢äº†åŸŸåCNAMEæŒ‡å‘äº†vercelé»˜è®¤åŸŸåã€‚<br>é¡ºåŠ¿ä¹Ÿå‡†å¤‡ä¸€ä¸‹æœåŠ¡å™¨å§ã€‚æ¥äº†ï¼Œæœ‰ç‚¹é‚£æ„æ€äº†ã€‚ã€‚ã€‚</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>08-28</p></div></div><div class='timeline-item-content'><p>æ˜¨å¤©æŠŠ <mark class="hl-label pink">vercel-domain</mark>  å’Œ <mark class="hl-label blue">twikoo-domain</mark>  ç»™å¼„å¥½äº†ï¼Œç”¨äº†è…¾è®¯äº‘çš„åŸŸå <mark class="hl-label red">CNAME</mark>  (åœ°å€è§£æéIPè§£æ) ç›´æ¥å°±æ¢å¤è®¿é—®å•¦ ğŸ˜</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>08-30</p></div></div><div class='timeline-item-content'><p>æ˜¨å¤©æŠŠ <mark class="hl-label pink">github action</mark>   ç»™å¼„å¥½äº†ï¼Œä¸å®¹æ˜“ï¼Œè¿˜å†™äº†ä¸€ç¯‡<a href="https://lovelee.cn/2022/08/31/github_action_deploy_hexo/">åšå®¢</a>è®°å½• </p></div></div></div><div class="note primary no-icon flat"><p>to be continueï¼</p></div>]]></content>
    
    
    <summary type="html">äºæ²™æ¼ ä¹‹ä¸­ç»½æ”¾ï¼Œäº¦å¦‚é»æ˜å‰çš„èŠ±æœµ</summary>
    
    
    
    <category term="emotion" scheme="https://lovelee.cn/categories/emotion/"/>
    
    
    <category term="other" scheme="https://lovelee.cn/tags/other/"/>
    
    <category term="begin" scheme="https://lovelee.cn/tags/begin/"/>
    
  </entry>
  
  <entry>
    <title>å‡†å¤‡åšçš„/å­¦çš„</title>
    <link href="https://lovelee.cn/2022/08/29/todo/"/>
    <id>https://lovelee.cn/2022/08/29/todo/</id>
    <published>2022-08-29T12:53:09.184Z</published>
    <updated>2022-08-29T12:28:41.722Z</updated>
    
    <content type="html"><![CDATA[<div class="note purple flat"><p>è®°å½•ä¸€ä¸‹å‡†å¤‡è¦åš/å­¦çš„æ¸…å•</p></div><h2 id="å‡†å¤‡-æ­£åœ¨"><a href="#å‡†å¤‡-æ­£åœ¨" class="headerlink" title="å‡†å¤‡ | æ­£åœ¨"></a>å‡†å¤‡ | æ­£åœ¨</h2><ul><li><input disabled="" type="checkbox"> github action</li><li><input disabled="" type="checkbox"> canvasç›¸å…³</li><li><input disabled="" type="checkbox"> Linuxæ“ä½œç³»ç»Ÿ</li><li><input disabled="" type="checkbox"> å®å¡”ä½¿ç”¨</li></ul><h2 id="å·²å­¦è¿‡"><a href="#å·²å­¦è¿‡" class="headerlink" title="å·²å­¦è¿‡"></a>å·²å­¦è¿‡</h2><ul><li><input checked="" disabled="" type="checkbox"> åŸŸåè§£æ</li><li><input checked="" disabled="" type="checkbox"> æœåŠ¡å™¨è´­ä¹°ä½¿ç”¨</li><li><input checked="" disabled="" type="checkbox"> æœåŠ¡å™¨ç¯å¢ƒæ­å»ºå’Œç¨‹åºéƒ¨ç½² </li></ul>]]></content>
    
    
    <summary type="html">todos</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://lovelee.cn/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="study" scheme="https://lovelee.cn/tags/study/"/>
    
    <category term="todos" scheme="https://lovelee.cn/tags/todos/"/>
    
  </entry>
  
  <entry>
    <title>socket.ioä½¿ç”¨</title>
    <link href="https://lovelee.cn/2022/08/29/socket.io/"/>
    <id>https://lovelee.cn/2022/08/29/socket.io/</id>
    <published>2022-08-29T12:53:09.181Z</published>
    <updated>2022-08-27T12:23:02.542Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Web-Socket-amp-Socket-io"><a href="#Web-Socket-amp-Socket-io" class="headerlink" title="Web Socket &amp; Socket.io"></a><a href="https://www.cnblogs.com/jlfw/p/12941495.html">Web Socket &amp; Socket.io</a></h1><h1 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h1><p>HTTPæ— æ³•è½»æ¾å®ç°å®æ—¶åº”ç”¨ï¼š</p><ul><li>HTTPåè®®æ˜¯æ— çŠ¶æ€çš„ï¼ŒæœåŠ¡å™¨åªä¼šå“åº”æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä½†æ˜¯å®ƒä¸å®¢æˆ·ç«¯ä¹‹é—´ä¸å…·å¤‡æŒç»­è¿æ¥ã€‚</li><li>æˆ‘ä»¬å¯ä»¥éå¸¸è½»æ¾çš„æ•è·æµè§ˆå™¨ä¸Šå‘ç”Ÿçš„äº‹ä»¶ï¼ˆæ¯”å¦‚ç”¨æˆ·ç‚¹å‡»äº†ç›’å­ï¼‰ï¼Œè¿™ä¸ªäº‹ä»¶å¯ä»¥è½»æ¾äº§ç”Ÿä¸æœåŠ¡å™¨çš„æ•°æ®äº¤äº’ï¼ˆæ¯”å¦‚Ajaxï¼‰ã€‚ä½†æ˜¯ï¼Œåè¿‡æ¥å´æ˜¯ä¸å¯èƒ½çš„ï¼šæœåŠ¡å™¨ç«¯å‘ç”Ÿäº†ä¸€ä¸ªäº‹ä»¶ï¼ŒæœåŠ¡å™¨æ— æ³•å°†è¿™ä¸ªäº‹ä»¶çš„ä¿¡æ¯å®æ—¶ä¸»åŠ¨é€šçŸ¥å®ƒçš„å®¢æˆ·ç«¯ã€‚åªæœ‰åœ¨å®¢æˆ·ç«¯æŸ¥è¯¢æœåŠ¡å™¨çš„å½“å‰çŠ¶æ€çš„æ—¶å€™ï¼Œæ‰€å‘ç”Ÿäº‹ä»¶çš„ä¿¡æ¯æ‰ä¼šä»æœåŠ¡å™¨ä¼ é€’åˆ°å®¢æˆ·ç«¯ã€‚</li></ul><p>ä½†æ˜¯ï¼Œç¡®å®èŠå¤©å®¤ç¡®å®å­˜åœ¨</p><p>æ–¹æ³•ï¼š</p><ul><li>é•¿è½®è¯¢ï¼šå®¢æˆ·ç«¯æ¯éš”å¾ˆçŸ­çš„æ—¶é—´ï¼Œéƒ½ä¼šå¯¹æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰æ–°çš„æ¶ˆæ¯ï¼Œåªè¦è½®è¯¢é€Ÿåº¦è¶³å¤Ÿå¿«ï¼Œä¾‹å¦‚1ç§’ï¼Œå°±èƒ½ç»™äººé€ æˆäº¤äº’æ˜¯å®æ—¶è¿›è¡Œçš„å°è±¡ã€‚è¿™ç§åšæ³•æ˜¯æ— å¥ˆä¹‹ä¸¾ï¼Œå®é™…ä¸Šå¯¹æœåŠ¡å™¨ã€å®¢æˆ·ç«¯åŒæ–¹éƒ½é€ æˆäº†å¤§é‡çš„æ€§èƒ½æµªè´¹ã€‚</li><li>é•¿è¿æ¥ï¼šå®¢æˆ·ç«¯åªè¯·æ±‚ä¸€æ¬¡ï¼Œä½†æ˜¯æœåŠ¡å™¨ä¼šå°†è¿æ¥ä¿æŒï¼Œä¸ä¼šè¿”å›ç»“æœï¼ˆæƒ³è±¡ä¸€ä¸‹æˆ‘ä»¬æ²¡æœ‰å†™res.end()æ—¶ï¼Œæµè§ˆå™¨ä¸€ç›´è½¬å°èŠèŠ±ï¼‰ã€‚æœåŠ¡å™¨æœ‰äº†æ–°æ•°æ®ï¼Œå°±å°†æ•°æ®å‘å›æ¥ï¼Œåˆæœ‰äº†æ–°æ•°æ®ï¼Œå°±å°†æ•°æ®å‘å›æ¥ï¼Œè€Œä¸€ç›´ä¿æŒæŒ‚èµ·çŠ¶æ€ã€‚è¿™ç§åšæ³•çš„ä¹Ÿé€ æˆäº†å¤§é‡çš„æ€§èƒ½æµªè´¹ã€‚</li></ul><h1 id="WebSocketåè®®"><a href="#WebSocketåè®®" class="headerlink" title="WebSocketåè®®"></a>WebSocketåè®®</h1><p>WebSocketåè®®èƒ½å¤Ÿè®©æµè§ˆå™¨å’ŒæœåŠ¡å™¨å…¨åŒå·¥å®æ—¶é€šä¿¡ï¼Œäº’ç›¸çš„ï¼ŒæœåŠ¡å™¨ä¹Ÿèƒ½ä¸»åŠ¨é€šçŸ¥å®¢æˆ·ç«¯</p><ul><li>WebSocketçš„åŸç†éå¸¸çš„ç®€å•ï¼šåˆ©ç”¨HTTPè¯·æ±‚äº§ç”Ÿæ¡æ‰‹ï¼ŒHTTPå¤´éƒ¨ä¸­å«æœ‰WebSocketåè®®çš„è¯·æ±‚ï¼Œæ‰€ä»¥æ¡æ‰‹ä¹‹åï¼ŒäºŒè€…è½¬ç”¨TCPåè®®è¿›è¡Œäº¤æµï¼ˆQQçš„åè®®ï¼‰ã€‚ç°åœ¨çš„æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œå°±æ˜¯QQå’ŒQQæœåŠ¡å™¨çš„å…³ç³»äº†ã€‚æ‰€ä»¥WebSocketåè®®ï¼Œéœ€è¦æµè§ˆå™¨æ”¯æŒï¼Œæ›´éœ€è¦æœåŠ¡å™¨æ”¯æŒã€‚</li><li>æ”¯æŒWebSocketåè®®çš„æµè§ˆå™¨æœ‰ï¼šChrome 4ã€ç«ç‹4ã€IE10ã€Safari5</li><li>æ”¯æŒWebSocketåè®®çš„æœåŠ¡å™¨æœ‰ï¼šNode 0ã€Apach7.0.2ã€Nginx1.3</li><li>Socket.IOæ˜¯ä¸šç•Œè‰¯å¿ƒï¼Œæ–°æ‰‹ç¦éŸ³ã€‚å®ƒå±è”½äº†æ‰€æœ‰åº•å±‚ç»†èŠ‚ï¼Œè®©é¡¶å±‚è°ƒç”¨éå¸¸ç®€å•ã€‚å¹¶ä¸”è¿˜ä¸ºä¸æ”¯æŒWebSocketåè®®çš„æµè§ˆå™¨ï¼Œæä¾›äº†é•¿è½®è¯¢çš„é€æ˜æ¨¡æ‹Ÿæœºåˆ¶ã€‚</li><li>Node.jsä¸Šéœ€è¦å†™ä¸€äº›ç¨‹åºï¼Œæ¥å¤„ç†TCPè¯·æ±‚ã€‚ ä½¿ç”¨require(â€˜dgramâ€™) æ¨¡å—</li><li>Nodeçš„å•çº¿ç¨‹ã€éé˜»å¡I/Oã€äº‹ä»¶é©±åŠ¨æœºåˆ¶ï¼Œä½¿å®ƒéå¸¸é€‚åˆSocketæœåŠ¡å™¨ã€‚</li></ul><h1 id="Socket-io"><a href="#Socket-io" class="headerlink" title="Socket.io"></a>Socket.io</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install socket.io</span><br></pre></td></tr></table></figure><p>åˆ¶ä½œindex.htmlé¡µé¢ã€‚é¡µé¢ä¸­å¿…é¡»å¼•å…¥ /socket.io/socket.io.js, è°ƒç”¨ioå‡½æ•°ï¼Œå–å¾—socketå¯¹è±¡ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;/socket.io/socket.io.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    var socket = io();  //socket å¯¹è±¡</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>æœåŠ¡å™¨ä¸­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var io = require(&#x27;sockte.io&#x27;)(server);</span><br><span class="line">io.on(&#x27;connection&#x27;,function( socket )&#123;</span><br><span class="line">    //socket å¯¹è±¡</span><br><span class="line">    socket.on(&#x27;tiwen&#x27;,function( msg )&#123;</span><br><span class="line">        console.log(&#x27;æœåŠ¡å™¨æ¥å—åˆ°äº†è¯·æ±‚&#x27;);</span><br><span class="line">        //sockte.emit(&#x27;huida&#x27;,&#x27;ok&#x27;); //å•æ¡è¿”å›</span><br><span class="line">        //å¹¿æ’­ , å°±æ˜¯ç»™å½“å‰æ‰€æœ‰ç”¨æˆ·çš„å‘é€ä¿¡æ¯ã€‚</span><br><span class="line">        io.emit(&#x27;huida&#x27;,&#x27;ok&#x27;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼Œéƒ½æœ‰socketå¯¹è±¡ã€‚ ä¸¤ä¸ªå¯¹è±¡éƒ½å…·æœ‰emitï¼Œå’Œonçš„æ—¶é—´ã€‚emitç”¨äºå‘é€ï¼Œonç”¨æˆ·æ¥å—ã€‚<br>å‘é€çš„å†…å®¹å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„å€¼ã€‚</p><h1 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h1><p>å‰å°é¡µé¢ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;indexé¡µé¢&lt;/h1&gt;</span><br><span class="line">ä¿¡æ¯å†…å®¹ï¼š&lt;input type=&quot;text&quot; name=&quot;&quot; id=&quot;info&quot; value=&quot;&quot; /&gt;</span><br><span class="line">å‘é€ï¼š &lt;input type=&quot;button&quot; name=&quot;&quot; id=&quot;btn&quot; value=&quot;å‘é€&quot; /&gt;</span><br><span class="line">&lt;script src=&quot;/socket.io/socket.io.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">  var socket = io();</span><br><span class="line">  document.getElementById(&quot;btn&quot;).onclick = function (  ) &#123;</span><br><span class="line">    socket.emit(&#x27;tiwen&#x27;,document.getElementById(&quot;info&quot;).value);</span><br><span class="line">  &#125;</span><br><span class="line">  socket.on(&#x27;huida&#x27;,function ( msg ) &#123;</span><br><span class="line">    console.log(&#x27;å›ç­”ï¼š&#x27; +ã€€msg);</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p>åå°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">var http = require(&#x27;http&#x27;);</span><br><span class="line">var fs = require(&#x27;fs&#x27;);</span><br><span class="line"></span><br><span class="line">var server = http.createServer(function ( req,res ) &#123;</span><br><span class="line">  if (  req.url == &#x27;/&#x27; ) &#123;</span><br><span class="line">    // æ˜¾ç¤ºé¦–é¡µ</span><br><span class="line">    fs.readFile(&#x27;./index.html&#x27;,function ( err,data ) &#123;</span><br><span class="line">      res.end(data);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// åˆ›å»ºioå¯¹è±¡</span><br><span class="line">var io = require(&#x27;socket.io&#x27;)(server);</span><br><span class="line"></span><br><span class="line">// ç›‘å¬è¿æ¥äº‹ä»¶</span><br><span class="line">io.on(&#x27;connection&#x27;,function ( socket ) &#123;</span><br><span class="line">  console.log( &#x27;ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥äº†&#x27; );</span><br><span class="line">  socket.on(&#x27;tiwen&#x27;,function ( msg ) &#123;</span><br><span class="line">        // console.log( &#x27;æé—®ä¸ºï¼š&#x27; + msg );</span><br><span class="line">        // socket.emit(&#x27;huida&#x27;,&#x27;å¥½å‘€&#x27;);</span><br><span class="line">    // åŠ ä¸Šå¹¿æ’­</span><br><span class="line">    io.emit(&#x27;huida&#x27;,msg);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(80);</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Web-Socket-amp-Socket-io&quot;&gt;&lt;a href=&quot;#Web-Socket-amp-Socket-io&quot; class=&quot;headerlink&quot; title=&quot;Web Socket &amp;amp; Socket.io&quot;&gt;&lt;/a&gt;&lt;a href=&quot;htt</summary>
      
    
    
    
    <category term="æœåŠ¡ç«¯" scheme="https://lovelee.cn/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF/"/>
    
    
    <category term="nodejs" scheme="https://lovelee.cn/tags/nodejs/"/>
    
  </entry>
  
  <entry>
    <title>sass</title>
    <link href="https://lovelee.cn/2022/08/29/sass/"/>
    <id>https://lovelee.cn/2022/08/29/sass/</id>
    <published>2022-08-29T12:53:09.176Z</published>
    <updated>2022-08-27T12:20:29.414Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Sass-Syntactically-Awesome-StyleSheets"><a href="#Sass-Syntactically-Awesome-StyleSheets" class="headerlink" title="Sass (Syntactically Awesome StyleSheets)"></a><a href="http://sass-lang.com/documentation/file.SASS_REFERENCE.html">Sass (Syntactically Awesome StyleSheets)</a></h1><p>Sass æ˜¯ä¸€æ¬¾å¼ºåŒ– CSS çš„è¾…åŠ©å·¥å…·ï¼Œå®ƒåœ¨ CSS è¯­æ³•çš„åŸºç¡€ä¸Šå¢åŠ äº†å˜é‡ (variables)ã€åµŒå¥— (nested rules)ã€æ··åˆ (mixins)ã€å¯¼å…¥ (inline imports) ç­‰é«˜çº§åŠŸèƒ½ï¼Œè¿™äº›æ‹“å±•ä»¤ CSS æ›´åŠ å¼ºå¤§ä¸ä¼˜é›…ã€‚ä½¿ç”¨ Sass ä»¥åŠ Sass çš„æ ·å¼åº“ï¼ˆå¦‚ <a href="http://compass-style.org/">Compass</a>ï¼‰æœ‰åŠ©äºæ›´å¥½åœ°ç»„ç»‡ç®¡ç†æ ·å¼æ–‡ä»¶ï¼Œä»¥åŠæ›´é«˜æ•ˆåœ°å¼€å‘é¡¹ç›®ã€‚</p><h2 id="1-ç‰¹è‰²åŠŸèƒ½-Features"><a href="#1-ç‰¹è‰²åŠŸèƒ½-Features" class="headerlink" title="1. ç‰¹è‰²åŠŸèƒ½ (Features)"></a>1. ç‰¹è‰²åŠŸèƒ½ (Features)</h2><ul><li>å®Œå…¨å…¼å®¹ CSS3</li><li>åœ¨ CSS åŸºç¡€ä¸Šå¢åŠ å˜é‡ã€åµŒå¥— (nesting)ã€æ··åˆ (mixins) ç­‰åŠŸèƒ½</li><li>é€šè¿‡<a href="http://sass-lang.com/docs/yardoc/Sass/Script/Functions.html">å‡½æ•°</a>è¿›è¡Œé¢œè‰²å€¼ä¸å±æ€§å€¼çš„è¿ç®—</li><li>æä¾›<a href="https://www.sass.hk/docs/#t8">æ§åˆ¶æŒ‡ä»¤ (control directives)</a>ç­‰é«˜çº§åŠŸèƒ½</li><li>è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼</li></ul><h2 id="2-è¯­æ³•æ ¼å¼-Syntax"><a href="#2-è¯­æ³•æ ¼å¼-Syntax" class="headerlink" title="2. è¯­æ³•æ ¼å¼ (Syntax)"></a>2. è¯­æ³•æ ¼å¼ (Syntax)</h2><p>Sass æœ‰ä¸¤ç§è¯­æ³•æ ¼å¼ã€‚é¦–å…ˆæ˜¯ SCSS (Sassy CSS) â€”â€” ä¹Ÿæ˜¯æœ¬æ–‡ç¤ºä¾‹æ‰€ä½¿ç”¨çš„æ ¼å¼ â€”â€” è¿™ç§æ ¼å¼ä»…åœ¨ CSS3 è¯­æ³•çš„åŸºç¡€ä¸Šè¿›è¡Œæ‹“å±•ï¼Œæ‰€æœ‰ CSS3 è¯­æ³•åœ¨ SCSS ä¸­éƒ½æ˜¯é€šç”¨çš„ï¼ŒåŒæ—¶åŠ å…¥ Sass çš„ç‰¹è‰²åŠŸèƒ½ã€‚æ­¤å¤–ï¼ŒSCSS ä¹Ÿæ”¯æŒå¤§å¤šæ•° CSS hacks å†™æ³•ä»¥åŠæµè§ˆå™¨å‰ç¼€å†™æ³• (vendor-specific syntax)ï¼Œä»¥åŠæ—©æœŸçš„ IE æ»¤é•œå†™æ³•ã€‚è¿™ç§æ ¼å¼ä»¥ <code>.scss</code> ä½œä¸ºæ‹“å±•åã€‚</p><p>å¦ä¸€ç§ä¹Ÿæ˜¯æœ€æ—©çš„ Sass è¯­æ³•æ ¼å¼ï¼Œè¢«ç§°ä¸ºç¼©è¿›æ ¼å¼ (Indented Sass) é€šå¸¸ç®€ç§° â€œSassâ€ï¼Œæ˜¯ä¸€ç§ç®€åŒ–æ ¼å¼ã€‚å®ƒä½¿ç”¨ â€œç¼©è¿›â€ ä»£æ›¿ â€œèŠ±æ‹¬å·â€ è¡¨ç¤ºå±æ€§å±äºæŸä¸ªé€‰æ‹©å™¨ï¼Œç”¨ â€œæ¢è¡Œâ€ ä»£æ›¿ â€œåˆ†å·â€ åˆ†éš”å±æ€§ï¼Œå¾ˆå¤šäººè®¤ä¸ºè¿™æ ·åšæ¯” SCSS æ›´å®¹æ˜“é˜…è¯»ï¼Œä¹¦å†™ä¹Ÿæ›´å¿«é€Ÿã€‚ç¼©è¿›æ ¼å¼ä¹Ÿå¯ä»¥ä½¿ç”¨ Sass çš„å…¨éƒ¨åŠŸèƒ½ï¼Œåªæ˜¯ä¸ SCSS ç›¸æ¯”ä¸ªåˆ«åœ°æ–¹é‡‡å–äº†ä¸åŒçš„è¡¨è¾¾æ–¹å¼ï¼Œå…·ä½“è¯·æŸ¥çœ‹ <a href="http://sass-lang.com/docs/yardoc/file.INDENTED_SYNTAX.html">the indented syntax reference</a>ã€‚è¿™ç§æ ¼å¼ä»¥ <code>.sass</code> ä½œä¸ºæ‹“å±•åã€‚</p><p>ä»»ä½•ä¸€ç§æ ¼å¼å¯ä»¥ç›´æ¥ <a href="https://www.sass.hk/docs/#t7-1">å¯¼å…¥ (@import)</a> åˆ°å¦ä¸€ç§æ ¼å¼ä¸­ä½¿ç”¨ï¼Œæˆ–è€…é€šè¿‡ <code>sass-convert</code> å‘½ä»¤è¡Œå·¥å…·è½¬æ¢æˆå¦ä¸€ç§æ ¼å¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Convert Sass to SCSS</span><br><span class="line">$ sass-convert style.sass style.scss</span><br><span class="line"></span><br><span class="line"># Convert SCSS to Sass</span><br><span class="line">$ sass-convert style.scss style.sass</span><br></pre></td></tr></table></figure><h2 id="3-ä½¿ç”¨-Sass-Using-Sass"><a href="#3-ä½¿ç”¨-Sass-Using-Sass" class="headerlink" title="3. ä½¿ç”¨ Sass (Using Sass)"></a>3. ä½¿ç”¨ Sass (Using Sass)</h2><p>Sass å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸‰ç§æ–¹å¼ä½¿ç”¨ï¼šä½œä¸ºå‘½ä»¤è¡Œå·¥å…·ï¼›ä½œä¸ºç‹¬ç«‹çš„ Ruby æ¨¡å— (Ruby module)ï¼›æˆ–è€…ä½œä¸º Rack-enabled æ¡†æ¶çš„æ’ä»¶ï¼ˆä¾‹å¦‚ Ruby on Rails ä¸ Merbï¼‰ã€‚æ— è®ºå“ªç§æ–¹å¼éƒ½éœ€è¦å…ˆå®‰è£… Sass gem ï¼ˆWindows ç³»ç»Ÿéœ€è¦å…ˆ<a href="http://rubyinstaller.org/">å®‰è£… Ruby</a>ï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem install sass</span><br></pre></td></tr></table></figure><p>åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ Sassï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sass input.scss output.css</span><br></pre></td></tr></table></figure><p>ç›‘è§†å•ä¸ª Sass æ–‡ä»¶ï¼Œæ¯æ¬¡ä¿®æ”¹å¹¶ä¿å­˜æ—¶è‡ªåŠ¨ç¼–è¯‘ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sass --watch input.scss:output.css</span><br></pre></td></tr></table></figure><p>ç›‘è§†æ•´ä¸ªæ–‡ä»¶å¤¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sass --watch app/sass:public/stylesheets</span><br></pre></td></tr></table></figure><p>æ›´å¤šå‘½ä»¤çš„ç”¨æ³•è¯·é€šè¿‡ <code>sass --help</code> è·å–å¸®åŠ©ã€‚</p><p>åœ¨ Ruby ä¸­ä½¿ç”¨ Sass ä¹Ÿéå¸¸å®¹æ˜“ï¼ŒSass gem å®‰è£…å®Œæ¯•åè¿è¡Œ <code>require &quot;sass&quot;</code> ç„¶åæŒ‰ç…§ä¸‹é¢çš„æ–¹æ³•ä½¿ç”¨ <a href="http://sass-lang.com/docs/yardoc/Sass/Engine.html">Sass::Engine</a>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">engine = Sass::Engine.new(&quot;#main &#123;background-color: #0000ff&#125;&quot;, :syntax =&gt; :scss)</span><br><span class="line">engine.render #=&gt; &quot;#main &#123; background-color: #0000ff; &#125;\n&quot;</span><br></pre></td></tr></table></figure><h3 id="3-1-Rack-Rails-Merb-Plugin"><a href="#3-1-Rack-Rails-Merb-Plugin" class="headerlink" title="3.1. Rack/Rails/Merb Plugin"></a>3.1. Rack/Rails/Merb Plugin</h3><p>åœ¨ Rails 3 ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ä½¿ç”¨ Sassï¼Œéœ€è¦åœ¨ <code>environment.rb</code> æ–‡ä»¶ä¸­æ·»åŠ ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">config.gem &quot;sass&quot;</span><br></pre></td></tr></table></figure><p>Rails 3 åˆ™éœ€è¦åœ¨ Gemfile ä¸­æ·»åŠ ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem &quot;sass&quot;</span><br></pre></td></tr></table></figure><p>åœ¨ Merb ä¸­ä½¿ç”¨ Sassï¼Œéœ€è¦åœ¨ <code>config/dependencies.rb</code> ä¸­æ·»åŠ ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dependency &quot;merb-haml&quot;</span><br></pre></td></tr></table></figure><p>åœ¨ Rack ä¸­ä½¿ç”¨ Sassï¼Œéœ€è¦åœ¨ <code>config.ru</code> ä¸­æ·»åŠ ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">require &#x27;sass/plugin/rack&#x27;</span><br><span class="line">use Sass::Plugin::Rack</span><br></pre></td></tr></table></figure><p>æ ·å¼æ–‡ä»¶ä¸ views ä¸åŒï¼Œä¸åŒ…å«ä»»ä½•åŠ¨æ€å†…å®¹ï¼Œå› æ­¤ CSS åªéœ€è¦åœ¨ Sass æ–‡ä»¶è¢«ä¿®æ”¹åå†ç¼–è¯‘ç”Ÿæˆã€‚é»˜è®¤æƒ…å†µä¸‹ <code>.sass</code> ä¸ <code>.scss</code> æ–‡ä»¶æ”¾ç½®åœ¨ <code>public/stylesheets/sass</code> ä¸­ï¼ˆå¯é€šè¿‡ <a href="http://sass-lang.com/documentation/file.SASS_REFERENCE.html#template_location-option">:template_location</a> ä¿®æ”¹è·¯å¾„ï¼‰ï¼Œç¼–è¯‘ç”Ÿæˆçš„ CSS æ–‡ä»¶æ”¾ç½®åœ¨ <code>public/stylesheets</code> ä¸­ã€‚ä¾‹å¦‚ <code>public/stylesheets/sass/main.scss</code> ç¼–è¯‘ç”Ÿæˆ <code>public/stylesheets/main.css</code>ã€‚</p><h3 id="3-2-ç¼“å­˜-Caching"><a href="#3-2-ç¼“å­˜-Caching" class="headerlink" title="3.2. ç¼“å­˜ (Caching)"></a>3.2. ç¼“å­˜ (Caching)</h3><p>Sass è‡ªåŠ¨ç¼“å­˜ç¼–è¯‘åçš„æ¨¡æ¿ä¸ <a href="http://sass-lang.com/documentation/file.SASS_REFERENCE.html#partials">partials</a>ï¼Œè¿™æ ·åšèƒ½å¤Ÿæ˜¾è‘—æå‡é‡æ–°ç¼–è¯‘çš„é€Ÿåº¦ï¼Œå°¤å…¶åœ¨å¤„ç†ç”± <code>@import</code> å¯¼å…¥å¤šä¸ªå­æ–‡ä»¶çš„å¤§å‹é¡¹ç›®æ—¶ã€‚</p><p>å•ç‹¬ä½¿ç”¨ Sassï¼Œç¼“å­˜å†…å®¹ä¿å­˜åœ¨ <code>.sass-cache</code> æ–‡ä»¶å¤¹ä¸­ã€‚åœ¨ Rails å’Œ Merb é¡¹ç›®ä¸­ç¼“å­˜æ–‡ä»¶ä¿å­˜åœ¨ <code>tmp/sass-cache</code> æ–‡ä»¶å¤¹ä¸­ï¼ˆå¯é€šè¿‡ <a href="https://www.sass.hk/docs/"><code>:cache_location</code></a> ä¿®æ”¹è·¯å¾„ï¼‰ã€‚ç¦ç”¨ç¼“å­˜å¯å°† <code>:cache</code> è®¾ä¸º <code>false</code>ã€‚</p><h3 id="3-3-é…ç½®é€‰é¡¹-Options"><a href="#3-3-é…ç½®é€‰é¡¹-Options" class="headerlink" title="3.3. é…ç½®é€‰é¡¹ (Options)"></a>3.3. é…ç½®é€‰é¡¹ (Options)</h3><p><a href="http://sass-lang.com/documentation/file.SASS_REFERENCE.html#options">æš‚æœªç¿»è¯‘</a></p><h3 id="3-4-åˆ¤æ–­è¯­æ³•æ ¼å¼-Syntax-Selection"><a href="#3-4-åˆ¤æ–­è¯­æ³•æ ¼å¼-Syntax-Selection" class="headerlink" title="3.4. åˆ¤æ–­è¯­æ³•æ ¼å¼ (Syntax Selection)"></a>3.4. åˆ¤æ–­è¯­æ³•æ ¼å¼ (Syntax Selection)</h3><p>Sass å‘½ä»¤è¡Œå·¥å…·æ ¹æ®æ–‡ä»¶çš„æ‹“å±•ååˆ¤æ–­æ‰€ä½¿ç”¨çš„è¯­æ³•æ ¼å¼ï¼Œæ²¡æœ‰æ–‡ä»¶åæ—¶ <code>sass</code> å‘½ä»¤é»˜è®¤ç¼–è¯‘ <code>.sass</code> æ–‡ä»¶ï¼Œæ·»åŠ  <code>--scss</code> é€‰é¡¹æˆ–è€…ä½¿ç”¨ <code>scss</code> å‘½ä»¤ç¼–è¯‘ SCSS æ–‡ä»¶ã€‚</p><h3 id="3-5-ç¼–ç æ ¼å¼-Encodings"><a href="#3-5-ç¼–ç æ ¼å¼-Encodings" class="headerlink" title="3.5. ç¼–ç æ ¼å¼ (Encodings)"></a>3.5. ç¼–ç æ ¼å¼ (Encodings)</h3><p>åœ¨ Ruby 1.9 åŠä»¥ä¸Šç¯å¢ƒä¸­è¿è¡Œ Sass æ—¶ï¼ŒSass å¯¹æ–‡ä»¶çš„ç¼–ç æ ¼å¼æ¯”è¾ƒæ•æ„Ÿï¼Œé¦–å…ˆä¼šæ ¹æ® <a href="http://www.w3.org/TR/2013/WD-css-syntax-3-20130919/#determine-the-fallback-encoding">CSS spec</a> åˆ¤æ–­æ ·å¼æ–‡ä»¶çš„ç¼–ç æ ¼å¼ï¼Œå¦‚æœå¤±è´¥åˆ™æ£€æµ‹ Ruby string encodingã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒSass é¦–å…ˆæ£€æŸ¥ Unicode byte order markï¼Œç„¶åæ˜¯ <code>@charset</code> å£°æ˜ï¼Œæœ€åæ˜¯ Ruby string encodingï¼Œå‡å¦‚éƒ½æ²¡æœ‰æ£€æµ‹åˆ°ï¼Œé»˜è®¤ä½¿ç”¨ UTF-8 ç¼–ç ã€‚</p><p>ä¸ CSS ç›¸åŒï¼Œä½¿ç”¨ <code>@charset</code> å¯ä»¥å£°æ˜ç‰¹å®šçš„ç¼–ç æ ¼å¼ã€‚åœ¨æ ·å¼æ–‡ä»¶çš„èµ·å§‹ä½ç½®ï¼ˆå‰é¢æ²¡æœ‰ä»»ä½•ç©ºç™½ä¸æ³¨é‡Šï¼‰æ’å…¥ <code>@charset &quot;encoding-name&quot;</code>ï¼Œ Sass å°†ä¼šæŒ‰ç…§ç»™å‡ºçš„ç¼–ç æ ¼å¼ç¼–è¯‘æ–‡ä»¶ã€‚æ³¨æ„æ‰€ä½¿ç”¨çš„ç¼–ç æ ¼å¼å¿…é¡»å¯è½¬æ¢ä¸º Unicode å­—ç¬¦é›†ã€‚</p><p>Sass ä»¥ UTF-8 ç¼–ç è¾“å‡º CSS æ–‡ä»¶ï¼Œå½“ä¸”ä»…å½“ç¼–è¯‘åçš„æ–‡ä»¶ä¸­åŒ…å«é ASCII å­—ç¬¦æ—¶ï¼Œæ‰ä¼šåœ¨è¾“å‡ºæ–‡ä»¶ä¸­æ·»åŠ  <code>@charset</code> å£°æ˜ï¼Œè€Œåœ¨å‹ç¼©æ¨¡å¼ä¸‹ (compressed mode) ä½¿ç”¨ UTF-8 byte order mark ä»£æ›¿ <code>@charset</code> å£°æ˜è¯­å¥ã€‚</p><h2 id="4-CSS-åŠŸèƒ½æ‹“å±•-CSS-Extensions"><a href="#4-CSS-åŠŸèƒ½æ‹“å±•-CSS-Extensions" class="headerlink" title="4. CSS åŠŸèƒ½æ‹“å±• (CSS Extensions)"></a>4. CSS åŠŸèƒ½æ‹“å±• (CSS Extensions)</h2><h3 id="4-1-åµŒå¥—è§„åˆ™-Nested-Rules"><a href="#4-1-åµŒå¥—è§„åˆ™-Nested-Rules" class="headerlink" title="4.1. åµŒå¥—è§„åˆ™ (Nested Rules)"></a>4.1. åµŒå¥—è§„åˆ™ (Nested Rules)</h3><p>Sass å…è®¸å°†ä¸€å¥— CSS æ ·å¼åµŒå¥—è¿›å¦ä¸€å¥—æ ·å¼ä¸­ï¼Œå†…å±‚çš„æ ·å¼å°†å®ƒå¤–å±‚çš„é€‰æ‹©å™¨ä½œä¸ºçˆ¶é€‰æ‹©å™¨ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#00ff00</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">97%</span>;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.redbox</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#ff0000</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#000000</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#00ff00</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">97%</span>; &#125;</span><br><span class="line">  <span class="selector-id">#main</span> <span class="selector-tag">p</span> <span class="selector-class">.redbox</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#ff0000</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#000000</span>; &#125;</span><br></pre></td></tr></table></figure><p>åµŒå¥—åŠŸèƒ½é¿å…äº†é‡å¤è¾“å…¥çˆ¶é€‰æ‹©å™¨ï¼Œè€Œä¸”ä»¤å¤æ‚çš„ CSS ç»“æ„æ›´æ˜“äºç®¡ç†ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">97%</span>;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">p</span>, <span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">2em</span>;</span><br><span class="line">    <span class="selector-tag">a</span> &#123; <span class="attribute">font-weight</span>: bold; &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  pre &#123; <span class="attribute">font-size</span>: <span class="number">3em</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">97%</span>; &#125;</span><br><span class="line">  <span class="selector-id">#main</span> <span class="selector-tag">p</span>, <span class="selector-id">#main</span> <span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">2em</span>; &#125;</span><br><span class="line">    <span class="selector-id">#main</span> <span class="selector-tag">p</span> <span class="selector-tag">a</span>, <span class="selector-id">#main</span> <span class="selector-tag">div</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">      <span class="attribute">font-weight</span>: bold; &#125;</span><br><span class="line">  <span class="selector-id">#main</span> pre &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">3em</span>; &#125;</span><br></pre></td></tr></table></figure><h3 id="4-2-çˆ¶é€‰æ‹©å™¨-amp-Referencing-Parent-Selectors-amp"><a href="#4-2-çˆ¶é€‰æ‹©å™¨-amp-Referencing-Parent-Selectors-amp" class="headerlink" title="4.2. çˆ¶é€‰æ‹©å™¨ &amp; (Referencing Parent Selectors: &amp;)"></a>4.2. çˆ¶é€‰æ‹©å™¨ <code>&amp;</code> (Referencing Parent Selectors: <code>&amp;</code>)</h3><p>åœ¨åµŒå¥— CSS è§„åˆ™æ—¶ï¼Œæœ‰æ—¶ä¹Ÿéœ€è¦ç›´æ¥ä½¿ç”¨åµŒå¥—å¤–å±‚çš„çˆ¶é€‰æ‹©å™¨ï¼Œä¾‹å¦‚ï¼Œå½“ç»™æŸä¸ªå…ƒç´ è®¾å®š <code>hover</code> æ ·å¼æ—¶ï¼Œæˆ–è€…å½“ <code>body</code> å…ƒç´ æœ‰æŸä¸ª classname æ—¶ï¼Œå¯ä»¥ç”¨ <code>&amp;</code> ä»£è¡¨åµŒå¥—è§„åˆ™å¤–å±‚çš„çˆ¶é€‰æ‹©å™¨ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  &amp;<span class="selector-pseudo">:hover</span> &#123; <span class="attribute">text-decoration</span>: underline; &#125;</span><br><span class="line">  <span class="selector-tag">body</span><span class="selector-class">.firefox</span> &amp; &#123; <span class="attribute">font-weight</span>: normal; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none; &#125;</span><br><span class="line">  <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: underline; &#125;</span><br><span class="line">  <span class="selector-tag">body</span><span class="selector-class">.firefox</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: normal; &#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘åçš„ CSS æ–‡ä»¶ä¸­ <code>&amp;</code> å°†è¢«æ›¿æ¢æˆåµŒå¥—å¤–å±‚çš„çˆ¶é€‰æ‹©å™¨ï¼Œå¦‚æœå«æœ‰å¤šå±‚åµŒå¥—ï¼Œæœ€å¤–å±‚çš„çˆ¶é€‰æ‹©å™¨ä¼šä¸€å±‚ä¸€å±‚å‘ä¸‹ä¼ é€’ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">  <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    &amp;<span class="selector-pseudo">:hover</span> &#123; <span class="attribute">color</span>: red; &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black; &#125;</span><br><span class="line">  <span class="selector-id">#main</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold; &#125;</span><br><span class="line">    <span class="selector-id">#main</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: red; &#125;</span><br></pre></td></tr></table></figure><p><code>&amp;</code> å¿…é¡»ä½œä¸ºé€‰æ‹©å™¨çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œå…¶åå¯ä»¥è·Ÿéšåç¼€ç”Ÿæˆå¤åˆçš„é€‰æ‹©å™¨ï¼Œä¾‹å¦‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">  &amp;-sidebar &#123; <span class="attribute">border</span>: <span class="number">1px</span> solid; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black; &#125;</span><br><span class="line">  <span class="selector-id">#main-sidebar</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid; &#125;</span><br></pre></td></tr></table></figure><p>å½“çˆ¶é€‰æ‹©å™¨å«æœ‰ä¸åˆé€‚çš„åç¼€æ—¶ï¼ŒSass å°†ä¼šæŠ¥é”™ã€‚</p><h3 id="4-3-å±æ€§åµŒå¥—-Nested-Properties"><a href="#4-3-å±æ€§åµŒå¥—-Nested-Properties" class="headerlink" title="4.3. å±æ€§åµŒå¥— (Nested Properties)"></a>4.3. å±æ€§åµŒå¥— (Nested Properties)</h3><p>æœ‰äº› CSS å±æ€§éµå¾ªç›¸åŒçš„å‘½åç©ºé—´ (namespace)ï¼Œæ¯”å¦‚ <code>font-family, font-size, font-weight</code> éƒ½ä»¥ <code>font</code> ä½œä¸ºå±æ€§çš„å‘½åç©ºé—´ã€‚ä¸ºäº†ä¾¿äºç®¡ç†è¿™æ ·çš„å±æ€§ï¼ŒåŒæ—¶ä¹Ÿä¸ºäº†é¿å…äº†é‡å¤è¾“å…¥ï¼ŒSass å…è®¸å°†å±æ€§åµŒå¥—åœ¨å‘½åç©ºé—´ä¸­ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.funky</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: &#123;</span><br><span class="line">    family: fantasy;</span><br><span class="line">    size: <span class="number">30em</span>;</span><br><span class="line">    weight: bold;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.funky</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: fantasy;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">30em</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold; &#125;</span><br></pre></td></tr></table></figure><p>å‘½åç©ºé—´ä¹Ÿå¯ä»¥åŒ…å«è‡ªå·±çš„å±æ€§å€¼ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.funky</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: <span class="number">20px</span>/<span class="number">24px</span> &#123;</span><br><span class="line">    family: fantasy;</span><br><span class="line">    weight: bold;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.funky</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: <span class="number">20px</span>/<span class="number">24px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: fantasy;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold; &#125;</span><br></pre></td></tr></table></figure><h3 id="4-4-å ä½ç¬¦é€‰æ‹©å™¨-foo-Placeholder-Selectors-foo"><a href="#4-4-å ä½ç¬¦é€‰æ‹©å™¨-foo-Placeholder-Selectors-foo" class="headerlink" title="4.4. å ä½ç¬¦é€‰æ‹©å™¨ %foo (Placeholder Selectors: %foo)"></a>4.4. å ä½ç¬¦é€‰æ‹©å™¨ <code>%foo</code> (Placeholder Selectors: <code>%foo</code>)</h3><p>Sass é¢å¤–æä¾›äº†ä¸€ç§ç‰¹æ®Šç±»å‹çš„é€‰æ‹©å™¨ï¼šå ä½ç¬¦é€‰æ‹©å™¨ (placeholder selector)ã€‚ä¸å¸¸ç”¨çš„ id ä¸ class é€‰æ‹©å™¨å†™æ³•ç›¸ä¼¼ï¼Œåªæ˜¯ <code>#</code> æˆ– <code>.</code> æ›¿æ¢æˆäº† <code>%</code>ã€‚å¿…é¡»é€šè¿‡ <a href="https://www.sass.hk/docs/#t7-3">@extend</a> æŒ‡ä»¤è°ƒç”¨ï¼Œæ›´å¤šä»‹ç»è¯·æŸ¥é˜… <a href="https://www.sass.hk/docs/#t7-3-6">@extend-Only Selectors</a>ã€‚</p><p>å½“å ä½ç¬¦é€‰æ‹©å™¨å•ç‹¬ä½¿ç”¨æ—¶ï¼ˆæœªé€šè¿‡ <code>@extend</code> è°ƒç”¨ï¼‰ï¼Œä¸ä¼šç¼–è¯‘åˆ° CSS æ–‡ä»¶ä¸­ã€‚</p><h2 id="5-æ³¨é‡Š-ä¸-Comments-and"><a href="#5-æ³¨é‡Š-ä¸-Comments-and" class="headerlink" title="5. æ³¨é‡Š /* */ ä¸ // (Comments: /* */ and //)"></a>5. æ³¨é‡Š <code>/* */</code> ä¸ <code>//</code> (Comments: <code>/* */</code> and <code>//</code>)</h2><p>Sass æ”¯æŒæ ‡å‡†çš„ CSS å¤šè¡Œæ³¨é‡Š <code>/* */</code>ï¼Œä»¥åŠå•è¡Œæ³¨é‡Š <code>//</code>ï¼Œå‰è€…ä¼š è¢«å®Œæ•´è¾“å‡ºåˆ°ç¼–è¯‘åçš„ CSS æ–‡ä»¶ä¸­ï¼Œè€Œåè€…åˆ™ä¸ä¼šï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* This comment is</span></span><br><span class="line"><span class="comment"> * several lines long.</span></span><br><span class="line"><span class="comment"> * since it uses the CSS comment syntax,</span></span><br><span class="line"><span class="comment"> * it will appear in the CSS output. */</span></span><br><span class="line"><span class="selector-tag">body</span> &#123; <span class="attribute">color</span>: black; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// These comments are only one line long each.</span></span><br><span class="line"><span class="comment">// They won&#x27;t appear in the CSS output,</span></span><br><span class="line"><span class="comment">// since they use the single-line comment syntax.</span></span><br><span class="line"><span class="selector-tag">a</span> &#123; <span class="attribute">color</span>: green; &#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* This comment is</span></span><br><span class="line"><span class="comment"> * several lines long.</span></span><br><span class="line"><span class="comment"> * since it uses the CSS comment syntax,</span></span><br><span class="line"><span class="comment"> * it will appear in the CSS output. */</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: green; &#125;</span><br></pre></td></tr></table></figure><p>å°† <code>!</code> ä½œä¸ºå¤šè¡Œæ³¨é‡Šçš„ç¬¬ä¸€ä¸ªå­—ç¬¦è¡¨ç¤ºåœ¨å‹ç¼©è¾“å‡ºæ¨¡å¼ä¸‹ä¿ç•™è¿™æ¡æ³¨é‡Šå¹¶è¾“å‡ºåˆ° CSS æ–‡ä»¶ä¸­ï¼Œé€šå¸¸ç”¨äºæ·»åŠ ç‰ˆæƒä¿¡æ¯ã€‚</p><p>æ’å€¼è¯­å¥ (interpolation) ä¹Ÿå¯å†™è¿›å¤šè¡Œæ³¨é‡Šä¸­è¾“å‡ºå˜é‡å€¼ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$version</span>: <span class="string">&quot;1.2.3&quot;</span>;</span><br><span class="line"><span class="comment">/* This CSS is generated by My Snazzy Framework version #&#123;$version&#125;. */</span></span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* This CSS is generated by My Snazzy Framework version 1.2.3. */</span></span><br></pre></td></tr></table></figure><h2 id="6-SassScript"><a href="#6-SassScript" class="headerlink" title="6. SassScript"></a>6. SassScript</h2><p>åœ¨ CSS å±æ€§çš„åŸºç¡€ä¸Š Sass æä¾›äº†ä¸€äº›åä¸º SassScript çš„æ–°åŠŸèƒ½ã€‚ SassScript å¯ä½œç”¨äºä»»ä½•å±æ€§ï¼Œå…è®¸å±æ€§ä½¿ç”¨å˜é‡ã€ç®—æ•°è¿ç®—ç­‰é¢å¤–åŠŸèƒ½ã€‚</p><p>é€šè¿‡ interpolationï¼ŒSassScript ç”šè‡³å¯ä»¥ç”Ÿæˆé€‰æ‹©å™¨æˆ–å±æ€§åï¼Œè¿™ä¸€ç‚¹å¯¹ç¼–å†™ mixin æœ‰å¾ˆå¤§å¸®åŠ©ã€‚</p><h3 id="6-1-Interactive-Shell"><a href="#6-1-Interactive-Shell" class="headerlink" title="6.1. Interactive Shell"></a>6.1. Interactive Shell</h3><p>Interactive Shell å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­æµ‹è¯• SassScript çš„åŠŸèƒ½ã€‚åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ <code>sass -i</code>ï¼Œç„¶åè¾“å…¥æƒ³è¦æµ‹è¯•çš„ SassScript æŸ¥çœ‹è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ sass -i</span><br><span class="line">&gt;&gt; &quot;Hello, Sassy World!&quot;</span><br><span class="line">&quot;Hello, Sassy World!&quot;</span><br><span class="line">&gt;&gt; 1px + 1px + 1px</span><br><span class="line">3px</span><br><span class="line">&gt;&gt; #777 + #777</span><br><span class="line">#eeeeee</span><br><span class="line">&gt;&gt; #777 + #888</span><br><span class="line">white</span><br></pre></td></tr></table></figure><h3 id="6-2-å˜é‡-Variables"><a href="#6-2-å˜é‡-Variables" class="headerlink" title="6.2. å˜é‡ ###  (Variables: ### )"></a>6.2. å˜é‡ <code>###  (Variables: </code>### )</h3><p>SassScript æœ€æ™®éçš„ç”¨æ³•å°±æ˜¯å˜é‡ï¼Œå˜é‡ä»¥ç¾å…ƒç¬¦å·å¼€å¤´ï¼Œèµ‹å€¼æ–¹æ³•ä¸ CSS å±æ€§çš„å†™æ³•ä¸€æ ·ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$width</span>: <span class="number">5em</span>;</span><br></pre></td></tr></table></figure><p>ç›´æ¥ä½¿ç”¨å³è°ƒç”¨å˜é‡ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: $width;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å˜é‡æ”¯æŒå—çº§ä½œç”¨åŸŸï¼ŒåµŒå¥—è§„åˆ™å†…å®šä¹‰çš„å˜é‡åªèƒ½åœ¨åµŒå¥—è§„åˆ™å†…ä½¿ç”¨ï¼ˆå±€éƒ¨å˜é‡ï¼‰ï¼Œä¸åœ¨åµŒå¥—è§„åˆ™å†…å®šä¹‰çš„å˜é‡åˆ™å¯åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼ˆå…¨å±€å˜é‡ï¼‰ã€‚å°†å±€éƒ¨å˜é‡è½¬æ¢ä¸ºå…¨å±€å˜é‡å¯ä»¥æ·»åŠ  <code>!global</code>å£°æ˜ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> &#123;</span><br><span class="line">  <span class="variable">$width</span>: <span class="number">5em</span> !global;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">$width</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#sidebar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">$width</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">5em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#sidebar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">5em</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-3-æ•°æ®ç±»å‹-Data-Types"><a href="#6-3-æ•°æ®ç±»å‹-Data-Types" class="headerlink" title="6.3. æ•°æ®ç±»å‹ (Data Types)"></a>6.3. æ•°æ®ç±»å‹ (Data Types)</h3><p>SassScript æ”¯æŒ 6 ç§ä¸»è¦çš„æ•°æ®ç±»å‹ï¼š</p><ul><li>æ•°å­—ï¼Œ<code>1, 2, 13, 10px</code></li><li>å­—ç¬¦ä¸²ï¼Œæœ‰å¼•å·å­—ç¬¦ä¸²ä¸æ— å¼•å·å­—ç¬¦ä¸²ï¼Œ<code>&quot;foo&quot;, &#39;bar&#39;, baz</code></li><li>é¢œè‰²ï¼Œ<code>blue, #04a3f9, rgba(255,0,0,0.5)</code></li><li>å¸ƒå°”å‹ï¼Œ<code>true, false</code></li><li>ç©ºå€¼ï¼Œ<code>null</code></li><li>æ•°ç»„ (list)ï¼Œç”¨ç©ºæ ¼æˆ–é€—å·ä½œåˆ†éš”ç¬¦ï¼Œ<code>1.5em 1em 0 2em, Helvetica, Arial, sans-serif</code></li><li>maps, ç›¸å½“äº JavaScript çš„ objectï¼Œ<code>(key1: value1, key2: value2)</code></li></ul><p>SassScript ä¹Ÿæ”¯æŒå…¶ä»– CSS å±æ€§å€¼ï¼Œæ¯”å¦‚ Unicode å­—ç¬¦é›†ï¼Œæˆ– <code>!important</code> å£°æ˜ã€‚ç„¶è€ŒSass ä¸ä¼šç‰¹æ®Šå¯¹å¾…è¿™äº›å±æ€§å€¼ï¼Œä¸€å¾‹è§†ä¸ºæ— å¼•å·å­—ç¬¦ä¸²ã€‚</p><h4 id="6-3-1-å­—ç¬¦ä¸²-Strings"><a href="#6-3-1-å­—ç¬¦ä¸²-Strings" class="headerlink" title="6.3.1. å­—ç¬¦ä¸² (Strings)"></a>6.3.1. å­—ç¬¦ä¸² (Strings)</h4><p>SassScript æ”¯æŒ CSS çš„ä¸¤ç§å­—ç¬¦ä¸²ç±»å‹ï¼šæœ‰å¼•å·å­—ç¬¦ä¸² (quoted strings)ï¼Œå¦‚ <code>&quot;Lucida Grande&quot;</code> <code>&#39;http://sass-lang.com&#39;</code>ï¼›ä¸æ— å¼•å·å­—ç¬¦ä¸² (unquoted strings)ï¼Œå¦‚ <code>sans-serif</code> <code>bold</code>ï¼Œåœ¨ç¼–è¯‘ CSS æ–‡ä»¶æ—¶ä¸ä¼šæ”¹å˜å…¶ç±»å‹ã€‚åªæœ‰ä¸€ç§æƒ…å†µä¾‹å¤–ï¼Œä½¿ç”¨ <code>#&#123;&#125;</code> (interpolation) æ—¶ï¼Œæœ‰å¼•å·å­—ç¬¦ä¸²å°†è¢«ç¼–è¯‘ä¸ºæ— å¼•å·å­—ç¬¦ä¸²ï¼Œè¿™æ ·ä¾¿äºåœ¨ mixin ä¸­å¼•ç”¨é€‰æ‹©å™¨åï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> firefox-message(<span class="variable">$selector</span>) &#123;</span><br><span class="line">  <span class="selector-tag">body</span><span class="selector-class">.firefox</span> #&#123;<span class="variable">$selector</span>&#125;<span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;Hi, Firefox users!&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@include</span> firefox-message(<span class="string">&quot;.header&quot;</span>);</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span><span class="selector-class">.firefox</span> <span class="selector-class">.header</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;Hi, Firefox users!&quot;</span>; &#125;</span><br></pre></td></tr></table></figure><h4 id="6-3-2-æ•°ç»„-Lists"><a href="#6-3-2-æ•°ç»„-Lists" class="headerlink" title="6.3.2. æ•°ç»„ (Lists)"></a>6.3.2. æ•°ç»„ (Lists)</h4><p>æ•°ç»„ (lists) æŒ‡ Sass å¦‚ä½•å¤„ç† CSS ä¸­ <code>margin: 10px 15px 0 0</code> æˆ–è€… <code>font-face: Helvetica, Arial, sans-serif</code> è¿™æ ·é€šè¿‡ç©ºæ ¼æˆ–è€…é€—å·åˆ†éš”çš„ä¸€ç³»åˆ—çš„å€¼ã€‚äº‹å®ä¸Šï¼Œç‹¬ç«‹çš„å€¼ä¹Ÿè¢«è§†ä¸ºæ•°ç»„ â€”â€” åªåŒ…å«ä¸€ä¸ªå€¼çš„æ•°ç»„ã€‚</p><p>æ•°ç»„æœ¬èº«æ²¡æœ‰å¤ªå¤šåŠŸèƒ½ï¼Œä½† <a href="http://sass-lang.com/docs/yardoc/Sass/Script/Functions.html#list-functions">Sass list functions</a> èµ‹äºˆäº†æ•°ç»„æ›´å¤šæ–°åŠŸèƒ½ï¼š<code>nth</code> å‡½æ•°å¯ä»¥ç›´æ¥è®¿é—®æ•°ç»„ä¸­çš„æŸä¸€é¡¹ï¼›<code>join</code> å‡½æ•°å¯ä»¥å°†å¤šä¸ªæ•°ç»„è¿æ¥åœ¨ä¸€èµ·ï¼›<code>append</code> å‡½æ•°å¯ä»¥åœ¨æ•°ç»„ä¸­æ·»åŠ æ–°å€¼ï¼›è€Œ <code>@each</code> æŒ‡ä»¤èƒ½å¤Ÿéå†æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ã€‚</p><p>æ•°ç»„ä¸­å¯ä»¥åŒ…å«å­æ•°ç»„ï¼Œæ¯”å¦‚ <code>1px 2px, 5px 6px</code> æ˜¯åŒ…å« <code>1px 2px</code> ä¸ <code>5px 6px</code> ä¸¤ä¸ªæ•°ç»„çš„æ•°ç»„ã€‚å¦‚æœå†…å¤–ä¸¤å±‚æ•°ç»„ä½¿ç”¨ç›¸åŒçš„åˆ†éš”æ–¹å¼ï¼Œéœ€è¦ç”¨åœ†æ‹¬å·åŒ…è£¹å†…å±‚ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å†™æˆ <code>(1px 2px) (5px 6px)</code>ã€‚å˜åŒ–æ˜¯ï¼Œä¹‹å‰çš„ <code>1px 2px, 5px 6px</code> ä½¿ç”¨é€—å·åˆ†å‰²äº†ä¸¤ä¸ªå­æ•°ç»„ (comma-separated)ï¼Œè€Œ <code>(1px 2px) (5px 6px)</code> åˆ™ä½¿ç”¨ç©ºæ ¼åˆ†å‰²(space-separated)ã€‚</p><p>å½“æ•°ç»„è¢«ç¼–è¯‘ä¸º CSS æ—¶ï¼ŒSass ä¸ä¼šæ·»åŠ ä»»ä½•åœ†æ‹¬å·ï¼ˆCSS ä¸­æ²¡æœ‰è¿™ç§å†™æ³•ï¼‰ï¼Œæ‰€ä»¥ <code>(1px 2px) (5px 6px)</code> ä¸ <code>1px 2px, 5px 6px</code> åœ¨ç¼–è¯‘åçš„ CSS æ–‡ä»¶ä¸­æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œä½†æ˜¯å®ƒä»¬åœ¨ Sass æ–‡ä»¶ä¸­å´æœ‰ä¸åŒçš„æ„ä¹‰ï¼Œå‰è€…æ˜¯åŒ…å«ä¸¤ä¸ªæ•°ç»„çš„æ•°ç»„ï¼Œè€Œåè€…æ˜¯åŒ…å«å››ä¸ªå€¼çš„æ•°ç»„ã€‚</p><p>ç”¨ <code>()</code> è¡¨ç¤ºä¸åŒ…å«ä»»ä½•å€¼çš„ç©ºæ•°ç»„ï¼ˆåœ¨ Sass 3.3 ç‰ˆä¹‹åä¹Ÿè§†ä¸ºç©ºçš„ mapï¼‰ã€‚ç©ºæ•°ç»„ä¸å¯ä»¥ç›´æ¥ç¼–è¯‘æˆ CSSï¼Œæ¯”å¦‚ç¼–è¯‘ <code>font-family: ()</code> Sass å°†ä¼šæŠ¥é”™ã€‚å¦‚æœæ•°ç»„ä¸­åŒ…å«ç©ºæ•°ç»„æˆ–ç©ºå€¼ï¼Œç¼–è¯‘æ—¶å°†è¢«æ¸…é™¤ï¼Œæ¯”å¦‚ <code>1px 2px () 3px</code> æˆ– <code>1px 2px null 3px</code>ã€‚</p><p>åŸºäºé€—å·åˆ†éš”çš„æ•°ç»„å…è®¸ä¿ç•™ç»“å°¾çš„é€—å·ï¼Œè¿™æ ·åšçš„æ„ä¹‰æ˜¯å¼ºè°ƒæ•°ç»„çš„ç»“æ„å…³ç³»ï¼Œå°¤å…¶æ˜¯éœ€è¦å£°æ˜åªåŒ…å«å•ä¸ªå€¼çš„æ•°ç»„æ—¶ã€‚ä¾‹å¦‚ <code>(1,)</code> è¡¨ç¤ºåªåŒ…å« <code>1</code> çš„æ•°ç»„ï¼Œè€Œ <code>(1 2 3,)</code> è¡¨ç¤ºåŒ…å« <code>1 2 3</code> è¿™ä¸ªä»¥ç©ºæ ¼åˆ†éš”çš„æ•°ç»„çš„æ•°ç»„ã€‚</p><h4 id="6-3-3-Maps"><a href="#6-3-3-Maps" class="headerlink" title="6.3.3. Maps"></a>6.3.3. Maps</h4><p>Maps represent an association between keys and values, where keys are used to look up values. They make it easy to collect values into named groups and access those groups dynamically. They have no direct parallel in CSS, although theyâ€™re syntactically similar to media query expressions: </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scss $map: (key1: value1, key2: value2, key3: value3);</span><br></pre></td></tr></table></figure><p> Unlike lists, maps must always be surrounded by parentheses and must always be comma-separated. Both the keys and values in maps can be any SassScript object. A map may only have one value associated with a given key (although that value may be a list). A given value may be associated with many keys, though. Like lists, maps are mostly manipulated using SassScript functions. The map-get function looks up values in a map and the map-merge function adds values to a map. The @each directive can be used to add styles for each key/value pair in a map. The order of pairs in a map is always the same as when the map was created. Maps can also be used anywhere lists can. When used by a list function, a map is treated as a list of pairs. For example, (key1: value1, key2: value2) would be treated as the nested list key1 value1, key2 value2 by list functions. Lists cannot be treated as maps, though, with the exception of the empty list. () represents both a map with no key/value pairs and a list with no elements. Note that map keys can be any Sass data type (even another map) and the syntax for declaring a map allows arbitrary SassScript expressions that will be evaluated to determine the key. Maps cannot be converted to plain CSS. Using one as the value of a variable or an argument to a CSS function will cause an error. Use the inspect($value) function to produce an output string useful for debugging maps. </p><p>ä¸­æ–‡ç®€è¦è¯´æ˜:</p><p>Mapså¯è§†ä¸ºé”®å€¼å¯¹çš„é›†åˆï¼Œé”®è¢«ç”¨äºå®šä½å€¼ åœ¨cssç§æ²¡æœ‰å¯¹åº”çš„æ¦‚å¿µã€‚ å’ŒListsä¸åŒMapså¿…é¡»è¢«åœ†æ‹¬å·åŒ…å›´ï¼Œé”®å€¼å¯¹è¢«éƒ½å¥½åˆ†å‰² ã€‚ Mapsä¸­çš„keyså’Œvalueså¯ä»¥æ˜¯sassscriptçš„ä»»ä½•å¯¹è±¡ã€‚ï¼ˆåŒ…æ‹¬ä»»æ„çš„sassscriptè¡¨è¾¾å¼ arbitrary SassScript expressionsï¼‰ å’ŒListsä¸€æ ·Mapsä¸»è¦ä¸ºsassscriptå‡½æ•°æœåŠ¡ï¼Œå¦‚ map-getå‡½æ•°ç”¨äºæŸ¥æ‰¾é”®å€¼ï¼Œmap-mergeå‡½æ•°ç”¨äºmapå’Œæ–°åŠ çš„é”®å€¼èåˆï¼Œ@eachå‘½ä»¤å¯æ·»åŠ æ ·å¼åˆ°ä¸€ä¸ªmapä¸­çš„æ¯ä¸ªé”®å€¼å¯¹ã€‚ Mapså¯ç”¨äºä»»ä½•Listså¯ç”¨çš„åœ°æ–¹ï¼Œåœ¨Listå‡½æ•°ä¸­ Mapä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸ºList ï¼Œ å¦‚ (key1: value1, key2: value2)ä¼šè¢«Listå‡½æ•°è½¬æ¢ä¸º key1 value1, key2 value2 ï¼Œåä¹‹åˆ™ä¸èƒ½ã€‚(ç½‘å‹Soledadæä¾›)</p><h4 id="6-3-4-é¢œè‰²-Colors"><a href="#6-3-4-é¢œè‰²-Colors" class="headerlink" title="6.3.4. é¢œè‰² (Colors)"></a>6.3.4. é¢œè‰² (Colors)</h4><p>Any CSS color expression returns a SassScript Color value. This includes a large number of named colors which are indistinguishable from unquoted strings. In compressed output mode, Sass will output the smallest CSS representation of a color. For example, #FF0000 will output as red in compressed mode, but blanchedalmond will output as #FFEBCD. A common issue users encounter with named colors is that since Sass prefers the same output format as was typed in other output modes, a color interpolated into a selector becomes invalid syntax when compressed. To avoid this, always quote named colors if they are meant to be used in the construction of a selector.</p><h3 id="6-4-è¿ç®—-Operations"><a href="#6-4-è¿ç®—-Operations" class="headerlink" title="6.4. è¿ç®— (Operations)"></a>6.4. è¿ç®— (Operations)</h3><p>æ‰€æœ‰æ•°æ®ç±»å‹å‡æ”¯æŒç›¸ç­‰è¿ç®— </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">==</span><br></pre></td></tr></table></figure><p> æˆ– </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!=</span><br></pre></td></tr></table></figure><p>ï¼Œæ­¤å¤–ï¼Œæ¯ç§æ•°æ®ç±»å‹ä¹Ÿæœ‰å…¶å„è‡ªæ”¯æŒçš„è¿ç®—æ–¹å¼ã€‚</p><h4 id="6-4-1-æ•°å­—è¿ç®—-Number-Operations"><a href="#6-4-1-æ•°å­—è¿ç®—-Number-Operations" class="headerlink" title="6.4.1. æ•°å­—è¿ç®— (Number Operations)"></a>6.4.1. æ•°å­—è¿ç®— (Number Operations)</h4><p>SassScript æ”¯æŒæ•°å­—çš„åŠ å‡ä¹˜é™¤ã€å–æ•´ç­‰è¿ç®— (<code>+, -, *, /, %</code>)ï¼Œå¦‚æœå¿…è¦ä¼šåœ¨ä¸åŒå•ä½é—´è½¬æ¢å€¼ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1in</span> + <span class="number">8pt</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1.111in</span>; &#125;</span><br></pre></td></tr></table></figure><p>å…³ç³»è¿ç®— <code>&lt;, &gt;, &lt;=, &gt;=</code> ä¹Ÿå¯ç”¨äºæ•°å­—è¿ç®—ï¼Œç›¸ç­‰è¿ç®— <code>==, !=</code> å¯ç”¨äºæ‰€æœ‰æ•°æ®ç±»å‹ã€‚</p><h5 id="6-4-1-1-é™¤æ³•è¿ç®—-Division-and"><a href="#6-4-1-1-é™¤æ³•è¿ç®—-Division-and" class="headerlink" title="6.4.1.1. é™¤æ³•è¿ç®— / (Division and /)"></a>6.4.1.1. é™¤æ³•è¿ç®— <code>/</code> (Division and <code>/</code>)</h5><p><code>/</code> åœ¨ CSS ä¸­é€šå¸¸èµ·åˆ°åˆ†éš”æ•°å­—çš„ç”¨é€”ï¼ŒSassScript ä½œä¸º CSS è¯­è¨€çš„æ‹“å±•å½“ç„¶ä¹Ÿæ”¯æŒè¿™ä¸ªåŠŸèƒ½ï¼ŒåŒæ—¶ä¹Ÿèµ‹äºˆäº† <code>/</code> é™¤æ³•è¿ç®—çš„åŠŸèƒ½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ <code>/</code> åœ¨ SassScript ä¸­æŠŠä¸¤ä¸ªæ•°å­—åˆ†éš”ï¼Œç¼–è¯‘åçš„ CSS æ–‡ä»¶ä¸­ä¹Ÿæ˜¯åŒæ ·çš„ä½œç”¨ã€‚</p><p>ä»¥ä¸‹ä¸‰ç§æƒ…å†µ <code>/</code> å°†è¢«è§†ä¸ºé™¤æ³•è¿ç®—ç¬¦å·ï¼š</p><ul><li>å¦‚æœå€¼ï¼Œæˆ–å€¼çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯å˜é‡æˆ–è€…å‡½æ•°çš„è¿”å›å€¼</li><li>å¦‚æœå€¼è¢«åœ†æ‹¬å·åŒ…è£¹</li><li>å¦‚æœå€¼æ˜¯ç®—æ•°è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: <span class="number">10px</span>/<span class="number">8px</span>;             <span class="comment">// Plain CSS, no division</span></span><br><span class="line">  <span class="variable">$width</span>: <span class="number">1000px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">$width</span>/<span class="number">2</span>;            <span class="comment">// Uses a variable, does division</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">round</span>(<span class="number">1.5</span>)/<span class="number">2</span>;        <span class="comment">// Uses a function, does division</span></span><br><span class="line">  <span class="attribute">height</span>: (<span class="number">500px</span>/<span class="number">2</span>);          <span class="comment">// Uses parentheses, does division</span></span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">5px</span> + <span class="number">8px</span>/<span class="number">2px</span>; <span class="comment">// Uses +, does division</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: <span class="number">10px</span>/<span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">250px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">9px</span>; &#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦ä½¿ç”¨å˜é‡ï¼ŒåŒæ—¶åˆè¦ç¡®ä¿ <code>/</code> ä¸åšé™¤æ³•è¿ç®—è€Œæ˜¯å®Œæ•´åœ°ç¼–è¯‘åˆ° CSS æ–‡ä»¶ä¸­ï¼Œåªéœ€è¦ç”¨ <code>#&#123;&#125;</code> æ’å€¼è¯­å¥å°†å˜é‡åŒ…è£¹ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="variable">$font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="variable">$line-height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">font</span>: #&#123;<span class="variable">$font-size</span>&#125;/#&#123;<span class="variable">$line-height</span>&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: <span class="number">12px</span>/<span class="number">30px</span>; &#125;</span><br></pre></td></tr></table></figure><h4 id="6-4-2-é¢œè‰²å€¼è¿ç®—-Color-Operations"><a href="#6-4-2-é¢œè‰²å€¼è¿ç®—-Color-Operations" class="headerlink" title="6.4.2. é¢œè‰²å€¼è¿ç®— (Color Operations)"></a>6.4.2. é¢œè‰²å€¼è¿ç®— (Color Operations)</h4><p>é¢œè‰²å€¼çš„è¿ç®—æ˜¯åˆ†æ®µè®¡ç®—è¿›è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯åˆ†åˆ«è®¡ç®—çº¢è‰²ï¼Œç»¿è‰²ï¼Œä»¥åŠè“è‰²çš„å€¼ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#010203</span> + <span class="number">#040506</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®¡ç®— <code>01 + 04 = 05</code> <code>02 + 05 = 07</code> <code>03 + 06 = 09</code>ï¼Œç„¶åç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#050709</span>; &#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <a href="http://sass-lang.com/docs/yardoc/Sass/Script/Functions.html">color functions</a> æ¯”è®¡ç®—é¢œè‰²å€¼æ›´æ–¹ä¾¿ä¸€äº›ã€‚</p><p>æ•°å­—ä¸é¢œè‰²å€¼ä¹‹é—´ä¹Ÿå¯ä»¥è¿›è¡Œç®—æ•°è¿ç®—ï¼ŒåŒæ ·ä¹Ÿæ˜¯åˆ†æ®µè®¡ç®—çš„ï¼Œæ¯”å¦‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#010203</span> * <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®¡ç®— <code>01 * 2 = 02</code> <code>02 * 2 = 04</code> <code>03 * 2 = 06</code>ï¼Œç„¶åç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#020406</span>; &#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœé¢œè‰²å€¼åŒ…å« alpha channelï¼ˆrgba æˆ– hsla ä¸¤ç§é¢œè‰²å€¼ï¼‰ï¼Œå¿…é¡»æ‹¥æœ‰ç›¸ç­‰çš„ alpha å€¼æ‰èƒ½è¿›è¡Œè¿ç®—ï¼Œå› ä¸ºç®—æœ¯è¿ç®—ä¸ä¼šä½œç”¨äº alpha å€¼ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.75</span>) + <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0.75</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0.75</span>); &#125;</span><br></pre></td></tr></table></figure><p>é¢œè‰²å€¼çš„ alpha channel å¯ä»¥é€šè¿‡ <a href="http://sass-lang.com/docs/yardoc/Sass/Script/Functions.html#opacify-instance_method">opacify</a> æˆ– <a href="http://sass-lang.com/docs/yardoc/Sass/Script/Functions.html#transparentize-instance_method">transparentize</a> ä¸¤ä¸ªå‡½æ•°è¿›è¡Œè°ƒæ•´ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$translucent-red</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">opacify</span>(<span class="variable">$translucent-red</span>, <span class="number">0.3</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">transparentize</span>(<span class="variable">$translucent-red</span>, <span class="number">0.25</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.8</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.25</span>); &#125;</span><br></pre></td></tr></table></figure><p>IE æ»¤é•œè¦æ±‚æ‰€æœ‰çš„é¢œè‰²å€¼åŒ…å« alpha å±‚ï¼Œè€Œä¸”æ ¼å¼å¿…é¡»å›ºå®š <code>#AABBCCDD</code>ï¼Œä½¿ç”¨ <code>ie_hex_str</code> å‡½æ•°å¯ä»¥å¾ˆå®¹æ˜“åœ°å°†é¢œè‰²è½¬åŒ–ä¸º IE æ»¤é•œè¦æ±‚çš„æ ¼å¼ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$translucent-red</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span><br><span class="line"><span class="variable">$green</span>: <span class="number">#00ff00</span>;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">filter</span>: progid:DXImageTransform.Microsoft.<span class="built_in">gradient</span>(enabled=<span class="string">&#x27;false&#x27;</span>, startColorstr=<span class="string">&#x27;#&#123;ie-hex-str($green)&#125;&#x27;</span>, endColorstr=<span class="string">&#x27;#&#123;ie-hex-str($translucent-red)&#125;&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">filter</span>: progid:DXImageTransform.Microsoft.<span class="built_in">gradient</span>(enabled=<span class="string">&#x27;false&#x27;</span>, startColorstr=<span class="number">#FF00FF00</span>, endColorstr=<span class="number">#80FF0000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="6-4-3-å­—ç¬¦ä¸²è¿ç®—-String-Operations"><a href="#6-4-3-å­—ç¬¦ä¸²è¿ç®—-String-Operations" class="headerlink" title="6.4.3. å­—ç¬¦ä¸²è¿ç®— (String Operations)"></a>6.4.3. å­—ç¬¦ä¸²è¿ç®— (String Operations)</h4><p><code>+</code> å¯ç”¨äºè¿æ¥å­—ç¬¦ä¸²</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: e + -resize;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: e-resize; &#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œå¦‚æœæœ‰å¼•å·å­—ç¬¦ä¸²ï¼ˆä½äº <code>+</code> å·¦ä¾§ï¼‰è¿æ¥æ— å¼•å·å­—ç¬¦ä¸²ï¼Œè¿ç®—ç»“æœæ˜¯æœ‰å¼•å·çš„ï¼Œç›¸åï¼Œæ— å¼•å·å­—ç¬¦ä¸²ï¼ˆä½äº <code>+</code> å·¦ä¾§ï¼‰è¿æ¥æœ‰å¼•å·å­—ç¬¦ä¸²ï¼Œè¿ç®—ç»“æœåˆ™æ²¡æœ‰å¼•å·ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;Foo &quot;</span> + Bar;</span><br><span class="line">  <span class="attribute">font-family</span>: sans- + <span class="string">&quot;serif&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;Foo Bar&quot;</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: sans-serif; &#125;</span><br></pre></td></tr></table></figure><p>è¿ç®—è¡¨è¾¾å¼ä¸å…¶ä»–å€¼è¿ç”¨æ—¶ï¼Œç”¨ç©ºæ ¼åšè¿æ¥ç¬¦ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">3px</span> + <span class="number">4px</span> auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">7px</span> auto; &#125;</span><br></pre></td></tr></table></figure><p>åœ¨æœ‰å¼•å·çš„æ–‡æœ¬å­—ç¬¦ä¸²ä¸­ä½¿ç”¨ <code>#&#123;&#125;</code> æ’å€¼è¯­å¥å¯ä»¥æ·»åŠ åŠ¨æ€çš„å€¼ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;I ate #&#123;5 + 10&#125; pies!&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;I ate 15 pies!&quot;</span>; &#125;</span><br></pre></td></tr></table></figure><p>ç©ºçš„å€¼è¢«è§†ä½œæ’å…¥äº†ç©ºå­—ç¬¦ä¸²ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$value</span>: null;</span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;I ate #&#123;$value&#125; pies!&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;I ate pies!&quot;</span>; &#125;</span><br></pre></td></tr></table></figure><h4 id="6-4-4-å¸ƒå°”è¿ç®—-Boolean-Operations"><a href="#6-4-4-å¸ƒå°”è¿ç®—-Boolean-Operations" class="headerlink" title="6.4.4. å¸ƒå°”è¿ç®— (Boolean Operations)"></a>6.4.4. å¸ƒå°”è¿ç®— (Boolean Operations)</h4><p>SassScript æ”¯æŒå¸ƒå°”å‹çš„ <code>and</code> <code>or</code> ä»¥åŠ <code>not</code> è¿ç®—ã€‚</p><h4 id="6-4-5-æ•°ç»„è¿ç®—-List-Operations"><a href="#6-4-5-æ•°ç»„è¿ç®—-List-Operations" class="headerlink" title="6.4.5. æ•°ç»„è¿ç®— (List Operations)"></a>6.4.5. æ•°ç»„è¿ç®— (List Operations)</h4><p>æ•°ç»„ä¸æ”¯æŒä»»ä½•è¿ç®—æ–¹å¼ï¼Œåªèƒ½ä½¿ç”¨ <a href="http://sass-lang.com/docs/yardoc/Sass/Script/Functions.html#list-functions">list functions</a> æ§åˆ¶ã€‚</p><h3 id="6-5-åœ†æ‹¬å·-Parentheses"><a href="#6-5-åœ†æ‹¬å·-Parentheses" class="headerlink" title="6.5. åœ†æ‹¬å· (Parentheses)"></a>6.5. åœ†æ‹¬å· (Parentheses)</h3><p>åœ†æ‹¬å·å¯ä»¥ç”¨æ¥å½±å“è¿ç®—çš„é¡ºåºï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1em</span> + (<span class="number">2em</span> * <span class="number">3</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">7em</span>; &#125;</span><br></pre></td></tr></table></figure><h3 id="6-6-å‡½æ•°-Functions"><a href="#6-6-å‡½æ•°-Functions" class="headerlink" title="6.6. å‡½æ•° (Functions)"></a>6.6. å‡½æ•° (Functions)</h3><p>SassScript å®šä¹‰äº†å¤šç§å‡½æ•°ï¼Œæœ‰äº›ç”šè‡³å¯ä»¥é€šè¿‡æ™®é€šçš„ CSS è¯­å¥è°ƒç”¨ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">hsl</span>(<span class="number">0</span>, <span class="number">100%</span>, <span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff0000</span>; &#125;</span><br></pre></td></tr></table></figure><h4 id="6-6-1-å…³é”®è¯å‚æ•°-Keyword-Arguments"><a href="#6-6-1-å…³é”®è¯å‚æ•°-Keyword-Arguments" class="headerlink" title="6.6.1. å…³é”®è¯å‚æ•° (Keyword Arguments)"></a>6.6.1. å…³é”®è¯å‚æ•° (Keyword Arguments)</h4><p>Sass å‡½æ•°å…è®¸ä½¿ç”¨å…³é”®è¯å‚æ•° (keyword arguments)ï¼Œä¸Šé¢çš„ä¾‹å­ä¹Ÿå¯ä»¥å†™æˆï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">hsl</span>(<span class="variable">$hue</span>: <span class="number">0</span>, <span class="variable">$saturation</span>: <span class="number">100%</span>, <span class="variable">$lightness</span>: <span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è™½ç„¶ä¸å¤Ÿç®€æ˜ï¼Œä½†æ˜¯é˜…è¯»èµ·æ¥ä¼šæ›´æ–¹ä¾¿ã€‚å…³é”®è¯å‚æ•°ç»™å‡½æ•°æä¾›äº†æ›´çµæ´»çš„æ¥å£ï¼Œä»¥åŠå®¹æ˜“è°ƒç”¨çš„å‚æ•°ã€‚å…³é”®è¯å‚æ•°å¯ä»¥æ‰“ä¹±é¡ºåºä½¿ç”¨ï¼Œå¦‚æœä½¿ç”¨é»˜è®¤å€¼ä¹Ÿå¯ä»¥çœç¼ºï¼Œå¦å¤–ï¼Œå‚æ•°åè¢«è§†ä¸ºå˜é‡åï¼Œä¸‹åˆ’çº¿ã€çŸ­æ¨ªçº¿å¯ä»¥äº’æ¢ä½¿ç”¨ã€‚</p><p>é€šè¿‡ <a href="http://sass-lang.com/docs/yardoc/Sass/Script/Functions.html">Sass::Script::Functions</a> æŸ¥çœ‹å®Œæ•´çš„ Sass å‡½æ•°åˆ—è¡¨ï¼Œå‚æ•°åï¼Œä»¥åŠå¦‚ä½•è‡ªå®šä¹‰å‡½æ•°ã€‚</p><h3 id="6-7-æ’å€¼è¯­å¥-Interpolation"><a href="#6-7-æ’å€¼è¯­å¥-Interpolation" class="headerlink" title="6.7. æ’å€¼è¯­å¥ #{} (Interpolation: #{})"></a>6.7. æ’å€¼è¯­å¥ <code>#&#123;&#125;</code> (Interpolation: <code>#&#123;&#125;</code>)</h3><p>é€šè¿‡ <code>#&#123;&#125;</code> æ’å€¼è¯­å¥å¯ä»¥åœ¨é€‰æ‹©å™¨æˆ–å±æ€§åä¸­ä½¿ç”¨å˜é‡ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$name</span>: foo;</span><br><span class="line"><span class="variable">$attr</span>: border;</span><br><span class="line"><span class="selector-tag">p</span>.#&#123;<span class="variable">$name</span>&#125; &#123;</span><br><span class="line">  #&#123;<span class="variable">$attr</span>&#125;-<span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.foo</span> &#123;</span><br><span class="line">  <span class="attribute">border-color</span>: blue; &#125;</span><br></pre></td></tr></table></figure><p><code>#&#123;&#125;</code> æ’å€¼è¯­å¥ä¹Ÿå¯ä»¥åœ¨å±æ€§å€¼ä¸­æ’å…¥ SassScriptï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™æ ·å¯èƒ½è¿˜ä¸å¦‚ä½¿ç”¨å˜é‡æ–¹ä¾¿ï¼Œä½†æ˜¯ä½¿ç”¨ <code>#&#123;&#125;</code> å¯ä»¥é¿å… Sass è¿è¡Œè¿ç®—è¡¨è¾¾å¼ï¼Œç›´æ¥ç¼–è¯‘ CSSã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="variable">$font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="variable">$line-height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">font</span>: #&#123;<span class="variable">$font-size</span>&#125;/#&#123;<span class="variable">$line-height</span>&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: <span class="number">12px</span>/<span class="number">30px</span>; &#125;</span><br></pre></td></tr></table></figure><h3 id="6-8-amp-in-SassScript"><a href="#6-8-amp-in-SassScript" class="headerlink" title="6.8. &amp; in SassScript"></a>6.8. <code>&amp;</code> in SassScript</h3><p>Just like when itâ€™s used in selectors, &amp; in SassScript refers to the current parent selector. Itâ€™s a comma-separated list of space-separated lists. For example:</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.foo</span><span class="selector-class">.bar</span> <span class="selector-class">.baz</span><span class="selector-class">.bang</span>, <span class="selector-class">.bip</span><span class="selector-class">.qux</span> &#123;</span><br><span class="line">  <span class="variable">$selector</span>: &amp;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The value of $selector is now ((â€œ.foo.barâ€ â€œ.baz.bangâ€), â€œ.bip.quxâ€). The compound selectors are quoted here to indicate that theyâ€™re strings, but in reality they would be unquoted. Even if the parent selector doesnâ€™t contain a comma or a space, &amp; will always have two levels of nesting, so it can be accessed consistently.</p><p>If there is no parent selector, the value of &amp; will be null. This means you can use it in a mixin to detect whether a parent selector exists:</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> does-parent-exist &#123;</span><br><span class="line">  <span class="keyword">@if</span> &amp; &#123;</span><br><span class="line">    &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: red;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">@else</span> &#123;</span><br><span class="line">    <span class="selector-tag">a</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: red;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-9-å˜é‡å®šä¹‰-default-Variable-Defaults-default"><a href="#6-9-å˜é‡å®šä¹‰-default-Variable-Defaults-default" class="headerlink" title="6.9. å˜é‡å®šä¹‰ !default (Variable Defaults: !default)"></a>6.9. å˜é‡å®šä¹‰ <code>!default</code> (Variable Defaults: <code>!default</code>)</h3><p>å¯ä»¥åœ¨å˜é‡çš„ç»“å°¾æ·»åŠ  <code>!default</code> ç»™ä¸€ä¸ªæœªé€šè¿‡ <code>!default</code> å£°æ˜èµ‹å€¼çš„å˜é‡èµ‹å€¼ï¼Œæ­¤æ—¶ï¼Œå¦‚æœå˜é‡å·²ç»è¢«èµ‹å€¼ï¼Œä¸ä¼šå†è¢«é‡æ–°èµ‹å€¼ï¼Œä½†æ˜¯å¦‚æœå˜é‡è¿˜æ²¡æœ‰è¢«èµ‹å€¼ï¼Œåˆ™ä¼šè¢«èµ‹äºˆæ–°çš„å€¼ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$content</span>: <span class="string">&quot;First content&quot;</span>;</span><br><span class="line"><span class="variable">$content</span>: <span class="string">&quot;Second content?&quot;</span> !default;</span><br><span class="line"><span class="variable">$new_content</span>: <span class="string">&quot;First time reference&quot;</span> !default;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#main</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="variable">$content</span>;</span><br><span class="line">  new-<span class="attribute">content</span>: <span class="variable">$new_content</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;First content&quot;</span>;</span><br><span class="line">  new-<span class="attribute">content</span>: <span class="string">&quot;First time reference&quot;</span>; &#125;</span><br></pre></td></tr></table></figure><p>å˜é‡æ˜¯ null ç©ºå€¼æ—¶å°†è§†ä¸ºæœªè¢« <code>!default</code> èµ‹å€¼ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$content</span>: null;</span><br><span class="line"><span class="variable">$content</span>: <span class="string">&quot;Non-null content&quot;</span> !default;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#main</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="variable">$content</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;Non-null content&quot;</span>; &#125;</span><br></pre></td></tr></table></figure><h2 id="7-Rules-ä¸æŒ‡ä»¤-Rules-and-Directives"><a href="#7-Rules-ä¸æŒ‡ä»¤-Rules-and-Directives" class="headerlink" title="7. @-Rules ä¸æŒ‡ä»¤ (@-Rules and Directives)"></a>7. @-Rules ä¸æŒ‡ä»¤ (@-Rules and Directives)</h2><p>Sass æ”¯æŒæ‰€æœ‰çš„ CSS3 @-Rulesï¼Œä»¥åŠ Sass ç‰¹æœ‰çš„ â€œæŒ‡ä»¤â€ï¼ˆdirectivesï¼‰ã€‚è¿™ä¸€èŠ‚ä¼šè¯¦ç»†è§£é‡Šï¼Œæ›´å¤šèµ„æ–™è¯·æŸ¥çœ‹ <a href="https://www.sass.hk/docs/#8">æ§åˆ¶æŒ‡ä»¤ (control directives)</a> ä¸ <a href="https://www.sass.hk/docs/#9">æ··åˆæŒ‡ä»¤ (mixin directives)</a> ä¸¤ä¸ªéƒ¨åˆ†ã€‚</p><h3 id="7-1-import"><a href="#7-1-import" class="headerlink" title="7.1. @import"></a>7.1. @import</h3><p>Sass æ‹“å±•äº† <code>@import</code> çš„åŠŸèƒ½ï¼Œå…è®¸å…¶å¯¼å…¥ SCSS æˆ– Sass æ–‡ä»¶ã€‚è¢«å¯¼å…¥çš„æ–‡ä»¶å°†åˆå¹¶ç¼–è¯‘åˆ°åŒä¸€ä¸ª CSS æ–‡ä»¶ä¸­ï¼Œå¦å¤–ï¼Œè¢«å¯¼å…¥çš„æ–‡ä»¶ä¸­æ‰€åŒ…å«çš„å˜é‡æˆ–è€…æ··åˆæŒ‡ä»¤ (mixin) éƒ½å¯ä»¥åœ¨å¯¼å…¥çš„æ–‡ä»¶ä¸­ä½¿ç”¨ã€‚</p><p>Sass åœ¨å½“å‰åœ°å€ï¼Œæˆ– Rack, Rails, Merb çš„ Sass æ–‡ä»¶åœ°å€å¯»æ‰¾ Sass æ–‡ä»¶ï¼Œå¦‚æœéœ€è¦è®¾å®šå…¶ä»–åœ°å€ï¼Œå¯ä»¥ç”¨ <code>:load_paths</code> é€‰é¡¹ï¼Œæˆ–è€…åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ <code>--load-path</code> å‘½ä»¤ã€‚</p><p>é€šå¸¸ï¼Œ<code>@import</code> å¯»æ‰¾ Sass æ–‡ä»¶å¹¶å°†å…¶å¯¼å…¥ï¼Œä½†åœ¨ä»¥ä¸‹æƒ…å†µä¸‹ï¼Œ<code>@import</code> ä»…ä½œä¸ºæ™®é€šçš„ CSS è¯­å¥ï¼Œä¸ä¼šå¯¼å…¥ä»»ä½• Sass æ–‡ä»¶ã€‚</p><ul><li>æ–‡ä»¶æ‹“å±•åæ˜¯ <code>.css</code>ï¼›</li><li>æ–‡ä»¶åä»¥ <code>http://</code> å¼€å¤´ï¼›</li><li>æ–‡ä»¶åæ˜¯ <code>url()</code>ï¼›</li><li><code>@import</code> åŒ…å« media queriesã€‚</li></ul><p>å¦‚æœä¸åœ¨ä¸Šè¿°æƒ…å†µå†…ï¼Œæ–‡ä»¶çš„æ‹“å±•åæ˜¯ <code>.scss</code> æˆ– <code>.sass</code>ï¼Œåˆ™å¯¼å…¥æˆåŠŸã€‚æ²¡æœ‰æŒ‡å®šæ‹“å±•åï¼ŒSass å°†ä¼šè¯•ç€å¯»æ‰¾æ–‡ä»¶åç›¸åŒï¼Œæ‹“å±•åä¸º <code>.scss</code> æˆ– <code>.sass</code> çš„æ–‡ä»¶å¹¶å°†å…¶å¯¼å…¥ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&quot;foo.scss&quot;</span>;</span><br></pre></td></tr></table></figure><p>æˆ–</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&quot;foo&quot;</span>;</span><br></pre></td></tr></table></figure><p>éƒ½ä¼šå¯¼å…¥æ–‡ä»¶ foo.scssï¼Œä½†æ˜¯</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&quot;foo.css&quot;</span>;</span><br><span class="line"><span class="keyword">@import</span> <span class="string">&quot;foo&quot;</span> screen;</span><br><span class="line"><span class="keyword">@import</span> <span class="string">&quot;http://foo.com/bar&quot;</span>;</span><br><span class="line"><span class="keyword">@import</span> url(foo);</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&quot;foo.css&quot;</span>;</span><br><span class="line"><span class="keyword">@import</span> <span class="string">&quot;foo&quot;</span> screen;</span><br><span class="line"><span class="keyword">@import</span> <span class="string">&quot;http://foo.com/bar&quot;</span>;</span><br><span class="line"><span class="keyword">@import</span> url(foo);</span><br></pre></td></tr></table></figure><p>Sass å…è®¸åŒæ—¶å¯¼å…¥å¤šä¸ªæ–‡ä»¶ï¼Œä¾‹å¦‚åŒæ—¶å¯¼å…¥ rounded-corners ä¸ text-shadow ä¸¤ä¸ªæ–‡ä»¶ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&quot;rounded-corners&quot;</span>, <span class="string">&quot;text-shadow&quot;</span>;</span><br></pre></td></tr></table></figure><p>å¯¼å…¥æ–‡ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>#&#123; &#125;</code> æ’å€¼è¯­å¥ï¼Œä½†ä¸æ˜¯é€šè¿‡å˜é‡åŠ¨æ€å¯¼å…¥ Sass æ–‡ä»¶ï¼Œåªèƒ½ä½œç”¨äº CSS çš„ <code>url()</code> å¯¼å…¥æ–¹å¼ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$family</span>: <span class="built_in">unquote</span>(<span class="string">&quot;Droid+Sans&quot;</span>);</span><br><span class="line"><span class="keyword">@import</span> url(<span class="string">&quot;http://fonts.googleapis.com/css?family=\#&#123;$family&#125;&quot;</span>);</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> url(<span class="string">&quot;http://fonts.googleapis.com/css?family=Droid+Sans&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="7-1-1-åˆ†éŸ³-Partials"><a href="#7-1-1-åˆ†éŸ³-Partials" class="headerlink" title="7.1.1. åˆ†éŸ³ (Partials)"></a>7.1.1. åˆ†éŸ³ (Partials)</h4><p>å¦‚æœéœ€è¦å¯¼å…¥ SCSS æˆ–è€… Sass æ–‡ä»¶ï¼Œä½†åˆä¸å¸Œæœ›å°†å…¶ç¼–è¯‘ä¸º CSSï¼Œåªéœ€è¦åœ¨æ–‡ä»¶åå‰æ·»åŠ ä¸‹åˆ’çº¿ï¼Œè¿™æ ·ä¼šå‘Šè¯‰ Sass ä¸è¦ç¼–è¯‘è¿™äº›æ–‡ä»¶ï¼Œä½†å¯¼å…¥è¯­å¥ä¸­å´ä¸éœ€è¦æ·»åŠ ä¸‹åˆ’çº¿ã€‚</p><p>ä¾‹å¦‚ï¼Œå°†æ–‡ä»¶å‘½åä¸º <code>_colors.scss</code>ï¼Œä¾¿ä¸ä¼šç¼–è¯‘ <code>_colours.css</code> æ–‡ä»¶ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&quot;colors&quot;</span>;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä¾‹å­ï¼Œå¯¼å…¥çš„å…¶å®æ˜¯ <code>_colors.scss</code> æ–‡ä»¶</p><p>æ³¨æ„ï¼Œä¸å¯ä»¥åŒæ—¶å­˜åœ¨æ·»åŠ ä¸‹åˆ’çº¿ä¸æœªæ·»åŠ ä¸‹åˆ’çº¿çš„åŒåæ–‡ä»¶ï¼Œæ·»åŠ ä¸‹åˆ’çº¿çš„æ–‡ä»¶å°†ä¼šè¢«å¿½ç•¥ã€‚</p><h4 id="7-1-2-åµŒå¥—-import"><a href="#7-1-2-åµŒå¥—-import" class="headerlink" title="7.1.2. åµŒå¥— @import"></a>7.1.2. åµŒå¥— @import</h4><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä¸€èˆ¬åœ¨æ–‡ä»¶çš„æœ€å¤–å±‚ï¼ˆä¸åœ¨åµŒå¥—è§„åˆ™å†…ï¼‰ä½¿ç”¨ <code>@import</code>ï¼Œå…¶å®ï¼Œä¹Ÿå¯ä»¥å°† <code>@import</code> åµŒå¥—è¿› CSS æ ·å¼æˆ–è€… <code>@media</code> ä¸­ï¼Œä¸å¹³æ—¶çš„ç”¨æ³•æ•ˆæœç›¸åŒï¼Œåªæ˜¯è¿™æ ·å¯¼å…¥çš„æ ·å¼åªèƒ½å‡ºç°åœ¨åµŒå¥—çš„å±‚ä¸­ã€‚</p><p>å‡è®¾ example.scss æ–‡ä»¶åŒ…å«ä»¥ä¸‹æ ·å¼ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.example</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åå¯¼å…¥åˆ° <code>#main</code> æ ·å¼å†…</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> &#123;</span><br><span class="line">  <span class="keyword">@import</span> <span class="string">&quot;example&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°†ä¼šè¢«ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> <span class="selector-class">.example</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Directives that are only allowed at the base level of a document, like @mixin or @charset, are not allowed in files that are @imported in a nested context. è¿™ä¸€å¥ä¸ç†è§£</p></blockquote><p>ä¸å¯ä»¥åœ¨æ··åˆæŒ‡ä»¤ (mixin) æˆ–æ§åˆ¶æŒ‡ä»¤ (control directives) ä¸­åµŒå¥— <code>@import</code>ã€‚</p><h3 id="7-2-media"><a href="#7-2-media" class="headerlink" title="7.2. @media"></a>7.2. @media</h3><p>Sass ä¸­ <code>@media</code> æŒ‡ä»¤ä¸ CSS ä¸­ç”¨æ³•ä¸€æ ·ï¼Œåªæ˜¯å¢åŠ äº†ä¸€ç‚¹é¢å¤–çš„åŠŸèƒ½ï¼šå…è®¸å…¶åœ¨ CSS è§„åˆ™ä¸­åµŒå¥—ã€‚å¦‚æœ <code>@media</code> åµŒå¥—åœ¨ CSS è§„åˆ™å†…ï¼Œç¼–è¯‘æ—¶ï¼Œ<code>@media</code> å°†è¢«ç¼–è¯‘åˆ°æ–‡ä»¶çš„æœ€å¤–å±‚ï¼ŒåŒ…å«åµŒå¥—çš„çˆ¶é€‰æ‹©å™¨ã€‚è¿™ä¸ªåŠŸèƒ½è®© <code>@media</code> ç”¨èµ·æ¥æ›´æ–¹ä¾¿ï¼Œä¸éœ€è¦é‡å¤ä½¿ç”¨é€‰æ‹©å™¨ï¼Œä¹Ÿä¸ä¼šæ‰“ä¹± CSS çš„ä¹¦å†™æµç¨‹ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.sidebar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">orientation</span>: landscape) &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.sidebar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>; &#125;</span><br><span class="line">  <span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">orientation</span>: landscape) &#123;</span><br><span class="line">    <span class="selector-class">.sidebar</span> &#123;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">500px</span>; &#125; &#125;</span><br><span class="line"><span class="keyword">@media</span>` çš„ queries å…è®¸äº’ç›¸åµŒå¥—ä½¿ç”¨ï¼Œç¼–è¯‘æ—¶ï¼ŒSass è‡ªåŠ¨æ·»åŠ  `<span class="keyword">and</span></span><br><span class="line">@media screen &#123;</span><br><span class="line">  <span class="selector-class">.sidebar</span> &#123;</span><br><span class="line">    <span class="keyword">@media</span> (<span class="attribute">orientation</span>: landscape) &#123;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">orientation</span>: landscape) &#123;</span><br><span class="line">  <span class="selector-class">.sidebar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>; &#125; &#125;</span><br></pre></td></tr></table></figure><p><code>@media</code> ç”šè‡³å¯ä»¥ä½¿ç”¨ SassScriptï¼ˆæ¯”å¦‚å˜é‡ï¼Œå‡½æ•°ï¼Œä»¥åŠè¿ç®—ç¬¦ï¼‰ä»£æ›¿æ¡ä»¶çš„åç§°æˆ–è€…å€¼ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$media</span>: screen;</span><br><span class="line"><span class="variable">$feature</span>: -webkit-min-device-pixel-ratio;</span><br><span class="line"><span class="variable">$value</span>: <span class="number">1.5</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> #&#123;<span class="variable">$media</span>&#125; and ($feature: $value) &#123;</span><br><span class="line">  <span class="selector-class">.sidebar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">-webkit-min-device-pixel-ratio</span>: <span class="number">1.5</span>) &#123;</span><br><span class="line">  <span class="selector-class">.sidebar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>; &#125; &#125;</span><br></pre></td></tr></table></figure><h3 id="7-3-extend"><a href="#7-3-extend" class="headerlink" title="7.3. @extend"></a>7.3. @extend</h3><p>åœ¨è®¾è®¡ç½‘é¡µçš„æ—¶å€™å¸¸å¸¸é‡åˆ°è¿™ç§æƒ…å†µï¼šä¸€ä¸ªå…ƒç´ ä½¿ç”¨çš„æ ·å¼ä¸å¦ä¸€ä¸ªå…ƒç´ å®Œå…¨ç›¸åŒï¼Œä½†åˆæ·»åŠ äº†é¢å¤–çš„æ ·å¼ã€‚é€šå¸¸ä¼šåœ¨ HTML ä¸­ç»™å…ƒç´ å®šä¹‰ä¸¤ä¸ª classï¼Œä¸€ä¸ªé€šç”¨æ ·å¼ï¼Œä¸€ä¸ªç‰¹æ®Šæ ·å¼ã€‚å‡è®¾ç°åœ¨è¦è®¾è®¡ä¸€ä¸ªæ™®é€šé”™è¯¯æ ·å¼ä¸ä¸€ä¸ªä¸¥é‡é”™è¯¯æ ·å¼ï¼Œä¸€èˆ¬ä¼šè¿™æ ·å†™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;error seriousError&quot;&gt;</span><br><span class="line">  Oh no! You&#x27;ve been hacked!</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>æ ·å¼å¦‚ä¸‹</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.error</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#f00</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fdd</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.seriousError</span> &#123;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éº»çƒ¦çš„æ˜¯ï¼Œè¿™æ ·åšå¿…é¡»æ—¶åˆ»è®°ä½ä½¿ç”¨ <code>.seriousError</code> æ—¶éœ€è¦å‚è€ƒ <code>.error</code> çš„æ ·å¼ï¼Œå¸¦æ¥äº†å¾ˆå¤šä¸å˜ï¼šæ™ºèƒ½æ¯”å¦‚åŠ é‡ç»´æŠ¤è´Ÿæ‹…ï¼Œå¯¼è‡´ bugï¼Œæˆ–è€…ç»™ HTML æ·»åŠ æ— è¯­æ„çš„æ ·å¼ã€‚ä½¿ç”¨ <code>@extend</code> å¯ä»¥é¿å…ä¸Šè¿°æƒ…å†µï¼Œå‘Šè¯‰ Sass å°†ä¸€ä¸ªé€‰æ‹©å™¨ä¸‹çš„æ‰€æœ‰æ ·å¼ç»§æ‰¿ç»™å¦ä¸€ä¸ªé€‰æ‹©å™¨ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.error</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#f00</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fdd</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.seriousError</span> &#123;</span><br><span class="line">  <span class="keyword">@extend</span> .error;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç çš„æ„æ€æ˜¯å°† <code>.error</code> ä¸‹çš„æ‰€æœ‰æ ·å¼ç»§æ‰¿ç»™ <code>.seriousError</code>ï¼Œ<code>border-width: 3px;</code> æ˜¯å•ç‹¬ç»™ <code>.seriousError</code> è®¾å®šç‰¹æ®Šæ ·å¼ï¼Œè¿™æ ·ï¼Œä½¿ç”¨ <code>.seriousError</code> çš„åœ°æ–¹å¯ä»¥ä¸å†ä½¿ç”¨ <code>.error</code>ã€‚</p><p>å…¶ä»–ä½¿ç”¨åˆ° <code>.error</code> çš„æ ·å¼ä¹Ÿä¼šåŒæ ·ç»§æ‰¿ç»™ <code>.seriousError</code>ï¼Œä¾‹å¦‚ï¼Œå¦ä¸€ä¸ªæ ·å¼ <code>.error.intrusion</code> ä½¿ç”¨äº† <code>hacked.png</code> åšèƒŒæ™¯ï¼Œ<code>&lt;div class=&quot;seriousError intrusion&quot;&gt;</code> ä¹ŸåŒæ ·ä¼šä½¿ç”¨ <code>hacked.png</code> èƒŒæ™¯ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.error</span><span class="selector-class">.intrusion</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;/image/hacked.png&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="7-3-1-How-it-Works"><a href="#7-3-1-How-it-Works" class="headerlink" title="7.3.1. How it Works"></a>7.3.1. How it Works</h4><p><code>@extend</code> çš„ä½œç”¨æ˜¯å°†é‡å¤ä½¿ç”¨çš„æ ·å¼ (<code>.error</code>) å»¶ä¼¸ (extend) ç»™éœ€è¦åŒ…å«è¿™ä¸ªæ ·å¼çš„ç‰¹æ®Šæ ·å¼ï¼ˆ<code>.seriousError</code>ï¼‰ï¼Œåˆšåˆšçš„ä¾‹å­ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.error</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#f00</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fdd</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.error</span><span class="selector-class">.intrusion</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;/image/hacked.png&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.seriousError</span> &#123;</span><br><span class="line">  <span class="keyword">@extend</span> .error;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.error</span>, <span class="selector-class">.seriousError</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#f00</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fdd</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.error</span><span class="selector-class">.intrusion</span>, <span class="selector-class">.seriousError</span><span class="selector-class">.intrusion</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;/image/hacked.png&quot;</span>); &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.seriousError</span> &#123;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">3px</span>; &#125;</span><br></pre></td></tr></table></figure><p>å½“åˆå¹¶é€‰æ‹©å™¨æ—¶ï¼Œ<code>@extend</code> ä¼šå¾ˆèªæ˜åœ°é¿å…æ— è°“çš„é‡å¤ï¼Œ<code>.seriousError.seriousError</code> å°†ç¼–è¯‘ä¸º <code>.seriousError</code>ï¼Œä¸èƒ½åŒ¹é…ä»»ä½•å…ƒç´ çš„é€‰æ‹©å™¨ï¼ˆæ¯”å¦‚ <code>#main#footer</code> ï¼‰ä¹Ÿä¼šåˆ é™¤ã€‚</p><h4 id="7-3-2-å»¶ä¼¸å¤æ‚çš„é€‰æ‹©å™¨-Extending-Complex-Selectors"><a href="#7-3-2-å»¶ä¼¸å¤æ‚çš„é€‰æ‹©å™¨-Extending-Complex-Selectors" class="headerlink" title="7.3.2. å»¶ä¼¸å¤æ‚çš„é€‰æ‹©å™¨ (Extending Complex Selectors)"></a>7.3.2. å»¶ä¼¸å¤æ‚çš„é€‰æ‹©å™¨ (Extending Complex Selectors)</h4><p>Class é€‰æ‹©å™¨å¹¶ä¸æ˜¯å”¯ä¸€å¯ä»¥è¢«å»¶ä¼¸ (extend) çš„ï¼ŒSass å…è®¸å»¶ä¼¸ä»»ä½•å®šä¹‰ç»™å•ä¸ªå…ƒç´ çš„é€‰æ‹©å™¨ï¼Œæ¯”å¦‚ <code>.special.cool</code>ï¼Œ<code>a:hover</code> æˆ–è€… <code>a.user[href^=&quot;http://&quot;]</code> ç­‰ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.hoverlink</span> &#123;</span><br><span class="line">  <span class="keyword">@extend</span> <span class="attribute">a</span>:<span class="attribute">hover</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒ class å…ƒç´ ä¸€æ ·ï¼Œ<code>a:hover</code> çš„æ ·å¼å°†ç»§æ‰¿ç»™ <code>.hoverlink</code>ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.hoverlink</span> &#123;</span><br><span class="line">  <span class="keyword">@extend</span> <span class="attribute">a</span>:<span class="attribute">hover</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>, <span class="selector-class">.hoverlink</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline; &#125;</span><br></pre></td></tr></table></figure><p>ä¸ä¸Šé¢ <code>.error.intrusion</code> çš„ä¾‹å­ä¸€æ ·ï¼Œæ‰€æœ‰ <code>a:hover</code> çš„æ ·å¼å°†ç»§æ‰¿ç»™ <code>.hoverlink</code>ï¼ŒåŒ…æ‹¬å…¶ä»–ä½¿ç”¨åˆ° <code>a:hover</code> çš„æ ·å¼ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.hoverlink</span> &#123;</span><br><span class="line">  <span class="keyword">@extend</span> <span class="attribute">a</span>:<span class="attribute">hover</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.comment</span> <span class="selector-tag">a</span><span class="selector-class">.user</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.comment</span> <span class="selector-tag">a</span><span class="selector-class">.user</span><span class="selector-pseudo">:hover</span>, <span class="selector-class">.comment</span> <span class="selector-class">.user</span><span class="selector-class">.hoverlink</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold; &#125;</span><br></pre></td></tr></table></figure><h4 id="7-3-3-å¤šé‡å»¶ä¼¸-Multiple-Extends"><a href="#7-3-3-å¤šé‡å»¶ä¼¸-Multiple-Extends" class="headerlink" title="7.3.3. å¤šé‡å»¶ä¼¸ (Multiple Extends)"></a>7.3.3. å¤šé‡å»¶ä¼¸ (Multiple Extends)</h4><p>åŒä¸€ä¸ªé€‰æ‹©å™¨å¯ä»¥å»¶ä¼¸ç»™å¤šä¸ªé€‰æ‹©å™¨ï¼Œå®ƒæ‰€åŒ…å«çš„å±æ€§å°†ç»§æ‰¿ç»™æ‰€æœ‰è¢«å»¶ä¼¸çš„é€‰æ‹©å™¨ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.error</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#f00</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fdd</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.attention</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">3em</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ff0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.seriousError</span> &#123;</span><br><span class="line">  <span class="keyword">@extend</span> .error;</span><br><span class="line">  <span class="keyword">@extend</span> .attention;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.error</span>, <span class="selector-class">.seriousError</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#f00</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fdd</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.attention</span>, <span class="selector-class">.seriousError</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">3em</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ff0</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.seriousError</span> &#123;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">3px</span>; &#125;</span><br></pre></td></tr></table></figure><p>æ¯ä¸ª <code>.seriousError</code> å°†åŒ…å« <code>.error</code> ä¸ <code>.attention</code> ä¸‹çš„æ‰€æœ‰æ ·å¼ï¼Œè¿™æ—¶ï¼Œåå®šä¹‰çš„æ ·å¼äº«æœ‰ä¼˜å…ˆæƒï¼š<code>.seriousError</code> çš„èƒŒæ™¯é¢œè‰²æ˜¯ <code>#ff0</code> è€Œä¸æ˜¯ <code>#fdd</code>ï¼Œå› ä¸º <code>.attention</code> åœ¨ <code>.error</code> ä¹‹åå®šä¹‰ã€‚</p><p>å¤šé‡å»¶ä¼¸å¯ä»¥ä½¿ç”¨é€—å·åˆ†éš”é€‰æ‹©å™¨åï¼Œæ¯”å¦‚ <code>@extend .error, .attention;</code> ä¸ <code>@extend .error;</code> <code>@extend.attention</code> æœ‰ç›¸åŒçš„æ•ˆæœã€‚</p><h4 id="7-3-4-ç»§ç»­å»¶ä¼¸-Chaining-Extends"><a href="#7-3-4-ç»§ç»­å»¶ä¼¸-Chaining-Extends" class="headerlink" title="7.3.4. ç»§ç»­å»¶ä¼¸ (Chaining Extends)"></a>7.3.4. ç»§ç»­å»¶ä¼¸ (Chaining Extends)</h4><p>å½“ä¸€ä¸ªé€‰æ‹©å™¨å»¶ä¼¸ç»™ç¬¬äºŒä¸ªåï¼Œå¯ä»¥ç»§ç»­å°†ç¬¬äºŒä¸ªé€‰æ‹©å™¨å»¶ä¼¸ç»™ç¬¬ä¸‰ä¸ªï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.error</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#f00</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fdd</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.seriousError</span> &#123;</span><br><span class="line">  <span class="keyword">@extend</span> .error;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.criticalError</span> &#123;</span><br><span class="line">  <span class="keyword">@extend</span> .seriousError;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10%</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">10%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">10%</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">10%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæ¯ä¸ª <code>.seriousError</code> é€‰æ‹©å™¨å°†åŒ…å« <code>.error</code> çš„æ ·å¼ï¼Œè€Œ <code>.criticalError</code> ä¸ä»…åŒ…å« <code>.seriousError</code> çš„æ ·å¼ä¹Ÿä¼šåŒæ—¶åŒ…å« <code>.error</code> çš„æ‰€æœ‰æ ·å¼ï¼Œä¸Šé¢çš„ä»£ç ç¼–è¯‘ä¸ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.error</span>, <span class="selector-class">.seriousError</span>, <span class="selector-class">.criticalError</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#f00</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fdd</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.seriousError</span>, <span class="selector-class">.criticalError</span> &#123;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">3px</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.criticalError</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10%</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">10%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">10%</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">10%</span>; &#125;</span><br></pre></td></tr></table></figure><h4 id="7-3-5-é€‰æ‹©å™¨åˆ—-Selector-Sequences"><a href="#7-3-5-é€‰æ‹©å™¨åˆ—-Selector-Sequences" class="headerlink" title="7.3.5. é€‰æ‹©å™¨åˆ— (Selector Sequences)"></a>7.3.5. é€‰æ‹©å™¨åˆ— (Selector Sequences)</h4><p>æš‚æ—¶ä¸å¯ä»¥å°†é€‰æ‹©å™¨åˆ— (Selector Sequences)ï¼Œæ¯”å¦‚ <code>.foo .bar</code> æˆ– <code>.foo + .bar</code>ï¼Œå»¶ä¼¸ç»™å…¶ä»–å…ƒç´ ï¼Œä½†æ˜¯ï¼Œå´å¯ä»¥å°†å…¶ä»–å…ƒç´ å»¶ä¼¸ç»™é€‰æ‹©å™¨åˆ—ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#fake-links</span> <span class="selector-class">.link</span> &#123;</span><br><span class="line">  <span class="keyword">@extend</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">  &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span>, <span class="selector-id">#fake-links</span> <span class="selector-class">.link</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue; &#125;</span><br><span class="line">  <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>, <span class="selector-id">#fake-links</span> <span class="selector-class">.link</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: underline; &#125;</span><br></pre></td></tr></table></figure><h5 id="7-3-5-1-åˆå¹¶é€‰æ‹©å™¨åˆ—-Merging-Selector-Sequences"><a href="#7-3-5-1-åˆå¹¶é€‰æ‹©å™¨åˆ—-Merging-Selector-Sequences" class="headerlink" title="7.3.5.1. åˆå¹¶é€‰æ‹©å™¨åˆ— (Merging Selector Sequences)"></a>7.3.5.1. åˆå¹¶é€‰æ‹©å™¨åˆ— (Merging Selector Sequences)</h5><p>æœ‰æ—¶ä¼šé‡åˆ°å¤æ‚çš„æƒ…å†µï¼Œæ¯”å¦‚é€‰æ‹©å™¨åˆ—ä¸­çš„æŸä¸ªå…ƒç´ éœ€è¦å»¶ä¼¸ç»™å¦ä¸€ä¸ªé€‰æ‹©å™¨åˆ—ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªé€‰æ‹©å™¨åˆ—éœ€è¦åˆå¹¶ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#admin</span> <span class="selector-class">.tabbar</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#demo</span> <span class="selector-class">.overview</span> <span class="selector-class">.fakelink</span> &#123;</span><br><span class="line">  <span class="keyword">@extend</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŠ€æœ¯ä¸Šè®²èƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰åŒ¹é…æ¡ä»¶çš„ç»“æœï¼Œä½†æ˜¯è¿™æ ·ç”Ÿæˆçš„æ ·å¼è¡¨å¤ªå¤æ‚äº†ï¼Œä¸Šé¢è¿™ä¸ªç®€å•çš„ä¾‹å­å°±å¯èƒ½æœ‰ 10 ç§ç»“æœã€‚æ‰€ä»¥ï¼ŒSass åªä¼šç¼–è¯‘è¾“å‡ºæœ‰ç”¨çš„é€‰æ‹©å™¨ã€‚</p><p>å½“ä¸¤ä¸ªåˆ— (sequence) åˆå¹¶æ—¶ï¼Œå¦‚æœæ²¡æœ‰åŒ…å«ç›¸åŒçš„é€‰æ‹©å™¨ï¼Œå°†ç”Ÿæˆä¸¤ä¸ªæ–°é€‰æ‹©å™¨ï¼šç¬¬ä¸€åˆ—å‡ºç°åœ¨ç¬¬äºŒåˆ—ä¹‹å‰ï¼Œæˆ–è€…ç¬¬äºŒåˆ—å‡ºç°åœ¨ç¬¬ä¸€åˆ—ä¹‹å‰ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#admin</span> <span class="selector-class">.tabbar</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#demo</span> <span class="selector-class">.overview</span> <span class="selector-class">.fakelink</span> &#123;</span><br><span class="line">  <span class="keyword">@extend</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#admin</span> <span class="selector-class">.tabbar</span> <span class="selector-tag">a</span>,</span><br><span class="line"><span class="selector-id">#admin</span> <span class="selector-class">.tabbar</span> <span class="selector-id">#demo</span> <span class="selector-class">.overview</span> <span class="selector-class">.fakelink</span>,</span><br><span class="line"><span class="selector-id">#demo</span> <span class="selector-class">.overview</span> <span class="selector-id">#admin</span> <span class="selector-class">.tabbar</span> <span class="selector-class">.fakelink</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold; &#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸¤ä¸ªåˆ— (sequence) åŒ…å«äº†ç›¸åŒçš„é€‰æ‹©å™¨ï¼Œç›¸åŒéƒ¨åˆ†å°†ä¼šåˆå¹¶åœ¨ä¸€èµ·ï¼Œå…¶ä»–éƒ¨åˆ†äº¤æ›¿è¾“å‡ºã€‚åœ¨ä¸‹é¢çš„ä¾‹å­é‡Œï¼Œä¸¤ä¸ªåˆ—éƒ½åŒ…å« <code>#admin</code>ï¼Œè¾“å‡ºç»“æœä¸­å®ƒä»¬åˆå¹¶åœ¨äº†ä¸€èµ·ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#admin</span> <span class="selector-class">.tabbar</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#admin</span> <span class="selector-class">.overview</span> <span class="selector-class">.fakelink</span> &#123;</span><br><span class="line">  <span class="keyword">@extend</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#admin</span> <span class="selector-class">.tabbar</span> <span class="selector-tag">a</span>,</span><br><span class="line"><span class="selector-id">#admin</span> <span class="selector-class">.tabbar</span> <span class="selector-class">.overview</span> <span class="selector-class">.fakelink</span>,</span><br><span class="line"><span class="selector-id">#admin</span> <span class="selector-class">.overview</span> <span class="selector-class">.tabbar</span> <span class="selector-class">.fakelink</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold; &#125;</span><br></pre></td></tr></table></figure><h4 id="7-3-6-extend-Only-é€‰æ‹©å™¨-extend-Only-Selectors"><a href="#7-3-6-extend-Only-é€‰æ‹©å™¨-extend-Only-Selectors" class="headerlink" title="7.3.6. @extend-Only é€‰æ‹©å™¨ (@extend-Only Selectors)"></a>7.3.6. @extend-Only é€‰æ‹©å™¨ (@extend-Only Selectors)</h4><p>æœ‰æ—¶ï¼Œéœ€è¦å®šä¹‰ä¸€å¥—æ ·å¼å¹¶ä¸æ˜¯ç»™æŸä¸ªå…ƒç´ ç”¨ï¼Œè€Œæ˜¯åªé€šè¿‡ <code>@extend</code> æŒ‡ä»¤ä½¿ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨åˆ¶ä½œ Sass æ ·å¼åº“çš„æ—¶å€™ï¼Œå¸Œæœ› Sass èƒ½å¤Ÿå¿½ç•¥ç”¨ä¸åˆ°çš„æ ·å¼ã€‚</p><p>å¦‚æœä½¿ç”¨æ™®é€šçš„ CSS è§„åˆ™ï¼Œæœ€åä¼šç¼–è¯‘å‡ºå¾ˆå¤šç”¨ä¸åˆ°çš„æ ·å¼ï¼Œä¹Ÿå®¹æ˜“ä¸å…¶ä»–æ ·å¼åå†²çªï¼Œæ‰€ä»¥ï¼ŒSass å¼•å…¥äº†â€œå ä½ç¬¦é€‰æ‹©å™¨â€ (placeholder selectors)ï¼Œçœ‹èµ·æ¥å¾ˆåƒæ™®é€šçš„ <code>id</code> æˆ– <code>class</code> é€‰æ‹©å™¨ï¼Œåªæ˜¯ <code>#</code> æˆ– <code>.</code> è¢«æ›¿æ¢æˆäº† <code>%</code>ã€‚å¯ä»¥åƒ class æˆ–è€… id é€‰æ‹©å™¨é‚£æ ·ä½¿ç”¨ï¼Œå½“å®ƒä»¬å•ç‹¬ä½¿ç”¨æ—¶ï¼Œä¸ä¼šè¢«ç¼–è¯‘åˆ° CSS æ–‡ä»¶ä¸­ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This ruleset won&#x27;t be rendered on its own.</span></span><br><span class="line"><span class="selector-id">#context</span> <span class="selector-tag">a</span>%extreme &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2em</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å ä½ç¬¦é€‰æ‹©å™¨éœ€è¦é€šè¿‡å»¶ä¼¸æŒ‡ä»¤ä½¿ç”¨ï¼Œç”¨æ³•ä¸ class æˆ–è€… id é€‰æ‹©å™¨ä¸€æ ·ï¼Œè¢«å»¶ä¼¸åï¼Œå ä½ç¬¦é€‰æ‹©å™¨æœ¬èº«ä¸ä¼šè¢«ç¼–è¯‘ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.notice</span> &#123;</span><br><span class="line">  <span class="keyword">@extend</span> %extreme;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#context</span> <span class="selector-tag">a</span><span class="selector-class">.notice</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2em</span>; &#125;</span><br></pre></td></tr></table></figure><h4 id="7-3-7-optional-å£°æ˜-The-optional-Flag"><a href="#7-3-7-optional-å£°æ˜-The-optional-Flag" class="headerlink" title="7.3.7. !optional å£°æ˜ (The !optional Flag)"></a>7.3.7. <code>!optional</code> å£°æ˜ (The <code>!optional</code> Flag)</h4><p>å¦‚æœ <code>@extend</code> å¤±è´¥ä¼šæ”¶åˆ°é”™è¯¯æç¤ºï¼Œæ¯”å¦‚ï¼Œè¿™æ ·å†™ <code>a.important &#123;@extend .notice&#125;</code>ï¼Œå½“æ²¡æœ‰ <code>.notice</code> é€‰æ‹©å™¨æ—¶ï¼Œå°†ä¼šæŠ¥é”™ï¼Œåªæœ‰ <code>h1.notice</code> åŒ…å« <code>.notice</code> æ—¶ä¹Ÿä¼šæŠ¥é”™ï¼Œå› ä¸º <code>h1</code> ä¸ <code>a</code> å†²çªï¼Œä¼šç”Ÿæˆæ–°çš„é€‰æ‹©å™¨ã€‚</p><p>å¦‚æœè¦æ±‚ <code>@extend</code> ä¸ç”Ÿæˆæ–°é€‰æ‹©å™¨ï¼Œå¯ä»¥é€šè¿‡ <code>!optional</code> å£°æ˜è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-class">.important</span> &#123;</span><br><span class="line">  <span class="keyword">@extend</span> .notice !optional;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="7-3-8-åœ¨æŒ‡ä»¤ä¸­å»¶ä¼¸-extend-in-Directives"><a href="#7-3-8-åœ¨æŒ‡ä»¤ä¸­å»¶ä¼¸-extend-in-Directives" class="headerlink" title="7.3.8. åœ¨æŒ‡ä»¤ä¸­å»¶ä¼¸ (@extend in Directives)"></a>7.3.8. åœ¨æŒ‡ä»¤ä¸­å»¶ä¼¸ (@extend in Directives)</h4><p>åœ¨æŒ‡ä»¤ä¸­ä½¿ç”¨ <code>@extend</code> æ—¶ï¼ˆæ¯”å¦‚åœ¨ <code>@media</code> ä¸­ï¼‰æœ‰ä¸€äº›é™åˆ¶ï¼šSass ä¸å¯ä»¥å°† <code>@media</code> å±‚å¤–çš„ CSS è§„åˆ™å»¶ä¼¸ç»™æŒ‡ä»¤å±‚å†…çš„ CSSï¼Œè¿™æ ·ä¼šç”Ÿæˆå¤§é‡çš„æ— ç”¨ä»£ç ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨ <code>@media</code> ï¼ˆæˆ–è€…å…¶ä»– CSS æŒ‡ä»¤ï¼‰ä¸­ä½¿ç”¨ <code>@extend</code>ï¼Œå¿…é¡»å»¶ä¼¸ç»™ç›¸åŒæŒ‡ä»¤å±‚ä¸­çš„é€‰æ‹©å™¨ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­æ˜¯å¯è¡Œçš„ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> print &#123;</span><br><span class="line">  <span class="selector-class">.error</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#f00</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#fdd</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.seriousError</span> &#123;</span><br><span class="line">    <span class="keyword">@extend</span> .error;</span><br><span class="line">    <span class="attribute">border-width</span>: <span class="number">3px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†ä¸å¯ä»¥è¿™æ ·ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.error</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#f00</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fdd</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> print &#123;</span><br><span class="line">  <span class="selector-class">.seriousError</span> &#123;</span><br><span class="line">    <span class="comment">// INVALID EXTEND: .error is used outside of the &quot;@media print&quot; directive</span></span><br><span class="line">    <span class="keyword">@extend</span> .error;</span><br><span class="line">    <span class="attribute">border-width</span>: <span class="number">3px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¸Œæœ›æœ‰ä¸€å¤©ï¼Œæµè§ˆå™¨å¯ä»¥åŸç”Ÿæ”¯æŒ <code>@extend</code> æŒ‡ä»¤ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä»»ä½•æŒ‡ä»¤ä¸­ä½¿ç”¨å»¶ä¼¸åŠŸèƒ½ï¼Œä¸å†å—é™åˆ¶äº†ã€‚</p><h3 id="7-4-at-root"><a href="#7-4-at-root" class="headerlink" title="7.4. @at-root"></a>7.4. @at-root</h3><p>The @at-root directive causes one or more rules to be emitted at the root of the document, rather than being nested beneath their parent selectors. It can either be used with a single inline selector:</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">@at-root</span> .child &#123; ... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Which would produce:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123; ... &#125;</span><br><span class="line"><span class="selector-class">.child</span> &#123; ... &#125;</span><br></pre></td></tr></table></figure><p>Or it can be used with a block containing multiple selectors:</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">@at-root</span> &#123;</span><br><span class="line">    <span class="selector-class">.child1</span> &#123; ... &#125;</span><br><span class="line">    <span class="selector-class">.child2</span> &#123; ... &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.step-child</span> &#123; ... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Which would output the following:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123; ... &#125;</span><br><span class="line"><span class="selector-class">.child1</span> &#123; ... &#125;</span><br><span class="line"><span class="selector-class">.child2</span> &#123; ... &#125;</span><br><span class="line"><span class="selector-class">.parent</span> <span class="selector-class">.step-child</span> &#123; ... &#125;</span><br></pre></td></tr></table></figure><h4 id="7-4-1-at-root-without-â€¦-and-at-root-with-â€¦"><a href="#7-4-1-at-root-without-â€¦-and-at-root-with-â€¦" class="headerlink" title="7.4.1. @at-root (without: â€¦) and @at-root (with: â€¦)"></a>7.4.1. @at-root (without: â€¦) and @at-root (with: â€¦)</h4><p>By default, @at-root just excludes selectors. However, itâ€™s also possible to use @at-root to move outside of nested directives such as @media as well. For example:</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> print &#123;</span><br><span class="line">  <span class="selector-class">.page</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">8in</span>;</span><br><span class="line">    <span class="keyword">@at-root</span> (<span class="attribute">without</span>: media) &#123;</span><br><span class="line">      <span class="attribute">color</span>: red;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>produces:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> print &#123;</span><br><span class="line">  <span class="selector-class">.page</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">8in</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.page</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>You can use @at-root (without: â€¦) to move outside of any directive. You can also do it with multiple directives separated by a space: @at-root (without: media supports) moves outside of both @media and @supports queries.</p><p>There are two special values you can pass to @at-root. â€œruleâ€ refers to normal CSS rules; @at-root (without: rule) is the same as @at-root with no query. @at-root (without: all) means that the styles should be moved outside of all directives and CSS rules.</p><p>If you want to specify which directives or rules to include, rather than listing which ones should be excluded, you can use with instead of without. For example, @at-root (with: rule) will move outside of all directives, but will preserve any CSS rules.</p><h3 id="7-5-debug"><a href="#7-5-debug" class="headerlink" title="7.5. @debug"></a>7.5. @debug</h3><p>The @debug directive prints the value of a SassScript expression to the standard error output stream. Itâ€™s useful for debugging Sass files that have complicated SassScript going on. For example:</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@debug</span> <span class="number">10em</span> + <span class="number">12em</span>;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Line 1 DEBUG: 22em</span><br></pre></td></tr></table></figure><h3 id="7-6-warn"><a href="#7-6-warn" class="headerlink" title="7.6. @warn"></a>7.6. @warn</h3><p>The @warn directive prints the value of a SassScript expression to the standard error output stream. Itâ€™s useful for libraries that need to warn users of deprecations or recovering from minor mixin usage mistakes. There are two major distinctions between @warn and @debug:</p><ol><li>You can turn warnings off with the â€“quiet command-line option or the :quiet Sass option.</li><li>A stylesheet trace will be printed out along with the message so that the user being warned can see where their styles caused the warning.</li></ol><p>Usage Example:</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> adjust-location(<span class="variable">$x</span>, <span class="variable">$y</span>) &#123;</span><br><span class="line">  <span class="keyword">@if</span> unitless(<span class="variable">$x</span>) &#123;</span><br><span class="line">    <span class="keyword">@warn</span> <span class="string">&quot;Assuming #&#123;$x&#125; to be in pixels&quot;</span>;</span><br><span class="line">    <span class="variable">$x</span>: <span class="number">1px</span> * <span class="variable">$x</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">@if</span> unitless(<span class="variable">$y</span>) &#123;</span><br><span class="line">    <span class="keyword">@warn</span> <span class="string">&quot;Assuming #&#123;$y&#125; to be in pixels&quot;</span>;</span><br><span class="line">    <span class="variable">$y</span>: <span class="number">1px</span> * <span class="variable">$y</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="attribute">position</span>: relative; <span class="attribute">left</span>: <span class="variable">$x</span>; <span class="attribute">top</span>: <span class="variable">$y</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-7-warn"><a href="#7-7-warn" class="headerlink" title="7.7. @warn"></a>7.7. @warn</h3><p>The @error directive throws the value of a SassScript expression as a fatal error, including a nice stack trace. Itâ€™s useful for validating arguments to mixins and functions. For example:</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> adjust-location(<span class="variable">$x</span>, <span class="variable">$y</span>) &#123;</span><br><span class="line">  <span class="keyword">@if</span> unitless(<span class="variable">$x</span>) &#123;</span><br><span class="line">    <span class="keyword">@error</span> <span class="string">&quot;$x may not be unitless, was #&#123;$x&#125;.&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">@if</span> unitless(<span class="variable">$y</span>) &#123;</span><br><span class="line">    <span class="keyword">@error</span> <span class="string">&quot;$y may not be unitless, was #&#123;$y&#125;.&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="attribute">position</span>: relative; <span class="attribute">left</span>: <span class="variable">$x</span>; <span class="attribute">top</span>: <span class="variable">$y</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>There is currently no way to catch errors.</p><h2 id="8-æ§åˆ¶æŒ‡ä»¤-Control-Directives"><a href="#8-æ§åˆ¶æŒ‡ä»¤-Control-Directives" class="headerlink" title="8. æ§åˆ¶æŒ‡ä»¤ (Control Directives)"></a>8. æ§åˆ¶æŒ‡ä»¤ (Control Directives)</h2><p>SassScript æä¾›äº†ä¸€äº›åŸºç¡€çš„æ§åˆ¶æŒ‡ä»¤ï¼Œæ¯”å¦‚åœ¨æ»¡è¶³ä¸€å®šæ¡ä»¶æ—¶å¼•ç”¨æ ·å¼ï¼Œæˆ–è€…è®¾å®šèŒƒå›´é‡å¤è¾“å‡ºæ ¼å¼ã€‚æ§åˆ¶æŒ‡ä»¤æ˜¯ä¸€ç§é«˜çº§åŠŸèƒ½ï¼Œæ—¥å¸¸ç¼–å†™è¿‡ç¨‹ä¸­å¹¶ä¸å¸¸ç”¨åˆ°ï¼Œä¸»è¦ä¸æ··åˆæŒ‡ä»¤ (mixin) é…åˆä½¿ç”¨ï¼Œå°¤å…¶æ˜¯ç”¨åœ¨ <a href="http://compass-style.org/">Compass</a> ç­‰æ ·å¼åº“ä¸­ã€‚</p><h3 id="8-1-if"><a href="#8-1-if" class="headerlink" title="8.1. if()"></a>8.1. if()</h3><p>The built-in if() function allows you to branch on a condition and returns only one of two possible outcomes. It can be used in any script context. The if function only evaluates the argument corresponding to the one that it will return â€“ this allows you to refer to variables that may not be defined or to have calculations that would otherwise cause an error (E.g. divide by zero).</p><h3 id="8-2-if"><a href="#8-2-if" class="headerlink" title="8.2. @if"></a>8.2. @if</h3><p>å½“ <code>@if</code> çš„è¡¨è¾¾å¼è¿”å›å€¼ä¸æ˜¯ <code>false</code> æˆ–è€… <code>null</code> æ—¶ï¼Œæ¡ä»¶æˆç«‹ï¼Œè¾“å‡º <code>&#123;&#125;</code> å†…çš„ä»£ç ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="keyword">@if</span> <span class="number">1</span> + <span class="number">1</span> == <span class="number">2</span> &#123; <span class="attribute">border</span>: <span class="number">1px</span> solid; &#125;</span><br><span class="line">  <span class="keyword">@if</span> <span class="number">5</span> &lt; <span class="number">3</span> &#123; <span class="attribute">border</span>: <span class="number">2px</span> dotted; &#125;</span><br><span class="line">  <span class="keyword">@if</span> null  &#123; <span class="attribute">border</span>: <span class="number">3px</span> double; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid; &#125;</span><br></pre></td></tr></table></figure><p><code>@if</code> å£°æ˜åé¢å¯ä»¥è·Ÿå¤šä¸ª <code>@else if</code> å£°æ˜ï¼Œæˆ–è€…ä¸€ä¸ª <code>@else</code> å£°æ˜ã€‚å¦‚æœ <code>@if</code> å£°æ˜å¤±è´¥ï¼ŒSass å°†é€æ¡æ‰§è¡Œ <code>@else if</code> å£°æ˜ï¼Œå¦‚æœå…¨éƒ¨å¤±è´¥ï¼Œæœ€åæ‰§è¡Œ <code>@else</code> å£°æ˜ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$type</span>: monster;</span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="keyword">@if</span> <span class="variable">$type</span> == ocean &#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">  &#125; <span class="keyword">@else</span> if <span class="variable">$type</span> == matador &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">  &#125; <span class="keyword">@else</span> if <span class="variable">$type</span> == monster &#123;</span><br><span class="line">    <span class="attribute">color</span>: green;</span><br><span class="line">  &#125; <span class="keyword">@else</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: black;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: green; &#125;</span><br></pre></td></tr></table></figure><h3 id="8-3-for"><a href="#8-3-for" class="headerlink" title="8.3. @for"></a>8.3. @for</h3><p><code>@for</code> æŒ‡ä»¤å¯ä»¥åœ¨é™åˆ¶çš„èŒƒå›´å†…é‡å¤è¾“å‡ºæ ¼å¼ï¼Œæ¯æ¬¡æŒ‰è¦æ±‚ï¼ˆå˜é‡çš„å€¼ï¼‰å¯¹è¾“å‡ºç»“æœåšå‡ºå˜åŠ¨ã€‚è¿™ä¸ªæŒ‡ä»¤åŒ…å«ä¸¤ç§æ ¼å¼ï¼š<code>@for $var from &lt;start&gt; through &lt;end&gt;</code>ï¼Œæˆ–è€… <code>@for $var from &lt;start&gt; to &lt;end&gt;</code>ï¼ŒåŒºåˆ«åœ¨äº <code>through</code> ä¸ <code>to</code> çš„å«ä¹‰ï¼š<em>å½“ä½¿ç”¨ through æ—¶ï¼Œæ¡ä»¶èŒƒå›´åŒ…å« <start> ä¸ <end> çš„å€¼ï¼Œè€Œä½¿ç”¨ to æ—¶æ¡ä»¶èŒƒå›´åªåŒ…å« <start> çš„å€¼ä¸åŒ…å« <end> çš„å€¼</em>ã€‚å¦å¤–ï¼Œ<code>$var</code> å¯ä»¥æ˜¯ä»»ä½•å˜é‡ï¼Œæ¯”å¦‚ <code>$i</code>ï¼›<code>&lt;start&gt;</code> å’Œ <code>&lt;end&gt;</code> å¿…é¡»æ˜¯æ•´æ•°å€¼ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@for</span> <span class="variable">$i</span> from <span class="number">1</span> through <span class="number">3</span> &#123;</span><br><span class="line">  <span class="selector-class">.item-</span>#&#123;<span class="variable">$i</span>&#125; &#123; <span class="attribute">width</span>: <span class="number">2em</span> * <span class="variable">$i</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">2em</span>; &#125;</span><br><span class="line"><span class="selector-class">.item-2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">4em</span>; &#125;</span><br><span class="line"><span class="selector-class">.item-3</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">6em</span>; &#125;</span><br></pre></td></tr></table></figure><h3 id="8-4-each"><a href="#8-4-each" class="headerlink" title="8.4. @each"></a>8.4. @each</h3><p><code>@each</code> æŒ‡ä»¤çš„æ ¼å¼æ˜¯ <code>$var in &lt;list&gt;</code>, <code>$var</code> å¯ä»¥æ˜¯ä»»ä½•å˜é‡åï¼Œæ¯”å¦‚ <code>$length</code> æˆ–è€… <code>$name</code>ï¼Œè€Œ <code>&lt;list&gt;</code> æ˜¯ä¸€è¿ä¸²çš„å€¼ï¼Œä¹Ÿå°±æ˜¯å€¼åˆ—è¡¨ã€‚</p><p><code>@each</code> å°†å˜é‡ <code>$var</code> ä½œç”¨äºå€¼åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªé¡¹ç›®ï¼Œç„¶åè¾“å‡ºç»“æœï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@each</span> <span class="variable">$animal</span> in puma, sea-slug, egret, salamander &#123;</span><br><span class="line">  .#&#123;<span class="variable">$animal</span>&#125;-<span class="attribute">icon</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;/images/#&#123;$animal&#125;.png&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.puma-icon</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;/images/puma.png&#x27;</span>); &#125;</span><br><span class="line"><span class="selector-class">.sea-slug-icon</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;/images/sea-slug.png&#x27;</span>); &#125;</span><br><span class="line"><span class="selector-class">.egret-icon</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;/images/egret.png&#x27;</span>); &#125;</span><br><span class="line"><span class="selector-class">.salamander-icon</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;/images/salamander.png&#x27;</span>); &#125;</span><br></pre></td></tr></table></figure><h4 id="8-4-1-Multiple-Assignment"><a href="#8-4-1-Multiple-Assignment" class="headerlink" title="8.4.1 Multiple Assignment"></a>8.4.1 Multiple Assignment</h4><p>The @each directive can also use multiple variables, as in @each $var1, $var2, â€¦ in . If is a list of lists, each element of the sub-lists is assigned to the respective variable. For example:</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@each</span> <span class="variable">$animal</span>, <span class="variable">$color</span>, <span class="variable">$cursor</span> in (puma, black, default),</span><br><span class="line">                                  (sea-slug, blue, <span class="attribute">pointer</span>),</span><br><span class="line">                                  (egret, white, move) &#123;</span><br><span class="line">  .#&#123;<span class="variable">$animal</span>&#125;-<span class="attribute">icon</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;/images/#&#123;$animal&#125;.png&#x27;</span>);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="variable">$color</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="variable">$cursor</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>is compiled to:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.puma-icon</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;/images/puma.png&#x27;</span>);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid black;</span><br><span class="line">  <span class="attribute">cursor</span>: default; &#125;</span><br><span class="line"><span class="selector-class">.sea-slug-icon</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;/images/sea-slug.png&#x27;</span>);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid blue;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer; &#125;</span><br><span class="line"><span class="selector-class">.egret-icon</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;/images/egret.png&#x27;</span>);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid white;</span><br><span class="line">  <span class="attribute">cursor</span>: move; &#125;</span><br></pre></td></tr></table></figure><p>Since maps are treated as lists of pairs, multiple assignment works with them as well. For example:</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@each</span> <span class="variable">$header</span>, <span class="variable">$size</span> in (h1: <span class="number">2em</span>, h2: <span class="number">1.5em</span>, h3: <span class="number">1.2em</span>) &#123;</span><br><span class="line">  #&#123;<span class="variable">$header</span>&#125; &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="variable">$size</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>is compiled to:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2em</span>; &#125;</span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.5em</span>; &#125;</span><br><span class="line"><span class="selector-tag">h3</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.2em</span>; &#125;</span><br></pre></td></tr></table></figure><h3 id="8-5-while"><a href="#8-5-while" class="headerlink" title="8.5. @while"></a>8.5. @while</h3><p><code>@while</code> æŒ‡ä»¤é‡å¤è¾“å‡ºæ ¼å¼ç›´åˆ°è¡¨è¾¾å¼è¿”å›ç»“æœä¸º <code>false</code>ã€‚è¿™æ ·å¯ä»¥å®ç°æ¯” <code>@for</code> æ›´å¤æ‚çš„å¾ªç¯ï¼Œåªæ˜¯å¾ˆå°‘ä¼šç”¨åˆ°ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$i</span>: <span class="number">6</span>;</span><br><span class="line"><span class="keyword">@while</span> <span class="variable">$i</span> &gt; <span class="number">0</span> &#123;</span><br><span class="line">  <span class="selector-class">.item-</span>#&#123;<span class="variable">$i</span>&#125; &#123; <span class="attribute">width</span>: <span class="number">2em</span> * <span class="variable">$i</span>; &#125;</span><br><span class="line">  <span class="variable">$i</span>: <span class="variable">$i</span> - <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item-6</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">12em</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item-4</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">8em</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item-2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">4em</span>; &#125;</span><br></pre></td></tr></table></figure><h2 id="9-æ··åˆæŒ‡ä»¤-Mixin-Directives"><a href="#9-æ··åˆæŒ‡ä»¤-Mixin-Directives" class="headerlink" title="9. æ··åˆæŒ‡ä»¤ (Mixin Directives)"></a>9. æ··åˆæŒ‡ä»¤ (Mixin Directives)</h2><p>æ··åˆæŒ‡ä»¤ï¼ˆMixinï¼‰ç”¨äºå®šä¹‰å¯é‡å¤ä½¿ç”¨çš„æ ·å¼ï¼Œé¿å…äº†ä½¿ç”¨æ— è¯­æ„çš„ classï¼Œæ¯”å¦‚ <code>.float-left</code>ã€‚æ··åˆæŒ‡ä»¤å¯ä»¥åŒ…å«æ‰€æœ‰çš„ CSS è§„åˆ™ï¼Œç»å¤§éƒ¨åˆ† Sass è§„åˆ™ï¼Œç”šè‡³é€šè¿‡å‚æ•°åŠŸèƒ½å¼•å…¥å˜é‡ï¼Œè¾“å‡ºå¤šæ ·åŒ–çš„æ ·å¼ã€‚</p><h3 id="9-1-å®šä¹‰æ··åˆæŒ‡ä»¤-mixin-Defining-a-Mixin-mixin"><a href="#9-1-å®šä¹‰æ··åˆæŒ‡ä»¤-mixin-Defining-a-Mixin-mixin" class="headerlink" title="9.1. å®šä¹‰æ··åˆæŒ‡ä»¤ @mixin (Defining a Mixin: @mixin)"></a>9.1. å®šä¹‰æ··åˆæŒ‡ä»¤ <code>@mixin</code> (Defining a Mixin: <code>@mixin</code>)</h3><p>æ··åˆæŒ‡ä»¤çš„ç”¨æ³•æ˜¯åœ¨ <code>@mixin</code> åæ·»åŠ åç§°ä¸æ ·å¼ï¼Œæ¯”å¦‚åä¸º <code>large-text</code> çš„æ··åˆé€šè¿‡ä¸‹é¢çš„ä»£ç å®šä¹‰ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> large-text &#123;</span><br><span class="line">  <span class="attribute">font</span>: &#123;</span><br><span class="line">    family: Arial;</span><br><span class="line">    size: <span class="number">20px</span>;</span><br><span class="line">    weight: bold;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff0000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ··åˆä¹Ÿéœ€è¦åŒ…å«é€‰æ‹©å™¨å’Œå±æ€§ï¼Œç”šè‡³å¯ä»¥ç”¨ <code>&amp;</code> å¼•ç”¨çˆ¶é€‰æ‹©å™¨ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> clearfix &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  &amp;<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;.&quot;</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">    <span class="attribute">visibility</span>: hidden;</span><br><span class="line">  &#125;</span><br><span class="line">  * <span class="selector-tag">html</span> &amp; &#123; <span class="attribute">height</span>: <span class="number">1px</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-2-å¼•ç”¨æ··åˆæ ·å¼-include-Including-a-Mixin-include"><a href="#9-2-å¼•ç”¨æ··åˆæ ·å¼-include-Including-a-Mixin-include" class="headerlink" title="9.2. å¼•ç”¨æ··åˆæ ·å¼ @include (Including a Mixin: @include)"></a>9.2. å¼•ç”¨æ··åˆæ ·å¼ <code>@include</code> (Including a Mixin: <code>@include</code>)</h3><p>ä½¿ç”¨ <code>@include</code> æŒ‡ä»¤å¼•ç”¨æ··åˆæ ·å¼ï¼Œæ ¼å¼æ˜¯åœ¨å…¶åæ·»åŠ æ··åˆåç§°ï¼Œä»¥åŠéœ€è¦çš„å‚æ•°ï¼ˆå¯é€‰ï¼‰ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.page-title</span> &#123;</span><br><span class="line">  <span class="keyword">@include</span> large-text;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.page-title</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: Arial;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff0000</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>; &#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥åœ¨æœ€å¤–å±‚å¼•ç”¨æ··åˆæ ·å¼ï¼Œä¸ä¼šç›´æ¥å®šä¹‰å±æ€§ï¼Œä¹Ÿä¸å¯ä»¥ä½¿ç”¨çˆ¶é€‰æ‹©å™¨ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> silly-links &#123;</span><br><span class="line">  <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@include</span> silly-links;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">  <span class="attribute">background-color</span>: red; &#125;</span><br></pre></td></tr></table></figure><p>æ··åˆæ ·å¼ä¸­ä¹Ÿå¯ä»¥åŒ…å«å…¶ä»–æ··åˆæ ·å¼ï¼Œæ¯”å¦‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> compound &#123;</span><br><span class="line">  <span class="keyword">@include</span> highlighted-background;</span><br><span class="line">  <span class="keyword">@include</span> header-text;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@mixin</span> highlighted-background &#123; <span class="attribute">background-color</span>: <span class="number">#fc0</span>; &#125;</span><br><span class="line"><span class="keyword">@mixin</span> header-text &#123; <span class="attribute">font-size</span>: <span class="number">20px</span>; &#125;</span><br></pre></td></tr></table></figure><p>æ··åˆæ ·å¼ä¸­åº”è¯¥åªå®šä¹‰åä»£é€‰æ‹©å™¨ï¼Œè¿™æ ·å¯ä»¥å®‰å…¨çš„å¯¼å…¥åˆ°æ–‡ä»¶çš„ä»»ä½•ä½ç½®ã€‚</p><h3 id="9-3-å‚æ•°-Arguments"><a href="#9-3-å‚æ•°-Arguments" class="headerlink" title="9.3. å‚æ•° (Arguments)"></a>9.3. å‚æ•° (Arguments)</h3><p>å‚æ•°ç”¨äºç»™æ··åˆæŒ‡ä»¤ä¸­çš„æ ·å¼è®¾å®šå˜é‡ï¼Œå¹¶ä¸”èµ‹å€¼ä½¿ç”¨ã€‚åœ¨å®šä¹‰æ··åˆæŒ‡ä»¤çš„æ—¶å€™ï¼ŒæŒ‰ç…§å˜é‡çš„æ ¼å¼ï¼Œé€šè¿‡é€—å·åˆ†éš”ï¼Œå°†å‚æ•°å†™è¿›åœ†æ‹¬å·é‡Œã€‚å¼•ç”¨æŒ‡ä»¤æ—¶ï¼ŒæŒ‰ç…§å‚æ•°çš„é¡ºåºï¼Œå†å°†æ‰€èµ‹çš„å€¼å¯¹åº”å†™è¿›æ‹¬å·ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> sexy-border(<span class="variable">$color</span>, <span class="variable">$width</span>) &#123;</span><br><span class="line">  <span class="attribute">border</span>: &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$color</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">$width</span>;</span><br><span class="line">    style: dashed;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">p</span> &#123; <span class="keyword">@include</span> sexy-border(blue, <span class="number">1in</span>); &#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">border-color</span>: blue;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">1in</span>;</span><br><span class="line">  <span class="attribute">border-style</span>: dashed; &#125;</span><br></pre></td></tr></table></figure><p>æ··åˆæŒ‡ä»¤ä¹Ÿå¯ä»¥ä½¿ç”¨ç»™å˜é‡èµ‹å€¼çš„æ–¹æ³•ç»™å‚æ•°è®¾å®šé»˜è®¤å€¼ï¼Œç„¶åï¼Œå½“è¿™ä¸ªæŒ‡ä»¤è¢«å¼•ç”¨çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰ç»™å‚æ•°èµ‹å€¼ï¼Œåˆ™è‡ªåŠ¨ä½¿ç”¨é»˜è®¤å€¼ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> sexy-border(<span class="variable">$color</span>, <span class="variable">$width</span>: <span class="number">1in</span>) &#123;</span><br><span class="line">  <span class="attribute">border</span>: &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$color</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">$width</span>;</span><br><span class="line">    style: dashed;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">p</span> &#123; <span class="keyword">@include</span> sexy-border(blue); &#125;</span><br><span class="line"><span class="selector-tag">h1</span> &#123; <span class="keyword">@include</span> sexy-border(blue, <span class="number">2in</span>); &#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">border-color</span>: blue;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">1in</span>;</span><br><span class="line">  <span class="attribute">border-style</span>: dashed; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">border-color</span>: blue;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">2in</span>;</span><br><span class="line">  <span class="attribute">border-style</span>: dashed; &#125;</span><br></pre></td></tr></table></figure><h4 id="9-3-1-å…³é”®è¯å‚æ•°-Keyword-Arguments"><a href="#9-3-1-å…³é”®è¯å‚æ•°-Keyword-Arguments" class="headerlink" title="9.3.1. å…³é”®è¯å‚æ•° (Keyword Arguments)"></a>9.3.1. å…³é”®è¯å‚æ•° (Keyword Arguments)</h4><p>æ··åˆæŒ‡ä»¤ä¹Ÿå¯ä»¥ä½¿ç”¨å…³é”®è¯å‚æ•°ï¼Œä¸Šé¢çš„ä¾‹å­ä¹Ÿå¯ä»¥å†™æˆï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123; <span class="keyword">@include</span> sexy-border(<span class="variable">$color</span>: blue); &#125;</span><br><span class="line"><span class="selector-tag">h1</span> &#123; <span class="keyword">@include</span> sexy-border(<span class="variable">$color</span>: blue, <span class="variable">$width</span>: <span class="number">2in</span>); &#125;</span><br></pre></td></tr></table></figure><p>è™½ç„¶ä¸å¤Ÿç®€æ˜ï¼Œä½†æ˜¯é˜…è¯»èµ·æ¥ä¼šæ›´æ–¹ä¾¿ã€‚å…³é”®è¯å‚æ•°ç»™å‡½æ•°æä¾›äº†æ›´çµæ´»çš„æ¥å£ï¼Œä»¥åŠå®¹æ˜“è°ƒç”¨çš„å‚æ•°ã€‚å…³é”®è¯å‚æ•°å¯ä»¥æ‰“ä¹±é¡ºåºä½¿ç”¨ï¼Œå¦‚æœä½¿ç”¨é»˜è®¤å€¼ä¹Ÿå¯ä»¥çœç¼ºï¼Œå¦å¤–ï¼Œå‚æ•°åè¢«è§†ä¸ºå˜é‡åï¼Œä¸‹åˆ’çº¿ã€çŸ­æ¨ªçº¿å¯ä»¥äº’æ¢ä½¿ç”¨ã€‚</p><h4 id="9-3-2-å‚æ•°å˜é‡-Variable-Arguments"><a href="#9-3-2-å‚æ•°å˜é‡-Variable-Arguments" class="headerlink" title="9.3.2. å‚æ•°å˜é‡ (Variable Arguments)"></a>9.3.2. å‚æ•°å˜é‡ (Variable Arguments)</h4><p>æœ‰æ—¶ï¼Œä¸èƒ½ç¡®å®šæ··åˆæŒ‡ä»¤éœ€è¦ä½¿ç”¨å¤šå°‘ä¸ªå‚æ•°ï¼Œæ¯”å¦‚ä¸€ä¸ªå…³äº <code>box-shadow</code> çš„æ··åˆæŒ‡ä»¤ä¸èƒ½ç¡®å®šæœ‰å¤šå°‘ä¸ª â€˜shadowâ€™ ä¼šè¢«ç”¨åˆ°ã€‚è¿™æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å‚æ•°å˜é‡ <code>â€¦</code> å£°æ˜ï¼ˆå†™åœ¨å‚æ•°çš„æœ€åæ–¹ï¼‰å‘Šè¯‰ Sass å°†è¿™äº›å‚æ•°è§†ä¸ºå€¼åˆ—è¡¨å¤„ç†ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> box-shadow(<span class="variable">$shadows</span>...) &#123;</span><br><span class="line">  -moz-<span class="attribute">box-shadow</span>: <span class="variable">$shadows</span>;</span><br><span class="line">  -webkit-<span class="attribute">box-shadow</span>: <span class="variable">$shadows</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="variable">$shadows</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.shadows</span> &#123;</span><br><span class="line">  <span class="keyword">@include</span> box-shadow(<span class="number">0px</span> <span class="number">4px</span> <span class="number">5px</span> <span class="number">#666</span>, <span class="number">2px</span> <span class="number">6px</span> <span class="number">10px</span> <span class="number">#999</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.shadowed</span> &#123;</span><br><span class="line">  -moz-<span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">4px</span> <span class="number">5px</span> <span class="number">#666</span>, <span class="number">2px</span> <span class="number">6px</span> <span class="number">10px</span> <span class="number">#999</span>;</span><br><span class="line">  -webkit-<span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">4px</span> <span class="number">5px</span> <span class="number">#666</span>, <span class="number">2px</span> <span class="number">6px</span> <span class="number">10px</span> <span class="number">#999</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">4px</span> <span class="number">5px</span> <span class="number">#666</span>, <span class="number">2px</span> <span class="number">6px</span> <span class="number">10px</span> <span class="number">#999</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‚æ•°å˜é‡ä¹Ÿå¯ä»¥ç”¨åœ¨å¼•ç”¨æ··åˆæŒ‡ä»¤çš„æ—¶å€™ (<code>@include</code>)ï¼Œä¸å¹³æ—¶ç”¨æ³•ä¸€æ ·ï¼Œå°†ä¸€ä¸²å€¼åˆ—è¡¨ä¸­çš„å€¼é€æ¡ä½œä¸ºå‚æ•°å¼•ç”¨ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> colors(<span class="variable">$text</span>, <span class="variable">$background</span>, <span class="variable">$border</span>) &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">$text</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="variable">$background</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="variable">$border</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$values</span>: <span class="number">#ff0000</span>, <span class="number">#00ff00</span>, <span class="number">#0000ff</span>;</span><br><span class="line"><span class="selector-class">.primary</span> &#123;</span><br><span class="line">  <span class="keyword">@include</span> colors(<span class="variable">$values</span>...);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.primary</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff0000</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#00ff00</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#0000ff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>You can use variable arguments to wrap a mixin and add additional styles without changing the argument signature of the mixin. If you do so, even keyword arguments will get passed through to the wrapped mixin. For example:</p></blockquote><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> wrapped-stylish-mixin(<span class="variable">$args</span>...) &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="keyword">@include</span> stylish-mixin(<span class="variable">$args</span>...);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.stylish</span> &#123;</span><br><span class="line">  <span class="comment">// The $width argument will get passed on to &quot;stylish-mixin&quot; as a keyword</span></span><br><span class="line">  <span class="keyword">@include</span> wrapped-stylish-mixin(<span class="number">#00ff00</span>, <span class="variable">$width</span>: <span class="number">100px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ³¨é‡Šå†…çš„æ„æ€æ˜¯ï¼š<code>$width</code> å‚æ•°å°†ä¼šä¼ é€’ç»™ <code>stylish-mixin</code> ä½œä¸ºå…³é”®è¯ã€‚</p><h3 id="9-4-å‘æ··åˆæ ·å¼ä¸­å¯¼å…¥å†…å®¹-Passing-Content-Blocks-to-a-Mixin"><a href="#9-4-å‘æ··åˆæ ·å¼ä¸­å¯¼å…¥å†…å®¹-Passing-Content-Blocks-to-a-Mixin" class="headerlink" title="9.4. å‘æ··åˆæ ·å¼ä¸­å¯¼å…¥å†…å®¹ (Passing Content Blocks to a Mixin)"></a>9.4. å‘æ··åˆæ ·å¼ä¸­å¯¼å…¥å†…å®¹ (Passing Content Blocks to a Mixin)</h3><p>åœ¨å¼•ç”¨æ··åˆæ ·å¼çš„æ—¶å€™ï¼Œå¯ä»¥å…ˆå°†ä¸€æ®µä»£ç å¯¼å…¥åˆ°æ··åˆæŒ‡ä»¤ä¸­ï¼Œç„¶åå†è¾“å‡ºæ··åˆæ ·å¼ï¼Œé¢å¤–å¯¼å…¥çš„éƒ¨åˆ†å°†å‡ºç°åœ¨ <code>@content</code> æ ‡å¿—çš„åœ°æ–¹ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> apply-to-ie6-only &#123;</span><br><span class="line">  * <span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="keyword">@content</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@include</span> apply-to-ie6-only &#123;</span><br><span class="line">  <span class="selector-id">#logo</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(/logo.gif);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* <span class="selector-tag">html</span> <span class="selector-id">#logo</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">/logo.gif</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¸ºä¾¿äºä¹¦å†™ï¼Œ@mixin å¯ä»¥ç”¨ = è¡¨ç¤ºï¼Œè€Œ @include å¯ä»¥ç”¨ + è¡¨ç¤º</strong>ï¼Œæ‰€ä»¥ä¸Šé¢çš„ä¾‹å­å¯ä»¥å†™æˆï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">=apply-to-ie6-only</span><br><span class="line">  * html</span><br><span class="line">    @content</span><br><span class="line"></span><br><span class="line">+apply-to-ie6-only</span><br><span class="line">  #logo</span><br><span class="line">    background-image: url(/logo.gif)</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong> å½“ <code>@content</code> åœ¨æŒ‡ä»¤ä¸­å‡ºç°è¿‡å¤šæ¬¡æˆ–è€…å‡ºç°åœ¨å¾ªç¯ä¸­æ—¶ï¼Œé¢å¤–çš„ä»£ç å°†è¢«å¯¼å…¥åˆ°æ¯ä¸€ä¸ªåœ°æ–¹ã€‚</p><h4 id="9-4-1-Variable-Scope-and-Content-Blocks"><a href="#9-4-1-Variable-Scope-and-Content-Blocks" class="headerlink" title="9.4.1. Variable Scope and Content Blocks"></a>9.4.1. Variable Scope and Content Blocks</h4><blockquote><p>The block of content passed to a mixin are evaluated in the scope where the block is defined, not in the scope of the mixin. This means that variables local to the mixin cannot be used within the passed style block and variables will resolve to the global value:</p></blockquote><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$color</span>: white;</span><br><span class="line"><span class="keyword">@mixin</span> colors(<span class="variable">$color</span>: blue) &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="variable">$color</span>;</span><br><span class="line">  <span class="keyword">@content</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="variable">$color</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.colors</span> &#123;</span><br><span class="line">  <span class="keyword">@include</span> colors &#123; <span class="attribute">color</span>: <span class="variable">$color</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.colors</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: blue;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">border-color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Additionally, this makes it clear that the variables and mixins that are used within the passed block are related to the other styles around where the block is defined. For example:</p></blockquote><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#sidebar</span> &#123;</span><br><span class="line">  <span class="variable">$sidebar-width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">$sidebar-width</span>;</span><br><span class="line">  <span class="keyword">@include</span> smartphone &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">$sidebar-width</span> / <span class="number">3</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="10-å‡½æ•°æŒ‡ä»¤-Function-Directives"><a href="#10-å‡½æ•°æŒ‡ä»¤-Function-Directives" class="headerlink" title="10. å‡½æ•°æŒ‡ä»¤ (Function Directives)"></a>10. å‡½æ•°æŒ‡ä»¤ (Function Directives)</h2><p>Sass æ”¯æŒè‡ªå®šä¹‰å‡½æ•°ï¼Œå¹¶èƒ½åœ¨ä»»ä½•å±æ€§å€¼æˆ– Sass script ä¸­ä½¿ç”¨ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$grid-width</span>: <span class="number">40px</span>;</span><br><span class="line"><span class="variable">$gutter-width</span>: <span class="number">10px</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@function</span> grid-width(<span class="variable">$n</span>) &#123;</span><br><span class="line">  <span class="keyword">@return</span> <span class="variable">$n</span> * <span class="variable">$grid-width</span> + (<span class="variable">$n</span> - <span class="number">1</span>) * <span class="variable">$gutter-width</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#sidebar</span> &#123; <span class="attribute">width</span>: <span class="built_in">grid-width</span>(<span class="number">5</span>); &#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#sidebar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">240px</span>; &#125;</span><br></pre></td></tr></table></figure><p>ä¸ mixin ç›¸åŒï¼Œä¹Ÿå¯ä»¥ä¼ é€’è‹¥å¹²ä¸ªå…¨å±€å˜é‡ç»™å‡½æ•°ä½œä¸ºå‚æ•°ã€‚ä¸€ä¸ªå‡½æ•°å¯ä»¥å«æœ‰å¤šæ¡è¯­å¥ï¼Œéœ€è¦è°ƒç”¨ <code>@return</code> è¾“å‡ºç»“æœã€‚</p><p>è‡ªå®šä¹‰çš„å‡½æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨å…³é”®è¯å‚æ•°ï¼Œä¸Šé¢çš„ä¾‹å­è¿˜å¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#sidebar</span> &#123; <span class="attribute">width</span>: <span class="built_in">grid-width</span>(<span class="variable">$n</span>: <span class="number">5</span>); &#125;</span><br></pre></td></tr></table></figure><p>å»ºè®®åœ¨è‡ªå®šä¹‰å‡½æ•°å‰æ·»åŠ å‰ç¼€é¿å…å‘½åå†²çªï¼Œå…¶ä»–äººé˜…è¯»ä»£ç æ—¶ä¹Ÿä¼šçŸ¥é“è¿™ä¸æ˜¯ Sass æˆ–è€… CSS çš„è‡ªå¸¦åŠŸèƒ½ã€‚</p><p>è‡ªå®šä¹‰å‡½æ•°ä¸ mixin ç›¸åŒï¼Œéƒ½æ”¯æŒ variable arguments</p><h2 id="11-è¾“å‡ºæ ¼å¼-Output-Style"><a href="#11-è¾“å‡ºæ ¼å¼-Output-Style" class="headerlink" title="11. è¾“å‡ºæ ¼å¼ (Output Style)"></a>11. è¾“å‡ºæ ¼å¼ (Output Style)</h2><p>Sass é»˜è®¤çš„ CSS è¾“å‡ºæ ¼å¼å¾ˆç¾è§‚ä¹Ÿèƒ½æ¸…æ™°åæ˜ æ–‡æ¡£ç»“æ„ï¼Œä¸ºæ»¡è¶³å…¶ä»–éœ€æ±‚ Sass ä¹Ÿæä¾›äº†å¤šç§è¾“å‡ºæ ¼å¼ã€‚</p><p>Sass æä¾›äº†å››ç§è¾“å‡ºæ ¼å¼ï¼Œå¯ä»¥é€šè¿‡ <code>:style option</code> é€‰é¡¹è®¾å®šï¼Œæˆ–è€…åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ <code>--style</code> é€‰é¡¹ã€‚</p><h3 id="11-1-nested"><a href="#11-1-nested" class="headerlink" title="11.1. :nested"></a>11.1. <code>:nested</code></h3><p>Nested ï¼ˆåµŒå¥—ï¼‰æ ·å¼æ˜¯ Sass é»˜è®¤çš„è¾“å‡ºæ ¼å¼ï¼Œèƒ½å¤Ÿæ¸…æ™°åæ˜  CSS ä¸ HTML çš„ç»“æ„å…³ç³»ã€‚é€‰æ‹©å™¨ä¸å±æ€§ç­‰å•ç‹¬å ç”¨ä¸€è¡Œï¼Œç¼©è¿›é‡ä¸ Sass æ–‡ä»¶ä¸­ä¸€è‡´ï¼Œæ¯è¡Œçš„ç¼©è¿›é‡åæ˜ äº†å…¶åœ¨åµŒå¥—è§„åˆ™å†…çš„å±‚æ•°ã€‚å½“é˜…è¯»å¤§å‹ CSS æ–‡ä»¶æ—¶ï¼Œè¿™ç§æ ·å¼å¯ä»¥å¾ˆå®¹æ˜“åœ°åˆ†ææ–‡ä»¶çš„ä¸»è¦ç»“æ„ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#000</span>; &#125;</span><br><span class="line">  <span class="selector-id">#main</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">10em</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.huge</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">10em</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline; &#125;</span><br></pre></td></tr></table></figure><h3 id="11-2-expanded"><a href="#11-2-expanded" class="headerlink" title="11.2. :expanded"></a>11.2. <code>:expanded</code></h3><p>Expanded è¾“å‡ºæ›´åƒæ˜¯æ‰‹å†™çš„æ ·å¼ï¼Œé€‰æ‹©å™¨ã€å±æ€§ç­‰å„å ç”¨ä¸€è¡Œï¼Œå±æ€§æ ¹æ®é€‰æ‹©å™¨ç¼©è¿›ï¼Œè€Œé€‰æ‹©å™¨ä¸åšä»»ä½•ç¼©è¿›ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#main</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.huge</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">10em</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="11-3-compact"><a href="#11-3-compact" class="headerlink" title="11.3. :compact"></a>11.3. <code>:compact</code></h3><p>Compact è¾“å‡ºæ–¹å¼æ¯”èµ·ä¸Šé¢ä¸¤ç§å ç”¨çš„ç©ºé—´æ›´å°‘ï¼Œæ¯æ¡ CSS è§„åˆ™åªå ä¸€è¡Œï¼ŒåŒ…å«å…¶ä¸‹çš„æ‰€æœ‰å±æ€§ã€‚åµŒå¥—è¿‡çš„é€‰æ‹©å™¨åœ¨è¾“å‡ºæ—¶æ²¡æœ‰ç©ºè¡Œï¼Œä¸åµŒå¥—çš„é€‰æ‹©å™¨ä¼šè¾“å‡ºç©ºç™½è¡Œä½œä¸ºåˆ†éš”ç¬¦ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span> &#123; <span class="attribute">color</span>: <span class="number">#fff</span>; <span class="attribute">background-color</span>: <span class="number">#000</span>; &#125;</span><br><span class="line"><span class="selector-id">#main</span> <span class="selector-tag">p</span> &#123; <span class="attribute">width</span>: <span class="number">10em</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.huge</span> &#123; <span class="attribute">font-size</span>: <span class="number">10em</span>; <span class="attribute">font-weight</span>: bold; <span class="attribute">text-decoration</span>: underline; &#125;</span><br></pre></td></tr></table></figure><h3 id="11-4-compressed"><a href="#11-4-compressed" class="headerlink" title="11.4. :compressed"></a>11.4. <code>:compressed</code></h3><p>Compressed è¾“å‡ºæ–¹å¼åˆ é™¤æ‰€æœ‰æ— æ„ä¹‰çš„ç©ºæ ¼ã€ç©ºç™½è¡Œã€ä»¥åŠæ³¨é‡Šï¼ŒåŠ›æ±‚å°†æ–‡ä»¶ä½“ç§¯å‹ç¼©åˆ°æœ€å°ï¼ŒåŒæ—¶ä¹Ÿä¼šåšå‡ºå…¶ä»–è°ƒæ•´ï¼Œæ¯”å¦‚ä¼šè‡ªåŠ¨æ›¿æ¢å ç”¨ç©ºé—´æœ€å°çš„é¢œè‰²è¡¨è¾¾æ–¹å¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span>&#123;<span class="attribute">color</span>:<span class="number">#fff</span>;<span class="attribute">background-color</span>:<span class="number">#000</span>&#125;<span class="selector-id">#main</span> <span class="selector-tag">p</span>&#123;<span class="attribute">width</span>:<span class="number">10em</span>&#125;<span class="selector-class">.huge</span>&#123;<span class="attribute">font-size</span>:<span class="number">10em</span>;<span class="attribute">font-weight</span>:bold;<span class="attribute">text-decoration</span>:underline&#125;</span><br></pre></td></tr></table></figure><h2 id="12-æ‹“å±•-Sass-Extending-Sass"><a href="#12-æ‹“å±•-Sass-Extending-Sass" class="headerlink" title="12. æ‹“å±• Sass (Extending Sass)"></a>12. æ‹“å±• Sass (Extending Sass)</h2><p>Sass æä¾›äº†å¾ˆå¤šé«˜çº§è‡ªå®šä¹‰åŠŸèƒ½ï¼Œä½¿ç”¨è¿™äº›åŠŸèƒ½éœ€è¦æœ‰è‰¯å¥½çš„ Ruby åŸºç¡€ã€‚</p><h3 id="12-1-è‡ªå®šä¹‰-Sass-å‡½æ•°-Defining-Custom-Sass-Functions"><a href="#12-1-è‡ªå®šä¹‰-Sass-å‡½æ•°-Defining-Custom-Sass-Functions" class="headerlink" title="12.1. è‡ªå®šä¹‰ Sass å‡½æ•° (Defining Custom Sass Functions)"></a>12.1. è‡ªå®šä¹‰ Sass å‡½æ•° (Defining Custom Sass Functions)</h3><p>é€šè¿‡ Ruby API å¯ä»¥è‡ªå®šä¹‰ Sass å‡½æ•°ï¼Œå…·ä½“è¯·æŸ¥çœ‹ <a href="http://sass-lang.com/docs/yardoc/Sass/Script/Functions.html#adding_custom_functions">source documentation</a>ã€‚</p><h3 id="12-2-å­˜å‚¨ç¼“å­˜-Cache-Stores"><a href="#12-2-å­˜å‚¨ç¼“å­˜-Cache-Stores" class="headerlink" title="12.2. å­˜å‚¨ç¼“å­˜ (Cache Stores)"></a>12.2. å­˜å‚¨ç¼“å­˜ (Cache Stores)</h3><p>Sass caches parsed documents so that they can be reused without parsing them again unless they have changed. By default, Sass will write these cache files to a location on the filesystem indicated by :cache_location. If you cannot write to the filesystem or need to share cache across ruby processes or machines, then you can define your own cache store and set the:cache_store option. For details on creating your own cache store, please see the source documentation.</p><h3 id="12-3-è‡ªå®šä¹‰å¯¼å…¥-Custom-Importers"><a href="#12-3-è‡ªå®šä¹‰å¯¼å…¥-Custom-Importers" class="headerlink" title="12.3. è‡ªå®šä¹‰å¯¼å…¥ (Custom Importers)"></a>12.3. è‡ªå®šä¹‰å¯¼å…¥ (Custom Importers)</h3><p>Sass importers are in charge of taking paths passed to @import and finding the appropriate Sass code for those paths. By default, this code is loaded from the filesystem, but importers could be added to load from a database, over HTTP, or use a different file naming scheme than what Sass expects.</p><p>Each importer is in charge of a single load path (or whatever the corresponding notion is for the backend). Importers can be placed in the :load_paths array alongside normal filesystem paths.</p><p>When resolving an @import, Sass will go through the load paths looking for an importer that successfully imports the path. Once one is found, the imported file is used.</p><p>User-created importers must inherit from Sass::Importers::Base.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Sass-Syntactically-Awesome-StyleSheets&quot;&gt;&lt;a href=&quot;#Sass-Syntactically-Awesome-StyleSheets&quot; class=&quot;headerlink&quot; title=&quot;Sass (Syntactica</summary>
      
    
    
    
    <category term="å‰ç«¯" scheme="https://lovelee.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="sass" scheme="https://lovelee.cn/tags/sass/"/>
    
  </entry>
  
  <entry>
    <title>å‘å¸ƒè‡ªå·±çš„npmåŒ…</title>
    <link href="https://lovelee.cn/2022/08/29/publish_to_npm/"/>
    <id>https://lovelee.cn/2022/08/29/publish_to_npm/</id>
    <published>2022-08-29T12:53:09.173Z</published>
    <updated>2022-08-28T02:04:35.437Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‘å¸ƒè‡ªå·±çš„npmåŒ…"><a href="#å‘å¸ƒè‡ªå·±çš„npmåŒ…" class="headerlink" title="å‘å¸ƒè‡ªå·±çš„npmåŒ…"></a>å‘å¸ƒè‡ªå·±çš„npmåŒ…</h2><ul><li><p>é¦–å…ˆåœ¨npmç½‘ç«™ä¸Šæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œè¿™ä¸ªè´¦å·ä¹‹åä¼šç”¨åˆ°ã€‚</p></li><li><p>npmç½‘ç«™åœ°å€ï¼š<a href="https://www.npmjs.com/">https://www.npmjs.com/</a></p></li><li><p>npmç½‘ç«™æ³¨å†Œåœ°å€ï¼š<a href="https://www.npmjs.com/signup">https://www.npmjs.com/signup</a></p></li></ul><div class="note purple no-icon flat"><p>æ³¨æ„ï¼šè¿™é‡Œéœ€è¦ä½¿ç”¨çš„æº æ˜¯ npm è‡ªå·±ã€‚ä¸èƒ½ç”¨æ·˜å®çš„æºç­‰å…¶ä»–ï¼Œæ³¨æ„è¦å…ˆè¿›è¡Œåˆ‡æ¢ã€‚è¿™é‡Œæ¨èä½¿ç”¨ <mark class="hl-label red">nrm</mark>  , æœ‰å…´è¶£çš„å¯ä»¥å»äº†è§£ä¸€ä¸‹</p></div><ul><li><img src="https://img.gejiba.com/images/2245876ae4759b14d6a277b21ac03599.png" alt="img"></li></ul><blockquote><p>æ¨èï¼šå·¥å…·ä½¿ç”¨ cmd  </p></blockquote><ul><li><p>æ‰¾åˆ°è‡ªå·±ä¸Šä¼ åŒ…çš„çˆ¶çº§ç›®å½•ï¼Œæ‰“å¼€å‘½ä»¤è¡Œ:</p><ul><li><ol><li><code>npm login</code> </li></ol><p>â€‹    <img src="https://img.gejiba.com/images/96ba6025cbdcdaa5a0219dd6f1a66af5.png" alt="img"> </p></li><li><ol start="2"><li><code>npm init</code> åˆ›å»ºé¡¹ç›® <mark class="hl-label orange">å·²æœ‰é¡¹ç›®çš„å¯ä»¥è·³è¿‡</mark> </li></ol></li><li><ol start="3"><li>é…ç½® <code>package.json</code></li></ol></li><li><ol start="4"><li>æ‰“åŒ…ä¸Šä¼  <code>npm publish</code> ç¬¬ä¸€æ¬¡ä¸Šä¼  ä¸éœ€è¦åŠ  åŒ…å åç»­ä¸Šä¼ å‡ºç°é—®é¢˜å¯ä»¥å°è¯• <code>npm publish åŒ…å</code></li></ol><p><img src="https://img.gejiba.com/images/6fea7435422ee2a9c41b5f1bbf89bd53.png" alt="img"></p></li><li><ol start="5"><li>æˆåŠŸåä¼šæ˜¾ç¤º <code>+åŒ…å</code></li></ol></li><li><ol start="6"><li>æ›´æ–°ç‰ˆæœ¬æ—¶æ³¨æ„æ›´æ”¹<code>packgae.json</code>ä¸­çš„ç‰ˆæœ¬å·</li></ol></li><li><ol start="7"><li>ä¸Šä¼ æˆåŠŸåï¼Œå¯ä»¥æµ‹è¯•ä¸‹è½½ <code>npm install åŒ…å</code></li></ol><p><img src="https://img.gejiba.com/images/2d312bb04a9434c3c750d475f171c825.png" alt="img"></p><p>PS: ä¹Ÿä¼šæ”¶åˆ°æˆåŠŸ(success)é‚®ä»¶æ¨é€</p></li><li><ol start="8"><li>æµ‹è¯•ç”¨çš„åŒ…è¿˜æ˜¯å°½å¿«ä¸‹æ¶ <code>npm --force unpublish åŒ…å</code></li></ol><p><img src="https://img.gejiba.com/images/6353685ae37f66f5f4e626570930f3d3.png" alt="img"></p></li></ul></li></ul><div class="note red flat"><p>è®°å¾—å‘å¸ƒå®Œæˆï¼Œåˆ‡æ¢å›å…¶ä»–æºï¼ˆtaobaoï¼‰ï¼Œç»§ç»­èŠœæ¹–~</p></div><h3 id="æ¥ä¸‹æ¥å°±å¯ä»¥ä¸ºè‡ªå·±çš„ä»£ç ä¸–ç•Œæ·»ç –åŠ ç“¦äº†ï¼ï¼ï¼GoodluckğŸ¤©ï¼ï¼ï¼"><a href="#æ¥ä¸‹æ¥å°±å¯ä»¥ä¸ºè‡ªå·±çš„ä»£ç ä¸–ç•Œæ·»ç –åŠ ç“¦äº†ï¼ï¼ï¼GoodluckğŸ¤©ï¼ï¼ï¼" class="headerlink" title="æ¥ä¸‹æ¥å°±å¯ä»¥ä¸ºè‡ªå·±çš„ä»£ç ä¸–ç•Œæ·»ç –åŠ ç“¦äº†ï¼ï¼ï¼GoodluckğŸ¤©ï¼ï¼ï¼"></a>æ¥ä¸‹æ¥å°±å¯ä»¥ä¸ºè‡ªå·±çš„ä»£ç ä¸–ç•Œæ·»ç –åŠ ç“¦äº†ï¼ï¼ï¼GoodluckğŸ¤©ï¼ï¼ï¼</h3>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å‘å¸ƒè‡ªå·±çš„npmåŒ…&quot;&gt;&lt;a href=&quot;#å‘å¸ƒè‡ªå·±çš„npmåŒ…&quot; class=&quot;headerlink&quot; title=&quot;å‘å¸ƒè‡ªå·±çš„npmåŒ…&quot;&gt;&lt;/a&gt;å‘å¸ƒè‡ªå·±çš„npmåŒ…&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;é¦–å…ˆåœ¨npmç½‘ç«™ä¸Šæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œè¿™ä¸ªè´¦å·ä¹‹åä¼šç”¨åˆ°ã€‚&lt;/p&gt;
&lt;/</summary>
      
    
    
    
    <category term="å‰ç«¯" scheme="https://lovelee.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="npm" scheme="https://lovelee.cn/tags/npm/"/>
    
  </entry>
  
  <entry>
    <title>nodeä¸­çš„æ¨¡å—</title>
    <link href="https://lovelee.cn/2022/08/29/node%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97/"/>
    <id>https://lovelee.cn/2022/08/29/node%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97/</id>
    <published>2022-08-29T12:53:09.170Z</published>
    <updated>2022-08-27T12:18:16.922Z</updated>
    
    <content type="html"><![CDATA[<h1 id="nodeä¸­çš„æ¨¡å—"><a href="#nodeä¸­çš„æ¨¡å—" class="headerlink" title="nodeä¸­çš„æ¨¡å—"></a>nodeä¸­çš„æ¨¡å—</h1><p>javaScript ä»ä¸€ä¸ªä»…ä»…åœ¨æµè§ˆå™¨ä¸Šé¢çš„ä¸€ä¸ªç©å…·è¯­è¨€ï¼Œä¸€è½¬çœ¼æ¼”å˜æˆæ— æ‰€ä¸èƒ½ç¥ä¸€èˆ¬çš„å­˜åœ¨ã€‚ä½†æ˜¯ï¼Œç”±äºå¤©ç”Ÿå­˜åœ¨ç€ä¸€ç‚¹æˆå‰§æ€§ï¼Œæ¨¡å—ç³»ç»Ÿä½œä¸ºä¸€é—¨è¯­è¨€æœ€åŸºæœ¬çš„å±æ€§å´æ˜¯javaScriptæ‰€ç¼ºçš„ã€‚<br><a href="https://zhufengzhufeng.github.io/img/node.png"><img src="https://zhufengzhufeng.github.io/img/node.png" alt="img"></a></p><h2 id="1-JSçš„ä¸è¶³"><a href="#1-JSçš„ä¸è¶³" class="headerlink" title="1. JSçš„ä¸è¶³"></a>1. JSçš„ä¸è¶³</h2><p>jsæ²¡æœ‰æ¨¡å—ç³»ç»Ÿï¼Œä¸æ”¯æŒå°é—­ä½œç”¨åŸŸæˆ–ä¾èµ–ç®¡ç†<br>æ²¡æœ‰æ ‡å‡†åº“ï¼Œæ²¡æœ‰æ–‡ä»¶ç³»ç»ŸAPI<br>æ²¡æœ‰åŒ…ç®¡ç†ç³»ç»Ÿï¼Œä¸èƒ½è‡ªåŠ¨åŠ è½½å’Œå®‰è£…ä¾èµ–</p><h2 id="2-commonjsè§„èŒƒ"><a href="#2-commonjsè§„èŒƒ" class="headerlink" title="2.commonjsè§„èŒƒ"></a>2.commonjsè§„èŒƒ</h2><p>ä¸€ä¸ª node.jsç”±å¤§é‡æ¨¡å—ç»„æˆï¼Œæ¯ä¸ªJSæ–‡ä»¶éƒ½æ˜¯ä¸€ä¸ªæ¨¡å—<br>å®ç°äº†requireæ–¹æ³•ï¼ŒnpmåŸºäºcommonjså®ç°äº†è‡ªåŠ¨åŠ è½½å’Œå®‰è£…ä¾èµ–</p><h2 id="3-æ¨¡å—åŒ–ä¼˜ç‚¹"><a href="#3-æ¨¡å—åŒ–ä¼˜ç‚¹" class="headerlink" title="3.æ¨¡å—åŒ–ä¼˜ç‚¹"></a>3.æ¨¡å—åŒ–ä¼˜ç‚¹</h2><ul><li>å¢åŠ å†…èšæ€§ï¼Œæœ‰åŠ©åˆ†å·¥åä½œ</li><li>æ–¹ä¾¿é‡æ„</li><li>æé«˜ä»£ç è´¨é‡</li></ul><h2 id="3-æ¨¡å—ä½¿ç”¨"><a href="#3-æ¨¡å—ä½¿ç”¨" class="headerlink" title="3.æ¨¡å—ä½¿ç”¨"></a>3.æ¨¡å—ä½¿ç”¨</h2><ul><li><p>å®šä¹‰æ¨¡å—</p></li><li><p>å¯¼å‡ºæ¨¡å— module.exportså’Œexports</p></li><li><p>ä½¿ç”¨æ¨¡å— require(â€˜filenameâ€™);</p></li><li><p>å®ç°åŸç†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(function(exports,require,module,__filename,__dirname)&#123;</span><br><span class="line">    return module.exports;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></li></ul><p>module.exportså’Œexportsçš„åŒºåˆ«</p><h2 id="4-requireçš„åº”ç”¨"><a href="#4-requireçš„åº”ç”¨" class="headerlink" title="4.requireçš„åº”ç”¨"></a>4.requireçš„åº”ç”¨</h2><ul><li><p>åŠ è½½æ¨¡å—åä¼šç¼“å­˜ï¼Œå¤šæ¬¡åŠ è½½åå¾—åˆ°åŒä¸€å¯¹è±¡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">require(&#x27;./test.js&#x27;)</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹æ¨¡å—ç¼“å­˜</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(require.cache);</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥è¯¢æ¨¡å—ç»å¯¹è·¯å¾„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">require.resolve(&#x27;./test.js&#x27;);</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹å•ä¸ªçš„æ¨¡å—ç¼“å­˜</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">require.cache[require.resolve(&#x27;./test.js&#x27;)]</span><br></pre></td></tr></table></figure></li><li><p>åˆ é™¤æ¨¡å—ç¼“å­˜</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete require.cache[require.resolve(&#x27;./test.js&#x27;)];</span><br></pre></td></tr></table></figure></li></ul><h2 id="5-åŒ…å’Œnpm"><a href="#5-åŒ…å’Œnpm" class="headerlink" title="5.åŒ…å’Œnpm"></a>5.åŒ…å’Œnpm</h2><ul><li>å¤šä¸ªæ¨¡å—å¯ä»¥å°è£…æˆä¸€ä¸ªåŒ…</li><li>npmæ˜¯node.jsé»˜è®¤çš„æ¨¡å—ç®¡ç†å™¨,ç”¨æ¥å®‰è£…å’Œç®¡ç†nodeæ¨¡å— ç½‘å€ä¸º <a href="http://npmjs.org/">http://npmjs.org</a></li><li>å¯ä»¥ç”¨åŒ…çš„æ–¹å¼é€šè¿‡npmå®‰è£…ã€å¸è½½ã€å‘å¸ƒåŒ…</li></ul><h2 id="6-ç»„ç»‡å’Œç®¡ç†æ¨¡å—"><a href="#6-ç»„ç»‡å’Œç®¡ç†æ¨¡å—" class="headerlink" title="6.ç»„ç»‡å’Œç®¡ç†æ¨¡å—"></a>6.ç»„ç»‡å’Œç®¡ç†æ¨¡å—</h2><p>æ”¾ç½®å¤šä¸ªæ¨¡å—çš„æ–‡ä»¶å¤¹ç§°ä¸ºåŒ…,å¯ä»¥é€šè¿‡åŒ…æ¥å¯¹ä¸€ç»„å…·æœ‰ç›¸äº’ä¾èµ–çš„æœ‰å…³ç³»æ¨¡å—è¿›è¡Œç®¡ç†ã€‚</p><ul><li><p>åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;name&quot;:&quot;åŒ…çš„åç§°&quot;,</span><br><span class="line">&quot;description&quot;ï¼š&quot;åŒ…çš„ç®€è¦è¯´æ˜ã€‚&quot;,</span><br><span class="line">&quot;version&quot;:&quot;ç‰ˆæœ¬å·&quot;,</span><br><span class="line">&quot;keywords&quot;ï¼š&quot;å…³é”®å­—&quot;,</span><br><span class="line">&quot;licenses&quot;:&quot;è®¸å¯è¯&quot;,</span><br><span class="line">&quot;repositories&quot;ï¼š&quot;ä»“åº“åœ°å€ &quot;,</span><br><span class="line">&quot;dependencies&quot;:&quot;åŒ…çš„ä¾èµ–ï¼Œä¸€ä¸ªå…³è”æ•°ç»„ï¼Œç”±åŒ…åç§°å’Œç‰ˆæœ¬ç»„æˆã€‚&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="7-å®‰è£…ç¬¬ä¸‰æ–¹åŒ…"><a href="#7-å®‰è£…ç¬¬ä¸‰æ–¹åŒ…" class="headerlink" title="7.å®‰è£…ç¬¬ä¸‰æ–¹åŒ…"></a>7.å®‰è£…ç¬¬ä¸‰æ–¹åŒ…</h2><ul><li><p>å…¨å±€å®‰è£… ç›´æ¥ä¸‹è½½åˆ°Nodeçš„å®‰è£…ç›®å½•ä¸­ï¼Œå„ä¸ªé¡¹ç›®éƒ½å¯ä»¥è°ƒç”¨,é€‚åˆå·¥å…·æ¨¡å—ï¼Œæ¯”å¦‚webpack</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -global [package name]</span><br></pre></td></tr></table></figure></li><li><p>æœ¬åœ°å®‰è£… å°†ä¸€ä¸ªæ¨¡å—ä¸‹è½½åˆ°å½“å‰ç›®å½•çš„node_moduleså­ç›®å½•ï¼Œç„¶ååªæœ‰åœ¨å½“å‰ç›®å½•å’Œå®ƒçš„å­ç›®å½•ä¹‹ä¸­ï¼Œæ‰èƒ½è°ƒç”¨è¿™ä¸ªæ¨¡å—</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install  [package name] --save-dev/--save</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹å…¨å±€è·¯å¾„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm root -g</span><br></pre></td></tr></table></figure></li></ul><h2 id="8-å¸è½½ç¬¬ä¸‰æ–¹åŒ…"><a href="#8-å¸è½½ç¬¬ä¸‰æ–¹åŒ…" class="headerlink" title="8.å¸è½½ç¬¬ä¸‰æ–¹åŒ…"></a>8.å¸è½½ç¬¬ä¸‰æ–¹åŒ…</h2><ul><li><p>å¸è½½å…¨å±€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall -g [package name]</span><br></pre></td></tr></table></figure></li><li><p>å¸è½½æœ¬åœ°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall [package name] --save-dev</span><br></pre></td></tr></table></figure></li></ul><h2 id="9-å‘å¸ƒå…¨å±€é¡¹ç›®"><a href="#9-å‘å¸ƒå…¨å±€é¡¹ç›®" class="headerlink" title="9.å‘å¸ƒå…¨å±€é¡¹ç›®"></a>9.å‘å¸ƒå…¨å±€é¡¹ç›®</h2><ul><li><p>åˆ›å»ºå¹¶è¿›å…¥ç›®å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir jiang &amp;&amp; cd jiang</span><br></pre></td></tr></table></figure></li><li><p>åˆå§‹åŒ–é¡¹ç›®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init jiang</span><br></pre></td></tr></table></figure></li><li><p>æ³¨å†Œç”¨æˆ·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm adduser</span><br></pre></td></tr></table></figure></li><li><p>å‘å¸ƒé¡¹ç›®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm publish</span><br></pre></td></tr></table></figure></li></ul><h2 id="10-æºç®¡ç†å·¥å…·"><a href="#10-æºç®¡ç†å·¥å…·" class="headerlink" title="10.æºç®¡ç†å·¥å…·"></a>10.æºç®¡ç†å·¥å…·</h2><ul><li><p>å®‰è£…æ­¤å·¥å…·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g nrm</span><br></pre></td></tr></table></figure></li><li><p>æ˜¾ç¤ºæ‰€æœ‰çš„æº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nrm ls</span><br></pre></td></tr></table></figure></li><li><p>åˆ‡æ¢åˆ°ä¸­å›½æº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nrm use cnpm</span><br></pre></td></tr></table></figure></li></ul><p>æ³¨æ„é¡¹ç›®çš„åç§°ä¸èƒ½æ˜¯åˆ«äººå·²ç»æ³¨å†Œçš„åç§°,å°½é‡ç”¨è‡ªå·±çš„åå­—åšå‰ç¼€ å¦‚æœæ³¨å†Œå¤±è´¥çš„è¯å¯èƒ½æ˜¯å› ä¸ºæ”¹äº†é•œåƒåœ°å€äº†ï¼Œéœ€è¦æ”¹å›æ¥ npm config set registry â€œ<a href="http://registry.npmjs.org/">http://registry.npmjs.org/</a>â€œ æŸ¥çœ‹æ‰€æœ‰çš„é…ç½®é¡¹ npm config ls</p><h2 id="11-æ¨¡å—åˆ†ç±»"><a href="#11-æ¨¡å—åˆ†ç±»" class="headerlink" title="11.æ¨¡å—åˆ†ç±»"></a>11.æ¨¡å—åˆ†ç±»</h2><ul><li><p>å†…ç½®æ¨¡å—</p><h3 id="util"><a href="#util" class="headerlink" title="util"></a>util</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">require(&#x27;./person&#x27;);</span><br><span class="line">inheritsç»§æ‰¿</span><br><span class="line">inspectè§£æå±æ€§</span><br><span class="line">isArray isRegExp isDate isErroråˆ¤æ–­ç±»å‹</span><br></pre></td></tr></table></figure></li><li><p>æ–‡ä»¶æ¨¡å—</p><h3 id="è‡ªå®šä¹‰æ¨¡å—"><a href="#è‡ªå®šä¹‰æ¨¡å—" class="headerlink" title="è‡ªå®šä¹‰æ¨¡å—"></a>è‡ªå®šä¹‰æ¨¡å—</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">require(&#x27;./person&#x27;);</span><br></pre></td></tr></table></figure></li><li><p>ç¬¬ä¸‰æ–¹æ¨¡å—</p><h3 id="mimeæ¨¡å—"><a href="#mimeæ¨¡å—" class="headerlink" title="mimeæ¨¡å—"></a>mimeæ¨¡å—</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">require(&#x27;mime&#x27;);</span><br></pre></td></tr></table></figure></li></ul><h2 id="12-æ¨¡å—æŸ¥æ‰¾è§„åˆ™"><a href="#12-æ¨¡å—æŸ¥æ‰¾è§„åˆ™" class="headerlink" title="12.æ¨¡å—æŸ¥æ‰¾è§„åˆ™"></a>12.æ¨¡å—æŸ¥æ‰¾è§„åˆ™</h2><p>å½“æ²¡æœ‰ä»¥â€™/â€˜æˆ–è€…â€™./â€˜æ¥æŒ‡å‘ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œè¿™ä¸ªæ¨¡å—è¦ä¹ˆæ˜¯æ ¸å¿ƒæ¨¡å—,è¦ä¹ˆå°±æ˜¯ä»node_modulesæ–‡ä»¶å¤¹åŠ è½½çš„<br>ç¬¬ä¸‰æ–¹æ¨¡å—</p><ol><li>ä»module.pathså–å‡ºç¬¬ä¸€ä¸ªç›®å½•å¼€å§‹ã€‚</li><li>ç›´æ¥ä»ç›®å½•ä¸­æŸ¥æ‰¾ï¼Œå­˜åœ¨ç»“æŸï¼Œä¸å­˜åœ¨ä¸‹ä¸€æ¡ã€‚</li><li>å°è¯•æ·»åŠ .jsã€.jsonæŸ¥æ‰¾</li><li>å°è¯•å°†requireçš„å‚æ•°ä½œä¸ºä¸€ä¸ªåŒ…æ¥æŸ¥æ‰¾ï¼Œè¯»å–package.jsonï¼Œå–å¾—mainé…ç½®é¡¹æŒ‡å®šçš„æ–‡ä»¶æŸ¥æ‰¾ï¼Œä¸å­˜åœ¨è¿›è¡Œ3</li><li>ç»§ç»­å¤±è´¥æŸ¥çœ‹ä¸‹ä¸€ä¸ªç›®å½•</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;nodeä¸­çš„æ¨¡å—&quot;&gt;&lt;a href=&quot;#nodeä¸­çš„æ¨¡å—&quot; class=&quot;headerlink&quot; title=&quot;nodeä¸­çš„æ¨¡å—&quot;&gt;&lt;/a&gt;nodeä¸­çš„æ¨¡å—&lt;/h1&gt;&lt;p&gt;javaScript ä»ä¸€ä¸ªä»…ä»…åœ¨æµè§ˆå™¨ä¸Šé¢çš„ä¸€ä¸ªç©å…·è¯­è¨€ï¼Œä¸€è½¬çœ¼æ¼”å˜æˆæ— æ‰€ä¸èƒ½ç¥ä¸€èˆ¬çš„å­˜åœ¨</summary>
      
    
    
    
    <category term="æœåŠ¡ç«¯" scheme="https://lovelee.cn/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF/"/>
    
    
    <category term="nodejs" scheme="https://lovelee.cn/tags/nodejs/"/>
    
  </entry>
  
  <entry>
    <title>lessç”¨æ³•</title>
    <link href="https://lovelee.cn/2022/08/29/less/"/>
    <id>https://lovelee.cn/2022/08/29/less/</id>
    <published>2022-08-29T12:53:09.167Z</published>
    <updated>2022-08-27T12:56:57.313Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><blockquote><p>Less ï¼ˆLeaner Style Sheets çš„ç¼©å†™ï¼‰ æ˜¯ä¸€é—¨å‘åå…¼å®¹çš„ CSS æ‰©å±•è¯­è¨€ã€‚è¿™é‡Œå‘ˆç°çš„æ˜¯ Less çš„å®˜æ–¹æ–‡æ¡£ï¼ˆä¸­æ–‡ç‰ˆï¼‰ï¼ŒåŒ…å«äº† Less è¯­è¨€ä»¥åŠåˆ©ç”¨ JavaScript å¼€å‘çš„ç”¨äºå°† Less æ ·å¼è½¬æ¢æˆ CSS æ ·å¼çš„ Less.js å·¥å…·ã€‚</p></blockquote><p>å› ä¸º Less å’Œ CSS éå¸¸åƒï¼Œå­¦ä¹ å¾ˆå®¹æ˜“ã€‚è€Œä¸” Less ä»…å¯¹ CSS è¯­è¨€å¢åŠ äº†å°‘è®¸æ–¹ä¾¿çš„æ‰©å±•ï¼Œè¿™å°±æ˜¯ Less å¦‚æ­¤æ˜“å­¦çš„åŸå› ä¹‹ä¸€ã€‚</p><ul><li><em>For detailed documentation on Less language features, see Features</em></li><li><em>For a list of Less Built-in functions, see Functions</em></li><li><em>For detailed usage instructions, see Using Less.js</em></li><li><em>For third-party tools for Less, see Tools</em></li></ul><p>What does Less add to CSS? Hereâ€™s a quick overview of features.</p><h1 id="å˜é‡ï¼ˆVariablesï¼‰"><a href="#å˜é‡ï¼ˆVariablesï¼‰" class="headerlink" title="å˜é‡ï¼ˆVariablesï¼‰"></a>å˜é‡ï¼ˆVariablesï¼‰</h1><p>These are pretty self-explanatory:</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@width:</span> <span class="number">10px</span>;</span><br><span class="line"><span class="variable">@height:</span> <span class="variable">@width</span> + <span class="number">10px</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#header</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">@width</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="variable">@height</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#header</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Learn More About Variables</strong></p><h1 id="æ··åˆï¼ˆMixinsï¼‰"><a href="#æ··åˆï¼ˆMixinsï¼‰" class="headerlink" title="æ··åˆï¼ˆMixinsï¼‰"></a>æ··åˆï¼ˆMixinsï¼‰</h1><p>Mixins are a way of including (â€œmixing inâ€) a bunch of properties from one rule-set into another rule-set. So say we have the following class:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.bordered</span> &#123;</span><br><span class="line">  <span class="attribute">border-top</span>: dotted <span class="number">1px</span> black;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>And we want to use these properties inside other rule-sets. Well, we just have to drop in the name of the class where we want the properties, like so:</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#menu</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#111</span>;</span><br><span class="line">  <span class="selector-class">.bordered</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.post</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="selector-class">.bordered</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The properties of the <code>.bordered</code> class will now appear in both <code>#menu a</code> and <code>.post a</code>. (Note that you can also use <code>#ids</code> as mixins.)</p><p><strong>Learn More About Mixins</strong></p><h1 id="åµŒå¥—ï¼ˆNestingï¼‰"><a href="#åµŒå¥—ï¼ˆNestingï¼‰" class="headerlink" title="åµŒå¥—ï¼ˆNestingï¼‰"></a>åµŒå¥—ï¼ˆNestingï¼‰</h1><p>Less gives you the ability to use nesting instead of, or in combination with cascading. Letâ€™s say we have the following CSS:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#header</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.navigation</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.logo</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In Less, we can also write it this way:</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#header</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">  <span class="selector-class">.navigation</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.logo</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The resulting code is more concise, and mimics the structure of your HTML.</p><p>You can also bundle pseudo-selectors with your mixins using this method. Hereâ€™s the classic clearfix hack, rewritten as a mixin (<code>&amp;</code> represents the current selector parent):</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  zoom: 1;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">    <span class="attribute">visibility</span>: hidden;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Learn More About Parent Selectors</strong></p><h2 id="Nested-At-Rules-and-Bubbling"><a href="#Nested-At-Rules-and-Bubbling" class="headerlink" title="Nested At-Rules and Bubbling"></a>Nested At-Rules and Bubbling</h2><p>At-rules such as <code>@media</code> or <code>@supports</code> can be nested in the same way as selectors. The at-rule is placed on top and relative order against other elements inside the same ruleset remains unchanged. This is called bubbling.</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.component</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">600px</span>;</span><br><span class="line">    <span class="keyword">@media</span>  (<span class="attribute">min-resolution</span>: <span class="number">192dpi</span>) &#123;</span><br><span class="line">      <span class="attribute">background-image</span>: url(<span class="string">/img/retina2x.png</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">1280px</span>) &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.component</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.component</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">600px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) <span class="keyword">and</span> (<span class="attribute">min-resolution</span>: <span class="number">192dpi</span>) &#123;</span><br><span class="line">  <span class="selector-class">.component</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">/img/retina2x.png</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">1280px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.component</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="è¿ç®—ï¼ˆOperationsï¼‰"><a href="#è¿ç®—ï¼ˆOperationsï¼‰" class="headerlink" title="è¿ç®—ï¼ˆOperationsï¼‰"></a>è¿ç®—ï¼ˆOperationsï¼‰</h1><p>Arithmetical operations <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code> can operate on any number, color or variable. If it is possible, mathematical operations take units into account and convert numbers before adding, subtracting or comparing them. The result has leftmost explicitly stated unit type. If the conversion is impossible or not meaningful, units are ignored. Example of impossible conversion: px to cm or rad to %.</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// numbers are converted into the same units</span></span><br><span class="line"><span class="variable">@conversion-1:</span> <span class="number">5cm</span> + <span class="number">10mm</span>; <span class="comment">// result is 6cm</span></span><br><span class="line"><span class="variable">@conversion-2:</span> <span class="number">2</span> - <span class="number">3cm</span> - <span class="number">5mm</span>; <span class="comment">// result is -1.5cm</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// conversion is impossible</span></span><br><span class="line"><span class="variable">@incompatible-units:</span> <span class="number">2</span> + <span class="number">5px</span> - <span class="number">3cm</span>; <span class="comment">// result is 4px</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// example with variables</span></span><br><span class="line"><span class="variable">@base:</span> <span class="number">5%</span>;</span><br><span class="line"><span class="variable">@filler:</span> <span class="variable">@base</span> * <span class="number">2</span>; <span class="comment">// result is 10%</span></span><br><span class="line"><span class="variable">@other:</span> <span class="variable">@base</span> + <span class="variable">@filler</span>; <span class="comment">// result is 15%</span></span><br></pre></td></tr></table></figure><p>Multiplication and division do not convert numbers. It would not be meaningful in most cases - a length multiplied by a length gives an area and css does not support specifying areas. Less will operate on numbers as they are and assign explicitly stated unit type to the result.</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@base:</span> <span class="number">2cm</span> * <span class="number">3mm</span>; <span class="comment">// result is 6cm</span></span><br></pre></td></tr></table></figure><p>You can also do arithemtic on colors:</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@color:</span> <span class="number">#224488</span> / <span class="number">2</span>; <span class="comment">//results in #112244</span></span><br><span class="line"><span class="attribute">background-color</span>: <span class="number">#112244</span> + <span class="number">#111</span>; <span class="comment">// result is #223355</span></span><br></pre></td></tr></table></figure><p>However, you may find Lessâ€™s <a href="https://less.bootcss.com/functions/#color-operations">Color Functions</a> more useful.</p><h2 id="calc-ç‰¹ä¾‹"><a href="#calc-ç‰¹ä¾‹" class="headerlink" title="calc() ç‰¹ä¾‹"></a>calc() ç‰¹ä¾‹</h2><p><em>Released v3.0.0</em></p><p>ä¸ºäº†ä¸ CSS ä¿æŒå…¼å®¹ï¼Œ<code>calc()</code> å¹¶ä¸å¯¹æ•°å­¦è¡¨è¾¾å¼è¿›è¡Œè®¡ç®—ï¼Œä½†æ˜¯åœ¨åµŒå¥—å‡½æ•°ä¸­ä¼šè®¡ç®—å˜é‡å’Œæ•°å­¦å…¬å¼çš„å€¼ã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@var:</span> <span class="number">50vh</span>/<span class="number">2</span>;</span><br><span class="line"><span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">50%</span> + (<span class="variable">@var</span> - <span class="number">20px</span>));  <span class="comment">// result is calc(50% + (25vh - 20px))</span></span><br></pre></td></tr></table></figure><h1 id="Escaping"><a href="#Escaping" class="headerlink" title="Escaping"></a>Escaping</h1><p>Escaping allows you to use any arbitrary string as property or variable value. Anything inside <code>~&quot;anything&quot;</code> or <code>~&#39;anything&#39;</code> is used as is with no changes except <a href="https://less.bootcss.com/features/#variables-feature-variable-interpolation">interpolation</a>.</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@min768:</span> <span class="string">~&quot;(min-width: 768px)&quot;</span>;</span><br><span class="line"><span class="selector-class">.element</span> &#123;</span><br><span class="line">  <span class="keyword">@media</span> <span class="variable">@min768</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.2rem</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸ºï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.element</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.2rem</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Note, as of Less 3.5, you can simply write:</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@min768:</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>);</span><br><span class="line"><span class="selector-class">.element</span> &#123;</span><br><span class="line">  <span class="keyword">@media</span> <span class="variable">@min768</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.2rem</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In 3.5+, many cases previously requiring â€œquote-escapingâ€ are not needed.</p><h1 id="å‡½æ•°ï¼ˆFunctionsï¼‰"><a href="#å‡½æ•°ï¼ˆFunctionsï¼‰" class="headerlink" title="å‡½æ•°ï¼ˆFunctionsï¼‰"></a>å‡½æ•°ï¼ˆFunctionsï¼‰</h1><p>Less å†…ç½®äº†å¤šç§å‡½æ•°ç”¨äºè½¬æ¢é¢œè‰²ã€å¤„ç†å­—ç¬¦ä¸²ã€ç®—æœ¯è¿ç®—ç­‰ã€‚è¿™äº›å‡½æ•°åœ¨<a href="https://less.bootcss.com/functions/">å‡½æ•°æ‰‹å†Œ</a>ä¸­æœ‰è¯¦ç»†ä»‹ç»ã€‚</p><p>å‡½æ•°çš„ç”¨æ³•éå¸¸ç®€å•ã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­å°†ä»‹ç»å¦‚ä½•åˆ©ç”¨ percentage å‡½æ•°å°† 0.5 è½¬æ¢ä¸º 50%ï¼Œå°†é¢œè‰²é¥±å’Œåº¦å¢åŠ  5%ï¼Œä»¥åŠé¢œè‰²äº®åº¦é™ä½ 25% å¹¶ä¸”è‰²ç›¸å€¼å¢åŠ  8 ç­‰ç”¨æ³•ï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@base:</span> <span class="number">#f04615</span>;</span><br><span class="line"><span class="variable">@width:</span> <span class="number">0.5</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">percentage</span>(<span class="variable">@width</span>); <span class="comment">// returns `50%`</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">saturate</span>(<span class="variable">@base</span>, <span class="number">5%</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">spin</span>(<span class="built_in">lighten</span>(<span class="variable">@base</span>, <span class="number">25%</span>), <span class="number">8</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å‚è§ï¼šå‡½æ•°æ‰‹å†Œ</strong></p><h1 id="Namespaces-and-Accessors"><a href="#Namespaces-and-Accessors" class="headerlink" title="Namespaces and Accessors"></a>Namespaces and Accessors</h1><p>(Not to be confused with <a href="http://www.w3.org/TR/css3-namespace/">CSS <code>@namespace</code></a> or <a href="http://www.w3.org/TR/css3-selectors/#typenmsp">namespace selectors</a>).</p><p>Sometimes, you may want to group your mixins, for organizational purposes, or just to offer some encapsulation. You can do this pretty intuitively in Less. Say you want to bundle some mixins and variables under <code>#bundle</code>, for later reuse or distributing:</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#bundle</span>() &#123;</span><br><span class="line">  <span class="selector-class">.button</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">    <span class="attribute">background-color</span>: grey;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">background-color</span>: white;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.tab</span> &#123; ... &#125;</span><br><span class="line">  <span class="selector-class">.citation</span> &#123; ... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Now if we want to mixin the <code>.button</code> class in our <code>#header a</code>, we can do:</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#header</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">  <span class="selector-id">#bundle</span><span class="selector-class">.button</span>();  <span class="comment">// can also be written as #bundle &gt; .button</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Note: append <code>()</code> to your namespace (e.g. <code>#bundle()</code>) if you donâ€™t want it to appear in your CSS output i.e. <code>#bundle .tab</code>.</p><h1 id="Maps"><a href="#Maps" class="headerlink" title="Maps"></a>Maps</h1><p>As of Less 3.5, you can also use mixins and rulesets as maps of values.</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#colors</span>() &#123;</span><br><span class="line">  primary: blue;</span><br><span class="line">  secondary: green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.button</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: #colors[primary];</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid #colors[secondary];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This outputs, as expected:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.button</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>See also: Maps</strong></p><h1 id="ä½œç”¨åŸŸï¼ˆScopeï¼‰"><a href="#ä½œç”¨åŸŸï¼ˆScopeï¼‰" class="headerlink" title="ä½œç”¨åŸŸï¼ˆScopeï¼‰"></a>ä½œç”¨åŸŸï¼ˆScopeï¼‰</h1><p>Scope in Less is very similar to that of CSS. Variables and mixins are first looked for locally, and if they arenâ€™t found, itâ€™s inherited from the â€œparentâ€ scope.</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@var:</span> red;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#page</span> &#123;</span><br><span class="line">  <span class="variable">@var:</span> white;</span><br><span class="line">  <span class="selector-id">#header</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">@var</span>; <span class="comment">// white</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Like CSS custom properties, mixin and variable definitions do not have to be placed before a line where they are referenced. So the following Less code is identical to the previous example:</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@var:</span> red;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#page</span> &#123;</span><br><span class="line">  <span class="selector-id">#header</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">@var</span>; <span class="comment">// white</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable">@var:</span> white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å‚è§ï¼šæ‡’åŠ è½½</strong></p><h1 id="æ³¨é‡Šï¼ˆCommentsï¼‰"><a href="#æ³¨é‡Šï¼ˆCommentsï¼‰" class="headerlink" title="æ³¨é‡Šï¼ˆCommentsï¼‰"></a>æ³¨é‡Šï¼ˆCommentsï¼‰</h1><p>å—æ³¨é‡Šå’Œè¡Œæ³¨é‡Šéƒ½å¯ä»¥ä½¿ç”¨ï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä¸€ä¸ªå—æ³¨é‡Š</span></span><br><span class="line"><span class="comment"> * style comment! */</span></span><br><span class="line"><span class="variable">@var:</span> red;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ä¸€è¡Œè¢«æ³¨é‡Šæ‰äº†ï¼</span></span><br><span class="line"><span class="variable">@var:</span> white;</span><br></pre></td></tr></table></figure><h1 id="å¯¼å…¥ï¼ˆImportingï¼‰"><a href="#å¯¼å…¥ï¼ˆImportingï¼‰" class="headerlink" title="å¯¼å…¥ï¼ˆImportingï¼‰"></a>å¯¼å…¥ï¼ˆImportingï¼‰</h1><p>â€œå¯¼å…¥â€çš„å·¥ä½œæ–¹å¼å’Œä½ é¢„æœŸçš„ä¸€æ ·ã€‚ä½ å¯ä»¥å¯¼å…¥ä¸€ä¸ª <code>.less</code> æ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶ä¸­çš„æ‰€æœ‰å˜é‡å°±å¯ä»¥å…¨éƒ¨ä½¿ç”¨äº†ã€‚å¦‚æœå¯¼å…¥çš„æ–‡ä»¶æ˜¯ <code>.less</code> æ‰©å±•åï¼Œåˆ™å¯ä»¥å°†æ‰©å±•åçœç•¥æ‰ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&quot;library&quot;</span>; // library<span class="selector-class">.less</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">&quot;typo.css&quot;</span>;</span><br></pre></td></tr></table></figure><p><strong>äº†è§£æ›´å¤šå…³äºå¯¼å…¥(Importing)çš„çŸ¥è¯†</strong></p>]]></content>
    
    
    <summary type="html">æœ€è¿‘lessæ°´å¹³åˆæœ‰æé«˜äº†ï¼Œæä¸€æ</summary>
    
    
    
    <category term="å‰ç«¯" scheme="https://lovelee.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="less" scheme="https://lovelee.cn/tags/less/"/>
    
  </entry>
  
  <entry>
    <title>Hexo+butterflyæ­å»ºåšå®¢éšæ‰‹è®°</title>
    <link href="https://lovelee.cn/2022/08/29/hexo-buttfly-note/"/>
    <id>https://lovelee.cn/2022/08/29/hexo-buttfly-note/</id>
    <published>2022-08-29T12:53:09.161Z</published>
    <updated>2022-08-27T12:13:34.632Z</updated>
    
    <content type="html"><![CDATA[<div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>08-27</p></div></div><div class='timeline-item-content'><p>ç”±äºæ˜¨å¤© 08-26 <mark class="hl-label blue">vercel</mark>  IPè¢«å›½å†…å¢™æ‰ï¼Œç»™å‡ºè§£é‡Šæ˜¯å¤§é™†åœ°åŒºDNSå—åˆ°æ±¡æŸ“ï¼Œäºæ˜¯æˆ‘åˆšå­¦ä¼šçš„vercelæ‰˜ç®¡å°±æ— æ³•è®¿é—®äº†ï¼Œç›´æ¥GGğŸ™ã€‚é€€è€Œæ±‚å…¶æ¬¡çš„æƒ³ç€è¿˜å¥½æœ‰github.ioå¤‡ç”¨ï¼Œè™½ç„¶é€Ÿåº¦æ²¡æœ‰vercelå¿«,ä½†å¥½åœ¨gitä¸€é”®å¯¼å…¥ä¹Ÿè¿˜èˆ’æœã€‚<br>å¿ä¸€æ—¶é£å¹³æµªé™ï¼Œé€€ä¸€æ­¥è¶Šæƒ³è¶Šæ°”ã€‚äºæ˜¯æˆ‘å°è¯•ç¾¤é‡Œå¤§ä½¬ä»¬çš„æ–¹æ³•ï¼Œ<mark class="hl-label purple">vercel-domain</mark> ,åæ­£æˆ‘ä¹Ÿæ˜¯æƒ³æåŸŸååŠ æœåŠ¡å™¨äº†ï¼Œäºæ˜¯ä¹°äº†åŸŸåï¼Œé¡ºåŠ¿å­¦ä¼šäº†é…ç½®äºŒçº§åŸŸåï¼Œé¡ºä¾¿æŠŠ <mark class="hl-label pink">twikoo</mark> ä¹Ÿç»™domainå›æ¥äº†ã€‚é¼“æŒï¼ğŸ§</p></div></div></div>]]></content>
    
    
    <summary type="html">æƒ³åˆ°ä»€ä¹ˆå°±å†™ä»€ä¹ˆï¼Œå¤§å¤šæ˜¯è¿‡ç¨‹ä¸­çš„æ€è€ƒå’Œç»éªŒï¼ˆä¸æ˜¯æ•™ç¨‹ï¼‰</summary>
    
    
    
    
    <category term="note" scheme="https://lovelee.cn/tags/note/"/>
    
    <category term="hexo" scheme="https://lovelee.cn/tags/hexo/"/>
    
    <category term="butterfly" scheme="https://lovelee.cn/tags/butterfly/"/>
    
    <category term="vercel" scheme="https://lovelee.cn/tags/vercel/"/>
    
  </entry>
  
  <entry>
    <title>gitä½¿ç”¨ï¼ˆç‰ˆæœ¬1ï¼‰</title>
    <link href="https://lovelee.cn/2022/08/29/git1/"/>
    <id>https://lovelee.cn/2022/08/29/git1/</id>
    <published>2022-08-29T12:53:09.157Z</published>
    <updated>2022-08-27T12:34:53.938Z</updated>
    
    <content type="html"><![CDATA[<h1 id="gitåŸºç¡€"><a href="#gitåŸºç¡€" class="headerlink" title="gitåŸºç¡€"></a>gitåŸºç¡€</h1><p>Gitæ˜¯ä¸€æ¬¾å…è´¹ã€å¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºæ•æ·é«˜æ•ˆåœ°å¤„ç†ä»»ä½•æˆ–å°æˆ–å¤§çš„é¡¹ç›®.<br>Git æ˜¯ Linus Torvalds ä¸ºäº†å¸®åŠ©ç®¡ç† Linux å†…æ ¸å¼€å‘è€Œå¼€å‘çš„ä¸€ä¸ªå¼€æ”¾æºç çš„ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ã€‚<br>Git æ˜¯ä¸€ä¸ªå¿«é€Ÿã€å¯æ‰©å±•çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå®ƒå…·æœ‰æä¸ºä¸°å¯Œçš„å‘½ä»¤é›†ï¼Œæ­¤æ–‡ä¸»è¦ä»‹ç»gitçš„ä½¿ç”¨,äº†è§£gitçš„ä¸‰ä¸ªåŒº,é€šè¿‡gitè¿æ¥github,ä»¥åŠå¸¸ç”¨gitçš„å¸¸ç”¨å‘½ä»¤.<br><a href="https://zhufengzhufeng.github.io/img/git.png"><img src="https://zhufengzhufeng.github.io/img/git.png" alt="img"></a></p><h2 id="gitçš„ä½¿ç”¨"><a href="#gitçš„ä½¿ç”¨" class="headerlink" title="gitçš„ä½¿ç”¨"></a>gitçš„ä½¿ç”¨</h2><h2 id="1-ç‰ˆæœ¬æ§åˆ¶"><a href="#1-ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="1.ç‰ˆæœ¬æ§åˆ¶"></a>1.ç‰ˆæœ¬æ§åˆ¶</h2><h3 id="1-1-å¤‡ä»½æ–‡ä»¶"><a href="#1-1-å¤‡ä»½æ–‡ä»¶" class="headerlink" title="1.1 å¤‡ä»½æ–‡ä»¶"></a>1.1 å¤‡ä»½æ–‡ä»¶</h3><ul><li>ç±»ä¼¼äºç½‘ç›˜å¤‡ä»½</li><li>æˆ‘ä»¬çš„ä»£ç ä¹Ÿéœ€è¦å¤‡ä»½ã€‚ä¿®æ”¹å®Œäº†ä»¥åæäº¤ç»™ç‰ˆæœ¬åº“è¿›è¡Œä¿ç®¡ï¼Œå“ªä¸€å¤©ä»£ç æ²¡äº†ä¹Ÿå¯ä»¥æ‰¾å›æ¥ã€‚</li></ul><h3 id="1-2-è®°å½•å†å²"><a href="#1-2-è®°å½•å†å²" class="headerlink" title="1.2 è®°å½•å†å²"></a>1.2 è®°å½•å†å²</h3><ul><li>æ¯”å¦‚æˆ‘ä»¬æ‰“æ¸¸æˆå°±è¦<code>å­˜æ¡£</code>ï¼Œä¸‡ä¸€æŒ‚äº†è¿˜å¯ä»¥ä»ä¸Šä¸ªå­˜æ¡£çš„åœ°æ–¹é‡ç©ã€‚</li><li>å’Œç½‘ç›˜ä¸åŒï¼Œç½‘ç›˜ä¿ç•™çš„æ˜¯æœ€æ–°çš„çŠ¶æ€ï¼Œ<code>å†å²çš„è®°å½•</code>éƒ½æ²¡æœ‰äº†ï¼Œä¿®æ”¹çš„è®°å½•ä¹Ÿéƒ½æ‰¾ä¸å›æ¥äº†</li><li>ç½‘ç›˜æ— æ³•çŸ¥é“æ–‡ä»¶é‡Œçš„æŸè¡Œ<code>ä»£ç </code>æ˜¯ä½•äººåœ¨å“ªä¸ªæ—¶é—´æ·»åŠ è¿›å»çš„</li></ul><h3 id="1-3-å›åˆ°è¿‡å»"><a href="#1-3-å›åˆ°è¿‡å»" class="headerlink" title="1.3 å›åˆ°è¿‡å»"></a>1.3 å›åˆ°è¿‡å»</h3><ul><li>å¦‚æœæˆ‘æœ‰ä¸€å¤©ä¸å°å¿ƒåˆ é™¤äº†æŸä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å†å²å¤‡ä»½æ‰¾å›æ¥</li></ul><h3 id="1-4-å¤šç«¯å…±äº«"><a href="#1-4-å¤šç«¯å…±äº«" class="headerlink" title="1.4 å¤šç«¯å…±äº«"></a>1.4 å¤šç«¯å…±äº«</h3><ul><li>Gitä»“åº“å¯ä»¥é€šè¿‡PCç«¯ã€Androidã€IOS<code>ç§»åŠ¨ç«¯</code>ç­‰å„ä¸ªç»ˆç«¯è®¿é—®</li><li>å¯ä»¥<code>éšæ—¶éšåœ°</code>ä¿®æ”¹ä»£ç ,å…¬å¸æ²¡å¹²å®Œçš„å·¥ä½œå›å®¶æ¥ç€å¹²</li></ul><h3 id="1-5-å›¢é˜Ÿåä½œ"><a href="#1-5-å›¢é˜Ÿåä½œ" class="headerlink" title="1.5 å›¢é˜Ÿåä½œ"></a>1.5 å›¢é˜Ÿåä½œ</h3><ul><li>å¤šä¸ªäººæˆ–å›¢é˜Ÿ<code>åˆä½œ</code>ç¼–å†™ä¸€ä¸ªé¡¹ç›®</li><li>åˆå¹¶ä»£ç å¤„ç†<code>å†²çª</code></li></ul><h2 id="2-ä»€ä¹ˆæ˜¯git"><a href="#2-ä»€ä¹ˆæ˜¯git" class="headerlink" title="2.ä»€ä¹ˆæ˜¯git"></a>2.ä»€ä¹ˆæ˜¯git</h2><ul><li>ä¸ºäº†å‘Šåˆ«æ‰‹åŠ¨æ–¹å¼ç®¡ç†Linuxä»£ç ,å¹¶ä¸”ç¬¦åˆå¼€æºå’Œå…è´¹,LinusèŠ±äº†<code>ä¸¤å‘¨æ—¶é—´</code>è‡ªå·±ç”¨ C å†™äº†ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œè¿™å°±æ˜¯Git</li><li>Gitè¿…é€Ÿæˆä¸ºæœ€æµè¡Œçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå°¤å…¶æ˜¯ 2008 å¹´ GitHub ç½‘ç«™ä¸Šçº¿äº†ï¼Œå®ƒä¸ºå¼€æºé¡¹ç›® å…è´¹æä¾›Gitå­˜å‚¨ ï¼Œæ— æ•°å¼€æºé¡¹ç›®å¼€å§‹è¿ç§»è‡³GitHubï¼ŒåŒ…æ‹¬jQueryï¼ŒPHPï¼ŒRubyç­‰ç­‰ã€‚</li></ul><h2 id="3-gitçš„å®‰è£…"><a href="#3-gitçš„å®‰è£…" class="headerlink" title="3.gitçš„å®‰è£…"></a>3.gitçš„å®‰è£…</h2><h3 id="3-1-windowsä¸‹å®‰è£…"><a href="#3-1-windowsä¸‹å®‰è£…" class="headerlink" title="3.1 windowsä¸‹å®‰è£…"></a>3.1 windowsä¸‹å®‰è£…</h3><p>ä¸‹è½½åœ°å€ <a href="http://git-scm.com/">http://git-scm.com</a></p><p><a href="https://zhufengzhufeng.github.io/img/git/windowdownloadgit.jpg"><img src="https://zhufengzhufeng.github.io/img/git/windowdownloadgit.jpg" alt="img"></a><br><a href="https://zhufengzhufeng.github.io/img/git/gitinstall.jpg"><img src="https://zhufengzhufeng.github.io/img/git/gitinstall.jpg" alt="img"></a><br><a href="https://zhufengzhufeng.github.io/img/git/gitstype.jpg"><img src="https://zhufengzhufeng.github.io/img/git/gitstype.jpg" alt="img"></a></p><h3 id="3-2-macä¸‹å®‰è£…"><a href="#3-2-macä¸‹å®‰è£…" class="headerlink" title="3.2 macä¸‹å®‰è£…"></a>3.2 macä¸‹å®‰è£…</h3><p>ä¸‹è½½Homebrew<a href="http://brew.sh/">http://brew.sh</a></p><p><a href="https://zhufengzhufeng.github.io/img/git/macinstallhomebrew.jpg"><img src="https://zhufengzhufeng.github.io/img/git/macinstallhomebrew.jpg" alt="img"></a></p><ul><li>æ‹·è´å¯¹åº”è„šæœ¬åˆ°ç»ˆç«¯ä¸‹å®‰è£…HomeBrew</li><li>ç„¶ååœ¨ç»ˆç«¯æ‰§è¡Œ brew install gitå‘½ä»¤å®‰è£…*git</li></ul><blockquote><p>å®‰è£…xcodeä¼šé»˜è®¤ä¸‹è½½git</p></blockquote><h2 id="4-é…ç½®gitç”¨æˆ·å’Œé‚®ç®±"><a href="#4-é…ç½®gitç”¨æˆ·å’Œé‚®ç®±" class="headerlink" title="4. é…ç½®gitç”¨æˆ·å’Œé‚®ç®±"></a>4. é…ç½®gitç”¨æˆ·å’Œé‚®ç®±</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;ä½ çš„githubç”¨æˆ·å&quot;    </span><br><span class="line">$ git config --global user.email &quot;ä½ çš„githubé‚®ç®±&quot;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸é…ç½®ç”¨æˆ·åå’Œé‚®ç®±çš„è¯æ— æ³•æäº¤,å› ä¸ºgitä¸çŸ¥é“ä½ æ˜¯è°</p></blockquote><p>æŸ¥çœ‹é…ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name </span><br><span class="line">$ git config --global user.email </span><br><span class="line">$ git config --list</span><br></pre></td></tr></table></figure><h2 id="5-åˆå§‹åŒ–git"><a href="#5-åˆå§‹åŒ–git" class="headerlink" title="5.åˆå§‹åŒ–git"></a>5.åˆå§‹åŒ–git</h2><ul><li>å…ˆåˆ›å»ºä¸€ä¸ªç©ºç›®å½• ï¼Œç„¶åè¿›å…¥æ­¤ç›®å½•</li><li>ç‚¹å‡»å³é”®é€‰æ‹©Git-Bashæ‰“å¼€å‘½ä»¤è¡Œ</li><li>è¾“å…¥git initå‘½ä»¤æŠŠè¿™ä¸ªç›®å½•å˜æˆGitå¯ä»¥ç®¡ç†çš„ä»“åº“</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git init</span><br></pre></td></tr></table></figure><blockquote><p>é€šè¿‡ls -alå‘½ä»¤æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶</p></blockquote><h2 id="6-gitä¸­çš„ä¸‰ä¸ªåŒº"><a href="#6-gitä¸­çš„ä¸‰ä¸ªåŒº" class="headerlink" title="6.gitä¸­çš„ä¸‰ä¸ªåŒº"></a>6.gitä¸­çš„ä¸‰ä¸ªåŒº</h2><p>å·¥ä½œæµ<br><a href="http://card.mugeda.com/campaigns/56d2c4a0a3664e3308000407/20160304090522/56d97729a3664e9c65000047/index.html">http://card.mugeda.com/campaigns/56d2c4a0a3664e3308000407/20160304090522/56d97729a3664e9c65000047/index.html</a></p><ul><li><p>å·¥ä½œåŒº</p><p>é€šè¿‡git add æ·»åŠ åˆ°æš‚å­˜åŒº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add &#x27;æ–‡ä»¶å&#x27;</span><br></pre></td></tr></table></figure></li><li><p>æš‚å­˜åŒº<br>ç‰¹ç‚¹:<code>è¿‡æ¸¡</code>çš„ä½œç”¨ï¼Œé¿å…<code>è¯¯æ“ä½œ</code>ï¼Œ<code>ä¿æŠ¤</code>å·¥ä½œåŒºå’Œå†å²åŒºï¼Œåˆ†æ”¯å¤„ç†;</p><p>é€šè¿‡git commit æ·»åŠ åˆ°å†å²åŒº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m&quot;æ³¨é‡Šå†…å®¹&quot;</span><br></pre></td></tr></table></figure></li><li><p>å†å²åŒº</p><p>æŸ¥çœ‹å†å²çŠ¶æ€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>ä¿®æ”¹æ—¶é€šè¿‡git statusæŸ¥çœ‹å½“å‰çŠ¶æ€</p></blockquote><h2 id="7-git-diff"><a href="#7-git-diff" class="headerlink" title="7.git diff"></a>7.git diff</h2><p>ä¸åŒåŒºçš„ä»£ç æ¯”è¾ƒ</p><h3 id="7-1-å·¥ä½œåŒºå’Œæš‚å­˜åŒº"><a href="#7-1-å·¥ä½œåŒºå’Œæš‚å­˜åŒº" class="headerlink" title="7.1 å·¥ä½œåŒºå’Œæš‚å­˜åŒº"></a>7.1 å·¥ä½œåŒºå’Œæš‚å­˜åŒº</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff</span><br></pre></td></tr></table></figure><h3 id="7-2-æš‚å­˜åŒºå’Œå†å²åŒº"><a href="#7-2-æš‚å­˜åŒºå’Œå†å²åŒº" class="headerlink" title="7.2 æš‚å­˜åŒºå’Œå†å²åŒº"></a>7.2 æš‚å­˜åŒºå’Œå†å²åŒº</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff --cachedï¼ˆ--stagedï¼‰</span><br></pre></td></tr></table></figure><h3 id="7-3-å·¥ä½œåŒºå’Œç‰ˆæœ¬åº“"><a href="#7-3-å·¥ä½œåŒºå’Œç‰ˆæœ¬åº“" class="headerlink" title="7.3 å·¥ä½œåŒºå’Œç‰ˆæœ¬åº“"></a>7.3 å·¥ä½œåŒºå’Œç‰ˆæœ¬åº“</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff master</span><br></pre></td></tr></table></figure><h2 id="8-æ’¤é”€"><a href="#8-æ’¤é”€" class="headerlink" title="8. æ’¤é”€"></a>8. æ’¤é”€</h2><h3 id="8-1-æ’¤é”€å›git-addçš„å†…å®¹"><a href="#8-1-æ’¤é”€å›git-addçš„å†…å®¹" class="headerlink" title="8.1 æ’¤é”€å›git addçš„å†…å®¹"></a>8.1 æ’¤é”€å›git addçš„å†…å®¹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset Head &quot;æ–‡ä»¶å&quot;</span><br></pre></td></tr></table></figure><h3 id="8-2-æ’¤å›æ–‡ä»¶"><a href="#8-2-æ’¤å›æ–‡ä»¶" class="headerlink" title="8.2 æ’¤å›æ–‡ä»¶"></a>8.2 æ’¤å›æ–‡ä»¶</h3><ul><li><p>å…ˆä»ç¼“å­˜åŒºæ’¤é”€,ç¼“å­˜åŒºæ— å†…å®¹ï¼Œä»å†å²åŒºåŸŸæ’¤é”€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout &quot;æ–‡ä»¶å&quot;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>æœ‰çš„æ—¶å€™æˆ‘ä»¬å¸Œæœ›æäº¤æ—¶åˆå¹¶åˆ°ä¸Šä¸€æ¬¡çš„æäº¤ git commit â€“amend</p></blockquote><h2 id="9-åˆ é™¤"><a href="#9-åˆ é™¤" class="headerlink" title="9.åˆ é™¤"></a>9.åˆ é™¤</h2><h3 id="9-1-åˆ é™¤æš‚å­˜åŒºå’Œå·¥ä½œåŒº"><a href="#9-1-åˆ é™¤æš‚å­˜åŒºå’Œå·¥ä½œåŒº" class="headerlink" title="9.1 åˆ é™¤æš‚å­˜åŒºå’Œå·¥ä½œåŒº"></a>9.1 åˆ é™¤æš‚å­˜åŒºå’Œå·¥ä½œåŒº</h3><p>åˆ é™¤æš‚å­˜åŒºä¸­çš„å†…å®¹,å¹¶ä¸”ä¿è¯å·¥ä½œåŒºä¸­çš„å†…å®¹å·²ç»ä¸å­˜åœ¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rm &quot;æ–‡ä»¶å&quot;</span><br></pre></td></tr></table></figure><blockquote><p>è‹¥æœ¬åœ°æ–‡ä»¶å­˜åœ¨åˆ™ä¸èƒ½åˆ é™¤ï¼Œéœ€è¦é€šè¿‡-få‚æ•°åˆ é™¤</p></blockquote><h3 id="9-2-ä»…åˆ é™¤ç¼“å­˜åŒº"><a href="#9-2-ä»…åˆ é™¤ç¼“å­˜åŒº" class="headerlink" title="9.2 ä»…åˆ é™¤ç¼“å­˜åŒº"></a>9.2 ä»…åˆ é™¤ç¼“å­˜åŒº</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rm --cached &quot;æ–‡ä»¶å&quot;</span><br></pre></td></tr></table></figure><h2 id="10-æ¢å¤"><a href="#10-æ¢å¤" class="headerlink" title="10. æ¢å¤"></a>10. æ¢å¤</h2><h3 id="10-1-æ¢å¤æŸä¸ªç‰ˆæœ¬æ–‡ä»¶"><a href="#10-1-æ¢å¤æŸä¸ªç‰ˆæœ¬æ–‡ä»¶" class="headerlink" title="10.1 æ¢å¤æŸä¸ªç‰ˆæœ¬æ–‡ä»¶"></a>10.1 æ¢å¤æŸä¸ªç‰ˆæœ¬æ–‡ä»¶</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout commit_id filename æŸä¸ªæ–‡ä»¶</span><br></pre></td></tr></table></figure><h3 id="10-2-é€šè¿‡ç‰ˆæœ¬idæ¢å¤"><a href="#10-2-é€šè¿‡ç‰ˆæœ¬idæ¢å¤" class="headerlink" title="10.2 é€šè¿‡ç‰ˆæœ¬idæ¢å¤"></a>10.2 é€šè¿‡ç‰ˆæœ¬idæ¢å¤</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard commit_id</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="10-3-æ¢å¤æœªæ¥"><a href="#10-3-æ¢å¤æœªæ¥" class="headerlink" title="10.3 æ¢å¤æœªæ¥"></a>10.3 æ¢å¤æœªæ¥</h3><p>æŸ¥çœ‹å½“æ—¶å›æ»šæ—¶çš„ç‰ˆæœ¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git reflog</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="10-4-å¿«é€Ÿç‰ˆæœ¬å›é€€"><a href="#10-4-å¿«é€Ÿç‰ˆæœ¬å›é€€" class="headerlink" title="10.4 å¿«é€Ÿç‰ˆæœ¬å›é€€"></a>10.4 å¿«é€Ÿç‰ˆæœ¬å›é€€</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard HEAD^</span><br><span class="line">$ git reset --hard HEAD~3</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="11-åŒæ­¥è¿œç¨‹ä»“åº“"><a href="#11-åŒæ­¥è¿œç¨‹ä»“åº“" class="headerlink" title="11. åŒæ­¥è¿œç¨‹ä»“åº“"></a>11. åŒæ­¥è¿œç¨‹ä»“åº“</h2><h3 id="11-1-gitHub"><a href="#11-1-gitHub" class="headerlink" title="11.1 gitHub"></a>11.1 gitHub</h3><ul><li>æ³¨å†Œè´¦å·</li><li>æ–°å»ºé¡¹ç›®</li></ul><h3 id="11-2-æ·»åŠ è¿œç¨‹ä»“åº“"><a href="#11-2-æ·»åŠ è¿œç¨‹ä»“åº“" class="headerlink" title="11.2 æ·»åŠ è¿œç¨‹ä»“åº“"></a>11.2 æ·»åŠ è¿œç¨‹ä»“åº“</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add origin &quot;åœ°å€&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="11-3-æ·»åŠ å¿½ç•¥æ–‡ä»¶"><a href="#11-3-æ·»åŠ å¿½ç•¥æ–‡ä»¶" class="headerlink" title="11.3 æ·»åŠ å¿½ç•¥æ–‡ä»¶"></a>11.3 æ·»åŠ å¿½ç•¥æ–‡ä»¶</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ touch .gitignore</span><br><span class="line">$ echo .DS_Store</span><br><span class="line">$ echo node_modules</span><br><span class="line">$ echo .idea</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="11-4-æ¨é€ä»£ç "><a href="#11-4-æ¨é€ä»£ç " class="headerlink" title="11.4 æ¨é€ä»£ç "></a>11.4 æ¨é€ä»£ç </h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin master</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="11-5-æŸ¥çœ‹"><a href="#11-5-æŸ¥çœ‹" class="headerlink" title="11.5 æŸ¥çœ‹"></a>11.5 æŸ¥çœ‹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git remote æŸ¥çœ‹åå­—</span><br><span class="line">$ git remote -v æŸ¥çœ‹åœ°å€</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="12-ä»£ç çš„åˆå¹¶"><a href="#12-ä»£ç çš„åˆå¹¶" class="headerlink" title="12.ä»£ç çš„åˆå¹¶"></a>12.ä»£ç çš„åˆå¹¶</h2><h3 id="12-1-git-fetch"><a href="#12-1-git-fetch" class="headerlink" title="12.1 git fetch"></a>12.1 git fetch</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ‹‰å–è¿‡æ¥æ‰‹åŠ¨åˆå¹¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git diff master origin/master</span><br><span class="line">$ git merge origin/master</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="12-2-git-pull"><a href="#12-2-git-pull" class="headerlink" title="12.2 git pull"></a>12.2 git pull</h3><p>æ‹‰å–å¹¶åˆå¹¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="13-ä¾‹ï¼šä½œä¸šæäº¤æµç¨‹"><a href="#13-ä¾‹ï¼šä½œä¸šæäº¤æµç¨‹" class="headerlink" title="13. ä¾‹ï¼šä½œä¸šæäº¤æµç¨‹"></a>13. ä¾‹ï¼šä½œä¸šæäº¤æµç¨‹</h3><h3 id="13-1-ç¬¬ä¸€æ¬¡äº¤ä½œä¸šæµç¨‹-ç»„é•¿"><a href="#13-1-ç¬¬ä¸€æ¬¡äº¤ä½œä¸šæµç¨‹-ç»„é•¿" class="headerlink" title="13.1 ç¬¬ä¸€æ¬¡äº¤ä½œä¸šæµç¨‹(ç»„é•¿)"></a>13.1 ç¬¬ä¸€æ¬¡äº¤ä½œä¸šæµç¨‹(ç»„é•¿)</h3><ul><li><code>fork</code>ç å³°åŸ¹è®­è®²å¸ˆçš„ä½œä¸šä»“åº“</li><li>æŠŠè‡ªå·±çš„ä»“åº“<code>ä¸‹è½½</code>åˆ°æœ¬åœ°</li><li>æŠŠè‡ªå·±çš„ä½œä¸š <code>ä¸Šä¼ </code>åˆ°è‡ªå·±çš„githubä»“åº“</li><li>å‘<code>pull request</code>ç»™è®²å¸ˆ</li><li>æ·»åŠ ç»„å‘˜è´¦å·</li></ul><h3 id="13-2-ç¬¬äºŒæ¬¡äº¤ä½œä¸šæµç¨‹-ç»„å‘˜"><a href="#13-2-ç¬¬äºŒæ¬¡äº¤ä½œä¸šæµç¨‹-ç»„å‘˜" class="headerlink" title="13.2 ç¬¬äºŒæ¬¡äº¤ä½œä¸šæµç¨‹(ç»„å‘˜)"></a>13.2 ç¬¬äºŒæ¬¡äº¤ä½œä¸šæµç¨‹(ç»„å‘˜)</h3><ul><li>å…‹éš†ç»„é•¿é¡¹ç›®</li><li>å…ˆ<code>æ‹‰å–</code>ç»„é•¿ä»“åº“æœ€æ–°ä»£ç </li><li>å°†è‡ªå·±çš„ä½œä¸šï¼ˆæ”¾å…¥å¯¹åº”çš„æ–‡ä»¶å¤¹ï¼‰</li><li>git add/git commit</li><li>å†pushå‰æ‹‰å–ç»„é•¿ä»“åº“æœ€æ–°ä»£ç </li><li>pushåˆ°ç»„é•¿ä»“åº“</li></ul><h3 id="13-3-ç¬¬äºŒæ¬¡äº¤ä½œä¸šæµç¨‹-ç»„é•¿"><a href="#13-3-ç¬¬äºŒæ¬¡äº¤ä½œä¸šæµç¨‹-ç»„é•¿" class="headerlink" title="13.3 ç¬¬äºŒæ¬¡äº¤ä½œä¸šæµç¨‹(ç»„é•¿)"></a>13.3 ç¬¬äºŒæ¬¡äº¤ä½œä¸šæµç¨‹(ç»„é•¿)</h3><ul><li>åœ¨æœ¬åœ°<code>å¢åŠ </code>è®²å¸ˆä»“åº“</li><li><code>æ‹‰å–</code>è‡ªå·±çš„æœ€æ–°ä»£ç </li><li><code>æ‹‰å–</code>è€å¸ˆçš„æœ€æ–°çš„ä»£ç ,å¦‚æœå†²çªéœ€è¦è§£å†³å†²çª</li><li>æŠŠè‡ªå·±çš„ä½œä¸š æ‹·è´è¿›å»(å¦‚æœç»„é•¿æ²¡æœ‰è¦æäº¤çš„ä¸œè¥¿å¯çœç•¥)</li><li>æŠŠè‡ªå·±çš„ä½œä¸šä¸Š<code>ä¼ åˆ°</code>è‡ªå·±çš„githubä»“åº“(å¦‚æœç»„é•¿æ²¡æœ‰è¦æäº¤çš„ä¸œè¥¿å¯çœç•¥)</li><li>å‘<code>pull request</code>ç»™è®²å¸ˆ</li></ul><hr><p>eixun.cn/course/31&gt;</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;gitåŸºç¡€&quot;&gt;&lt;a href=&quot;#gitåŸºç¡€&quot; class=&quot;headerlink&quot; title=&quot;gitåŸºç¡€&quot;&gt;&lt;/a&gt;gitåŸºç¡€&lt;/h1&gt;&lt;p&gt;Gitæ˜¯ä¸€æ¬¾å…è´¹ã€å¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºæ•æ·é«˜æ•ˆåœ°å¤„ç†ä»»ä½•æˆ–å°æˆ–å¤§çš„é¡¹ç›®.&lt;br&gt;Git æ˜¯ Linus T</summary>
      
    
    
    
    <category term="å‰ç«¯" scheme="https://lovelee.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="git" scheme="https://lovelee.cn/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>git+gitee</title>
    <link href="https://lovelee.cn/2022/08/29/git+gitee/"/>
    <id>https://lovelee.cn/2022/08/29/git+gitee/</id>
    <published>2022-08-29T12:53:09.154Z</published>
    <updated>2022-08-27T12:37:13.742Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä½¿ç”¨Git-ç äº‘-ï¼š"><a href="#ä½¿ç”¨Git-ç äº‘-ï¼š" class="headerlink" title="ä½¿ç”¨Git + ç äº‘ ï¼š"></a><strong>ä½¿ç”¨Git + ç äº‘ ï¼š</strong></h1><h2 id="1-ä½¿ç”¨Giteeå’Œä½¿ç”¨GitHubç±»ä¼¼ï¼Œæˆ‘ä»¬åœ¨Giteeä¸Šæ³¨å†Œè´¦å·å¹¶ç™»å½•åï¼Œéœ€è¦å…ˆä¸Šä¼ è‡ªå·±çš„SSHå…¬é’¥ã€‚é€‰æ‹©å³ä¸Šè§’ç”¨æˆ·å¤´åƒ-gt-èœå•â€œä¿®æ”¹èµ„æ–™â€ï¼Œç„¶åé€‰æ‹©â€œSSHå…¬é’¥â€ï¼Œå¡«å†™ä¸€ä¸ªä¾¿äºè¯†åˆ«çš„æ ‡é¢˜ï¼Œç„¶åæŠŠç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„-ssh-id-rsa-pub-æ–‡ä»¶çš„å†…å®¹ç²˜è´´è¿›å»ï¼š"><a href="#1-ä½¿ç”¨Giteeå’Œä½¿ç”¨GitHubç±»ä¼¼ï¼Œæˆ‘ä»¬åœ¨Giteeä¸Šæ³¨å†Œè´¦å·å¹¶ç™»å½•åï¼Œéœ€è¦å…ˆä¸Šä¼ è‡ªå·±çš„SSHå…¬é’¥ã€‚é€‰æ‹©å³ä¸Šè§’ç”¨æˆ·å¤´åƒ-gt-èœå•â€œä¿®æ”¹èµ„æ–™â€ï¼Œç„¶åé€‰æ‹©â€œSSHå…¬é’¥â€ï¼Œå¡«å†™ä¸€ä¸ªä¾¿äºè¯†åˆ«çš„æ ‡é¢˜ï¼Œç„¶åæŠŠç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„-ssh-id-rsa-pub-æ–‡ä»¶çš„å†…å®¹ç²˜è´´è¿›å»ï¼š" class="headerlink" title="1.ä½¿ç”¨Giteeå’Œä½¿ç”¨GitHubç±»ä¼¼ï¼Œæˆ‘ä»¬åœ¨Giteeä¸Šæ³¨å†Œè´¦å·å¹¶ç™»å½•åï¼Œéœ€è¦å…ˆä¸Šä¼ è‡ªå·±çš„SSHå…¬é’¥ã€‚é€‰æ‹©å³ä¸Šè§’ç”¨æˆ·å¤´åƒ -&gt; èœå•â€œä¿®æ”¹èµ„æ–™â€ï¼Œç„¶åé€‰æ‹©â€œSSHå…¬é’¥â€ï¼Œå¡«å†™ä¸€ä¸ªä¾¿äºè¯†åˆ«çš„æ ‡é¢˜ï¼Œç„¶åæŠŠç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„.ssh/id_rsa.pub****æ–‡ä»¶çš„å†…å®¹ç²˜è´´è¿›å»ï¼š"></a><strong>1.ä½¿ç”¨Giteeå’Œä½¿ç”¨GitHubç±»ä¼¼ï¼Œæˆ‘ä»¬åœ¨Giteeä¸Šæ³¨å†Œè´¦å·å¹¶ç™»å½•åï¼Œéœ€è¦å…ˆä¸Šä¼ è‡ªå·±çš„SSHå…¬é’¥ã€‚é€‰æ‹©å³ä¸Šè§’ç”¨æˆ·å¤´åƒ -&gt; èœå•â€œä¿®æ”¹èµ„æ–™â€ï¼Œç„¶åé€‰æ‹©â€œSSHå…¬é’¥â€ï¼Œå¡«å†™ä¸€ä¸ªä¾¿äºè¯†åˆ«çš„æ ‡é¢˜ï¼Œç„¶åæŠŠç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„</strong><strong>.ssh/id_rsa.pub****æ–‡ä»¶çš„å†…å®¹ç²˜è´´è¿›å»ï¼š</strong></h2><p>â€‹                  <img src="https://qqadapt.qpic.cn/txdocpic/0/457f43d33117c0a36dabc701ab458e72/0?w=640&h=502" alt="img">         </p><p>ç‚¹å‡»â€œç¡®å®šâ€å³å¯å®Œæˆå¹¶çœ‹åˆ°åˆšæ‰æ·»åŠ çš„Keyï¼š</p><p>â€‹                  <img src="https://qqadapt.qpic.cn/txdocpic/0/c4ca8f92aba156eb7ddfdc98f0b6ebcb/0?w=640&h=216" alt="img">         </p><p>å¦‚æœæˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªæœ¬åœ°çš„gitä»“åº“ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªåä¸ºlearngitçš„æœ¬åœ°åº“ï¼‰ï¼Œå¦‚ä½•æŠŠå®ƒå…³è”åˆ°Giteeçš„è¿œç¨‹åº“ä¸Šå‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨Giteeä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ï¼Œé€‰æ‹©å³ä¸Šè§’ç”¨æˆ·å¤´åƒ -&gt; èœå•â€œæ§åˆ¶é¢æ¿â€ï¼Œç„¶åç‚¹å‡»â€œåˆ›å»ºé¡¹ç›®â€ï¼š</p><p>â€‹                  <img src="https://qqadapt.qpic.cn/txdocpic/0/644923703b9ece4ff808e94f66b58e97/0?w=640&h=587" alt="img">         </p><p>é¡¹ç›®åç§°æœ€å¥½ä¸æœ¬åœ°åº“ä¿æŒä¸€è‡´ï¼š</p><p>ç„¶åï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°åº“ä¸Šä½¿ç”¨å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add</span><br></pre></td></tr></table></figure><p>æŠŠå®ƒå’ŒGiteeçš„è¿œç¨‹åº“å…³è”ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@gitee.com:liaoxuefeng/learngit.git</span><br></pre></td></tr></table></figure><p>ä¹‹åï¼Œå°±å¯ä»¥æ­£å¸¸åœ°ç”¨git pushå’Œgit pullæ¨é€äº†ï¼</p><p>å¦‚æœåœ¨ä½¿ç”¨å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add</span><br></pre></td></tr></table></figure><p>æ—¶æŠ¥é”™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@gitee.com:liaoxuefeng/learngit.git</span><br><span class="line">fatal: remote origin already exists.</span><br></pre></td></tr></table></figure><p>è¿™è¯´æ˜æœ¬åœ°åº“å·²ç»å…³è”äº†ä¸€ä¸ªåå«</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">origin</span><br></pre></td></tr></table></figure><p>çš„è¿œç¨‹åº“ï¼Œæ­¤æ—¶ï¼Œå¯ä»¥å…ˆç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br><span class="line">origingit@github.com:michaelliao/learngit.git (fetch)</span><br><span class="line">origingit@github.com:michaelliao/learngit.git (push)</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œæœ¬åœ°åº“å·²ç»å…³è”äº†originçš„è¿œç¨‹åº“ï¼Œå¹¶ä¸”ï¼Œè¯¥è¿œç¨‹åº“æŒ‡å‘GitHubã€‚</p><p>æˆ‘ä»¬å¯ä»¥åˆ é™¤å·²æœ‰çš„GitHubè¿œç¨‹åº“ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote rm origin</span><br></pre></td></tr></table></figure><p>å†å…³è”Giteeçš„è¿œç¨‹åº“ï¼ˆæ³¨æ„è·¯å¾„ä¸­éœ€è¦å¡«å†™æ­£ç¡®çš„ç”¨æˆ·åï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@gitee.com:liaoxuefeng/learngit.git</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å†æŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br><span class="line">origingit@gitee.com:liaoxuefeng/learngit.git (fetch)</span><br><span class="line">origingit@gitee.com:liaoxuefeng/learngit.git (push)</span><br></pre></td></tr></table></figure><p>ç°åœ¨å¯ä»¥çœ‹åˆ°ï¼Œoriginå·²ç»è¢«å…³è”åˆ°Giteeçš„è¿œç¨‹åº“äº†ã€‚é€šè¿‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push</span><br></pre></td></tr></table></figure><p>å‘½ä»¤å°±å¯ä»¥æŠŠæœ¬åœ°åº“æ¨é€åˆ°Giteeä¸Šã€‚</p><p>æœ‰çš„å°ä¼™ä¼´åˆè¦é—®äº†ï¼Œä¸€ä¸ªæœ¬åœ°åº“èƒ½ä¸èƒ½æ—¢å…³è”GitHubï¼Œåˆå…³è”Giteeå‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œå› ä¸ºgitæœ¬èº«æ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥åŒæ­¥åˆ°å¦å¤–ä¸€ä¸ªè¿œç¨‹åº“ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åŒæ­¥åˆ°å¦å¤–ä¸¤ä¸ªè¿œç¨‹åº“ã€‚</p><p>ä½¿ç”¨å¤šä¸ªè¿œç¨‹åº“æ—¶ï¼Œæˆ‘ä»¬è¦æ³¨æ„ï¼Œgitç»™è¿œç¨‹åº“èµ·çš„é»˜è®¤åç§°æ˜¯originï¼Œå¦‚æœæœ‰å¤šä¸ªè¿œç¨‹åº“ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ä¸åŒçš„åç§°æ¥æ ‡è¯†ä¸åŒçš„è¿œç¨‹åº“ã€‚</p><p>ä»ç„¶ä»¥learngitæœ¬åœ°åº“ä¸ºä¾‹ï¼Œæˆ‘ä»¬å…ˆåˆ é™¤å·²å…³è”çš„åä¸ºoriginçš„è¿œç¨‹åº“ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote rm origin</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œå…ˆå…³è”GitHubçš„è¿œç¨‹åº“ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add github git@github.com:michaelliao/learngit.git</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œè¿œç¨‹åº“çš„åç§°å«githubï¼Œä¸å«originäº†ã€‚</p><p>æ¥ç€ï¼Œå†å…³è”Giteeçš„è¿œç¨‹åº“ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add gitee git@gitee.com:liaoxuefeng/learngit.git</span><br></pre></td></tr></table></figure><p>åŒæ ·æ³¨æ„ï¼Œè¿œç¨‹åº“çš„åç§°å«giteeï¼Œä¸å«originã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬ç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°ä¸¤ä¸ªè¿œç¨‹åº“ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br><span class="line">giteegit@gitee.com:liaoxuefeng/learngit.git (fetch)</span><br><span class="line">giteegit@gitee.com:liaoxuefeng/learngit.git (push)</span><br><span class="line">githubgit@github.com:michaelliao/learngit.git (fetch)</span><br><span class="line">githubgit@github.com:michaelliao/learngit.git (push)</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦æ¨é€åˆ°GitHubï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push github master</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦æ¨é€åˆ°Giteeï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push gitee master</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬çš„æœ¬åœ°åº“å°±å¯ä»¥åŒæ—¶ä¸å¤šä¸ªè¿œç¨‹åº“äº’ç›¸åŒæ­¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚ GitHub  â”‚ â”‚  Gitee  â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line">     â–²           â–²</span><br><span class="line">     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜</span><br><span class="line">           â”‚</span><br><span class="line">    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">    â”‚ Local Repo  â”‚</span><br><span class="line">    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br></pre></td></tr></table></figure><h2 id="2-é‡å¤´æˆ"><a href="#2-é‡å¤´æˆ" class="headerlink" title="2.é‡å¤´æˆ"></a><strong>2.é‡å¤´æˆ</strong></h2><h3 id="æ’æ’­å‰§æƒ…ï¼šä½¿ç”¨gitè½¯ä»¶åˆ›å»ºå…³è”ï¼ˆçœæ—¶çœåŠ›ï¼Œä¸gitå‘½ä»¤é…åˆä½¿ç”¨æ•ˆæœæ›´ä½³ï¼‰"><a href="#æ’æ’­å‰§æƒ…ï¼šä½¿ç”¨gitè½¯ä»¶åˆ›å»ºå…³è”ï¼ˆçœæ—¶çœåŠ›ï¼Œä¸gitå‘½ä»¤é…åˆä½¿ç”¨æ•ˆæœæ›´ä½³ï¼‰" class="headerlink" title="æ’æ’­å‰§æƒ…ï¼šä½¿ç”¨gitè½¯ä»¶åˆ›å»ºå…³è”ï¼ˆçœæ—¶çœåŠ›ï¼Œä¸gitå‘½ä»¤é…åˆä½¿ç”¨æ•ˆæœæ›´ä½³ï¼‰"></a><strong>æ’æ’­å‰§æƒ…ï¼šä½¿ç”¨gitè½¯ä»¶åˆ›å»ºå…³è”ï¼ˆçœæ—¶çœåŠ›ï¼Œä¸gitå‘½ä»¤é…åˆä½¿ç”¨æ•ˆæœæ›´ä½³ï¼‰</strong></h3><p>â€‹                  <img src="https://qqadapt.qpic.cn/txdocpic/0/2963cbe2a2892415d4d7ae05ff6ce62f/0?w=509&h=412" alt="img">         </p><p>â€‹                  <img src="https://qqadapt.qpic.cn/txdocpic/0/adcc47ec10b1bbce78a222fb6251722a/0?w=702&h=295" alt="img">         </p><h4 id="æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼šåœ¨-D-WangQiang-Source-Repos-æ–‡ä»¶å¤¹ä¸‹ï¼Œä¸€å®š-ä¸èƒ½æœ‰-wqMV-è¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜è¦æŠŠåå­—è¾“å…¥ä¸Šï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºç›®å½•ï¼Œâ€äººæ€§åŒ–æ“ä½œâ€-å¦åˆ™ä¼šæŠ¥é”™ï¼Œç›®å½•å·²å­˜åœ¨ã€‚"><a href="#æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼šåœ¨-D-WangQiang-Source-Repos-æ–‡ä»¶å¤¹ä¸‹ï¼Œä¸€å®š-ä¸èƒ½æœ‰-wqMV-è¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜è¦æŠŠåå­—è¾“å…¥ä¸Šï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºç›®å½•ï¼Œâ€äººæ€§åŒ–æ“ä½œâ€-å¦åˆ™ä¼šæŠ¥é”™ï¼Œç›®å½•å·²å­˜åœ¨ã€‚" class="headerlink" title="æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼šåœ¨ D:/WangQiang/Source/Repos æ–‡ä»¶å¤¹ä¸‹ï¼Œä¸€å®š****ä¸èƒ½æœ‰ -  wqMV è¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜è¦æŠŠåå­—è¾“å…¥ä¸Šï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºç›®å½•ï¼Œâ€äººæ€§åŒ–æ“ä½œâ€,å¦åˆ™ä¼šæŠ¥é”™ï¼Œç›®å½•å·²å­˜åœ¨ã€‚"></a><strong>æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼šåœ¨ D:/WangQiang/Source/Repos æ–‡ä»¶å¤¹ä¸‹ï¼Œä¸€å®š****ä¸èƒ½æœ‰ -</strong>  <strong>wqMV</strong> <strong>è¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜è¦æŠŠåå­—è¾“å…¥ä¸Šï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºç›®å½•ï¼Œâ€äººæ€§åŒ–æ“ä½œâ€,å¦åˆ™ä¼šæŠ¥é”™ï¼Œç›®å½•å·²å­˜åœ¨ã€‚</strong></h4><h4 id="ç‚¹å‡»cloneï¼Œç­‰å¾…è¿›å…¥ç¨‹åºï¼Œå³å¯å®Œæˆåˆ›å»ºç›®å½•å¹¶å®Œæˆå…³è”"><a href="#ç‚¹å‡»cloneï¼Œç­‰å¾…è¿›å…¥ç¨‹åºï¼Œå³å¯å®Œæˆåˆ›å»ºç›®å½•å¹¶å®Œæˆå…³è”" class="headerlink" title="ç‚¹å‡»cloneï¼Œç­‰å¾…è¿›å…¥ç¨‹åºï¼Œå³å¯å®Œæˆåˆ›å»ºç›®å½•å¹¶å®Œæˆå…³è”"></a><strong>ç‚¹å‡»cloneï¼Œç­‰å¾…è¿›å…¥ç¨‹åºï¼Œå³å¯å®Œæˆåˆ›å»ºç›®å½•å¹¶å®Œæˆå…³è”</strong></h4><p><a href="https://blog.csdn.net/relyeditor/article/details/85627655">å‚è€ƒé“¾æ¥</a></p><h3 id="2-1-git-remote-v-æŸ¥çœ‹å½“å‰gitä»“åº“å…³è”çš„è¿œç¨‹åº“ä¿¡æ¯"><a href="#2-1-git-remote-v-æŸ¥çœ‹å½“å‰gitä»“åº“å…³è”çš„è¿œç¨‹åº“ä¿¡æ¯" class="headerlink" title="2.1 git remote -v  æŸ¥çœ‹å½“å‰gitä»“åº“å…³è”çš„è¿œç¨‹åº“ä¿¡æ¯"></a><strong>2.1 git remote -v  æŸ¥çœ‹å½“å‰gitä»“åº“å…³è”çš„è¿œç¨‹åº“ä¿¡æ¯</strong></h3><p>â€‹                  <img src="https://qqadapt.qpic.cn/txdocpic/0/c18c08c1349f996eb1b239b61e4fc20d/0?w=436&h=113" alt="img">         </p><h3 id="2-2-å…³è”å¤šä¸ªè¿œç¨‹ä»“åº“"><a href="#2-2-å…³è”å¤šä¸ªè¿œç¨‹ä»“åº“" class="headerlink" title="2.2 å…³è”å¤šä¸ªè¿œç¨‹ä»“åº“"></a><strong>2.2 å…³è”å¤šä¸ªè¿œç¨‹ä»“åº“</strong></h3><p>ä¸€ä¸ªæœ¬åœ°åº“æ—¢å…³è”GitHubï¼Œåˆå…³è”Giteeã€‚</p><p>ä½¿ç”¨å¤šä¸ªè¿œç¨‹åº“æ—¶ï¼Œæˆ‘ä»¬è¦æ³¨æ„ï¼Œgitç»™è¿œç¨‹åº“èµ·çš„é»˜è®¤åç§°æ˜¯ origin  </p><p>ä½¿ç”¨ git remote add åç§° åœ°å€ æ¥å¢åŠ æ–°çš„è¿œç¨‹ä»“åº“è§„åˆ™ ï¼Œå¦‚ä¸‹å›¾ï¼Œå°±å¤šäº†ä¸€ä¸ªwxçš„ä»“åº“ï¼ˆåœ°å€éšæ„ï¼‰</p><p>â€‹                  <img src="https://qqadapt.qpic.cn/txdocpic/0/3c5979734d2bce5e4f29628cdd25d444/0?w=597&h=119" alt="img">         </p><h3 id="2-3-åˆ é™¤æ— ç”¨ä»“åº“"><a href="#2-3-åˆ é™¤æ— ç”¨ä»“åº“" class="headerlink" title="2.3 åˆ é™¤æ— ç”¨ä»“åº“"></a><strong>2.3 åˆ é™¤æ— ç”¨ä»“åº“</strong></h3><p>git remote rm åç§° å³åˆ é™¤æ‰é»˜è®¤å‘½åçš„ origin ä»“åº“å…³è”</p><p>â€‹                  <img src="https://qqadapt.qpic.cn/txdocpic/0/b6fa9baa1de987fa7a71653e559324ff/0?w=424&h=84" alt="img">         </p><h3 id="2-4-æäº¤æ–‡ä»¶-ï¼ˆå…¨éƒ¨æäº¤ï¼‰"><a href="#2-4-æäº¤æ–‡ä»¶-ï¼ˆå…¨éƒ¨æäº¤ï¼‰" class="headerlink" title="2.4 æäº¤æ–‡ä»¶ ï¼ˆå…¨éƒ¨æäº¤ï¼‰"></a><strong>2.4 æäº¤æ–‡ä»¶ ï¼ˆå…¨éƒ¨æäº¤ï¼‰</strong></h3><p>git add .  å³å¯æäº¤å…¨éƒ¨æ–‡ä»¶(ç³»ç»Ÿä¼šè‡ªåŠ¨æ¯”å¯¹)åˆ°ç¼“å­˜åŒº</p><p>â€‹                  <img src="https://qqadapt.qpic.cn/txdocpic/0/26cd6d92170335fcea94387f0d30a662/0?w=495&h=26" alt="img">         </p><p>git commit -m â€œæäº¤å¤‡æ³¨â€ å³æœ¬æ¬¡æäº¤çš„ä¿¡æ¯è¯´æ˜</p><p>â€‹                  <img src="https://qqadapt.qpic.cn/txdocpic/0/6b74853d586e544b0d0ebe6ae6628853/0?w=492&h=40" alt="img">         </p><p>git push åç§° ä¸»/åˆ†æ”¯ å³å¯æŒ‰ç…§ä»“åº“æ˜µç§°æäº¤åˆ°è¿œç¨‹ä»“åº“</p><p>â€‹                  <img src="https://qqadapt.qpic.cn/txdocpic/0/86124f3fd5258c899c04638fdc2a7b47/0?w=458&h=36" alt="img">         </p><h3 id="2-5-æŸ¥çœ‹çº¿ä¸Šä»“åº“"><a href="#2-5-æŸ¥çœ‹çº¿ä¸Šä»“åº“" class="headerlink" title="2.5 æŸ¥çœ‹çº¿ä¸Šä»“åº“"></a><strong>2.5 æŸ¥çœ‹çº¿ä¸Šä»“åº“</strong></h3><p>â€‹                  <img src="https://qqadapt.qpic.cn/txdocpic/0/b4a34576ef9a8fd29f2bdfaf894edf34/0?w=1011&h=306" alt="img">         </p><h2 id="3-å…³äºç äº‘çš„å…¬é’¥-ï¼ˆä¸€èˆ¬ä½¿ç”¨è´¦æˆ·å…¬é’¥ï¼Œæƒé™å¤§äºç­‰äºä»“åº“å…¬é’¥ï¼‰"><a href="#3-å…³äºç äº‘çš„å…¬é’¥-ï¼ˆä¸€èˆ¬ä½¿ç”¨è´¦æˆ·å…¬é’¥ï¼Œæƒé™å¤§äºç­‰äºä»“åº“å…¬é’¥ï¼‰" class="headerlink" title="3. å…³äºç äº‘çš„å…¬é’¥ ï¼ˆä¸€èˆ¬ä½¿ç”¨è´¦æˆ·å…¬é’¥ï¼Œæƒé™å¤§äºç­‰äºä»“åº“å…¬é’¥ï¼‰"></a><strong>3. å…³äºç äº‘çš„å…¬é’¥ ï¼ˆä¸€èˆ¬ä½¿ç”¨<strong><strong>è´¦æˆ·å…¬é’¥</strong></strong>ï¼Œæƒé™å¤§äºç­‰äºä»“åº“å…¬é’¥ï¼‰</strong></h2><h3 id="ä»“åº“å…¬é’¥"><a href="#ä»“åº“å…¬é’¥" class="headerlink" title="ä»“åº“å…¬é’¥:"></a><strong>ä»“åº“å…¬é’¥:</strong></h3><p>â€‹                  <img src="https://qqadapt.qpic.cn/txdocpic/0/775f62ad571c159cbc57390209535ee3/0?w=1025&h=523" alt="img">         </p><h3 id="å¦‚ä½•ç”Ÿæˆå…¬é’¥"><a href="#å¦‚ä½•ç”Ÿæˆå…¬é’¥" class="headerlink" title="å¦‚ä½•ç”Ÿæˆå…¬é’¥:"></a><strong>å¦‚ä½•ç”Ÿæˆå…¬é’¥:</strong></h3><p>â€‹                  <img src="https://qqadapt.qpic.cn/txdocpic/0/14d2e51b6270c2b27fca7409cdef24c1/0?w=703&h=1667" alt="img">         </p><p>â€‹                  <img src="https://qqadapt.qpic.cn/txdocpic/0/fcdbd20b7c27d213df7a2c08e2a9125b/0?w=712&h=1742" alt="img">         </p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ä½¿ç”¨Git-ç äº‘-ï¼š&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨Git-ç äº‘-ï¼š&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨Git + ç äº‘ ï¼š&quot;&gt;&lt;/a&gt;&lt;strong&gt;ä½¿ç”¨Git + ç äº‘ ï¼š&lt;/strong&gt;&lt;/h1&gt;&lt;h2 id=&quot;1-ä½¿ç”¨Giteeå’Œä½¿ç”¨</summary>
      
    
    
    
    <category term="å‰ç«¯" scheme="https://lovelee.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="git" scheme="https://lovelee.cn/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>Expressä½¿ç”¨è¯´æ˜</title>
    <link href="https://lovelee.cn/2022/08/29/Express/"/>
    <id>https://lovelee.cn/2022/08/29/Express/</id>
    <published>2022-08-29T12:53:09.152Z</published>
    <updated>2022-08-27T12:00:10.427Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Express"><a href="#Express" class="headerlink" title="Express"></a>Express</h1><p>Express æ˜¯ä¸€ä¸ªç®€æ´ã€çµæ´»çš„ node.js Web åº”ç”¨å¼€å‘æ¡†æ¶, å®ƒæä¾›ä¸€ç³»åˆ—å¼ºå¤§çš„ç‰¹æ€§ï¼Œå¸®åŠ©ä½ åˆ›å»ºå„ç§ Web å’Œç§»åŠ¨è®¾å¤‡åº”ç”¨ã€‚ä¸°å¯Œçš„ HTTP å¿«æ·æ–¹æ³•å’Œä»»æ„æ’åˆ—ç»„åˆçš„ Connect ä¸­é—´ä»¶ï¼Œè®©ä½ åˆ›å»ºå¥å£®ã€å‹å¥½çš„ API å˜å¾—æ—¢å¿«é€Ÿåˆç®€å•ã€‚æ­¤æ–‡ç« ä¼šè®²è§£expresså¸¸ç”¨æ–¹æ³•ä»¥åŠå®ç°çš„åŸç†.<br><a href="https://zhufengzhufeng.github.io/img/node.png"><img src="https://zhufengzhufeng.github.io/img/node.png" alt="img"></a></p><h2 id="1-Expressä»‹ç»"><a href="#1-Expressä»‹ç»" class="headerlink" title="1.Expressä»‹ç»"></a>1.Expressä»‹ç»</h2><p>Express æ˜¯ä¸€ä¸ªå°å·§ä¸”çµæ´»çš„ Node.js Webåº”ç”¨æ¡†æ¶ï¼Œå®ƒæœ‰ä¸€å¥—å¥å£®çš„ç‰¹æ€§ï¼Œå¯ç”¨äºå¼€å‘å•é¡µã€å¤šé¡µå’Œæ··åˆWebåº”ç”¨ã€‚</p><h2 id="2-expressçš„åº”ç”¨"><a href="#2-expressçš„åº”ç”¨" class="headerlink" title="2.expressçš„åº”ç”¨"></a>2.expressçš„åº”ç”¨</h2><h3 id="2-1-å®‰è£…express"><a href="#2-1-å®‰è£…express" class="headerlink" title="2.1 å®‰è£…express"></a>2.1 å®‰è£…express</h3><ul><li><p>npmå®‰è£…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install express</span><br></pre></td></tr></table></figure></li></ul><h3 id="2-2-ä½¿ç”¨express"><a href="#2-2-ä½¿ç”¨express" class="headerlink" title="2.2 ä½¿ç”¨express"></a>2.2 ä½¿ç”¨express</h3><ul><li><p>åˆ›å»ºhttpæœåŠ¡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//å¼•å…¥express</span><br><span class="line">var express = require(&#x27;express&#x27;);</span><br><span class="line">//æ‰§è¡Œexpress**å‡½æ•°</span><br><span class="line">var app = express();</span><br><span class="line">//ç›‘å¬ç«¯å£</span><br><span class="line">app.listen(3000);</span><br></pre></td></tr></table></figure></li></ul><h3 id="2-3-expressçš„getæ–¹æ³•"><a href="#2-3-expressçš„getæ–¹æ³•" class="headerlink" title="2.3 expressçš„getæ–¹æ³•"></a>2.3 expressçš„getæ–¹æ³•</h3><ul><li><p>æ ¹æ®è¯·æ±‚è·¯å¾„æ¥å¤„ç†å®¢æˆ·ç«¯å‘å‡ºçš„GETè¯·æ±‚</p></li><li><p>ç¬¬ä¸€ä¸ªå‚æ•°pathä¸ºè¯·æ±‚çš„è·¯å¾„</p></li><li><p>ç¬¬äºŒä¸ªå‚æ•°ä¸ºå¤„ç†è¯·æ±‚çš„å›è°ƒå‡½æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.get(path,function(req, res));</span><br></pre></td></tr></table></figure></li></ul><h4 id="2-3-1-getæ–¹æ³•çš„ä½¿ç”¨"><a href="#2-3-1-getæ–¹æ³•çš„ä½¿ç”¨" class="headerlink" title="2.3.1 getæ–¹æ³•çš„ä½¿ç”¨"></a>2.3.1 getæ–¹æ³•çš„ä½¿ç”¨</h4><ul><li><p>getæ–¹æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//å¼•å…¥express</span><br><span class="line">var express = require(&#x27;./express&#x27;);</span><br><span class="line">//æ‰§è¡Œexpresså‡½æ•°</span><br><span class="line">var app = express();</span><br><span class="line">//ç›‘å¬ç«¯å£</span><br><span class="line">app.get(&#x27;/hello&#x27;, function (req,res) &#123;</span><br><span class="line">   res.end(&#x27;hello&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line">app.get(&#x27;/world&#x27;, function (req,res) &#123;</span><br><span class="line">    res.end(&#x27;world&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line">app.get(&#x27;*&#x27;, function (req,res) &#123;</span><br><span class="line">    res.setHeader(&#x27;content-type&#x27;,&#x27;text/plain;charset=utf8&#x27;);</span><br><span class="line">    res.end(&#x27;æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„è·¯å¾„&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line">app.listen(3000);</span><br></pre></td></tr></table></figure></li></ul><h4 id="2-3-2-getæ–¹æ³•å®ç°"><a href="#2-3-2-getæ–¹æ³•å®ç°" class="headerlink" title="2.3.2 getæ–¹æ³•å®ç°"></a>2.3.2 getæ–¹æ³•å®ç°</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">//å£°æ˜expresså‡½æ•°</span><br><span class="line">var express = function () &#123;</span><br><span class="line">    var app = function (req,res) &#123;</span><br><span class="line">        var urlObj  = require(&#x27;url&#x27;).parse(req.url,true);</span><br><span class="line">        var pathname = urlObj.pathname;</span><br><span class="line">        var method = req.method.toLowerCase();</span><br><span class="line">        //æ‰¾åˆ°åŒ¹é…çš„è·¯ç”±</span><br><span class="line">        var route = app.routes.find(function (item) &#123;</span><br><span class="line">            return item.path==pathname&amp;&amp;item.method==method;</span><br><span class="line">        &#125;);</span><br><span class="line">        if(route)&#123;</span><br><span class="line">            route.fn(req,res);</span><br><span class="line">        &#125;</span><br><span class="line">        res.end(`CANNOT  $&#123;method&#125; $&#123;pathname&#125;`)</span><br><span class="line">    &#125;;</span><br><span class="line">    //å¢åŠ ç›‘å¬æ–¹æ³•</span><br><span class="line">    app.listen = function (port) &#123;</span><br><span class="line">        require(&#x27;http&#x27;).createServer(app).listen(port);</span><br><span class="line">    &#125;;</span><br><span class="line">    app.routes = [];</span><br><span class="line">    //å¢åŠ getæ–¹æ³•</span><br><span class="line">    app.get = function (path,fn) &#123;</span><br><span class="line">        app.routes.push(&#123;method:&#x27;get&#x27;,path:path,fn:fn&#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">    return app;</span><br><span class="line">&#125;;</span><br><span class="line">module.exports = express;</span><br></pre></td></tr></table></figure><h4 id="2-3-3-å¢åŠ -åŒ¹é…"><a href="#2-3-3-å¢åŠ -åŒ¹é…" class="headerlink" title="2.3.3 å¢åŠ  * åŒ¹é…"></a>2.3.3 å¢åŠ  * åŒ¹é…</h4><ul><li><p>ä½¿ç”¨ * åŒ¹é…æ‰€æœ‰è·¯å¾„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var route = app.routes.find(function (item) &#123;</span><br><span class="line">-      return item.path==pathname&amp;&amp;item.method==method;</span><br><span class="line">+      return (item.path==pathname||item.path==&#x27;*&#x27;)&amp;&amp;item.method==method;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><h3 id="2-4-expressçš„postæ–¹æ³•"><a href="#2-4-expressçš„postæ–¹æ³•" class="headerlink" title="2.4 expressçš„postæ–¹æ³•"></a>2.4 expressçš„postæ–¹æ³•</h3><ul><li><p>æ ¹æ®è¯·æ±‚è·¯å¾„æ¥å¤„ç†å®¢æˆ·ç«¯å‘å‡ºçš„POSTè¯·æ±‚</p></li><li><p>ç¬¬ä¸€ä¸ªå‚æ•°pathä¸ºè¯·æ±‚çš„è·¯å¾„</p></li><li><p>ç¬¬äºŒä¸ªå‚æ•°ä¸ºå¤„ç†è¯·æ±‚çš„å›è°ƒå‡½æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.post(path,function(req,res));</span><br></pre></td></tr></table></figure></li></ul><h4 id="2-4-1-postçš„æ–¹æ³•ä½¿ç”¨"><a href="#2-4-1-postçš„æ–¹æ³•ä½¿ç”¨" class="headerlink" title="2.4.1 postçš„æ–¹æ³•ä½¿ç”¨"></a>2.4.1 postçš„æ–¹æ³•ä½¿ç”¨</h4><ul><li><p>postæ–¹æ³•çš„ä½¿ç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//å¼•å…¥express</span><br><span class="line">var express = require(&#x27;./express&#x27;);</span><br><span class="line">//æ‰§è¡Œexpresså‡½æ•°</span><br><span class="line">var app = express();</span><br><span class="line">//ç›‘å¬ç«¯å£</span><br><span class="line">app.post(&#x27;/hello&#x27;, function (req,res) &#123;</span><br><span class="line">   res.end(&#x27;hello&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line">app.post(&#x27;*&#x27;, function (req,res) &#123;</span><br><span class="line">    res.end(&#x27;postæ²¡æ‰¾åˆ°&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line">app.listen(3000);</span><br></pre></td></tr></table></figure></li><li><p>é€šè¿‡linuxå‘½ä»¤å‘é€postè¯·æ±‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl -X POST http://localhost:3000/hello</span><br></pre></td></tr></table></figure></li></ul><h4 id="2-4-2-postçš„å®ç°"><a href="#2-4-2-postçš„å®ç°" class="headerlink" title="2.4.2 postçš„å®ç°"></a>2.4.2 postçš„å®ç°</h4><ul><li><p>å¢åŠ æ‰€æœ‰è¯·æ±‚çš„æ–¹æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var methods = [&#x27;get&#x27;,&#x27;post&#x27;,&#x27;delete&#x27;,&#x27;put&#x27;,&#x27;options&#x27;];</span><br><span class="line">methods.forEach(function (method) &#123;</span><br><span class="line">    app[method] = function (path,fn) &#123;</span><br><span class="line">        app.routes.push(&#123;method:method,path:path,fn:fn&#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><h3 id="2-5-expressçš„allæ–¹æ³•"><a href="#2-5-expressçš„allæ–¹æ³•" class="headerlink" title="2.5 expressçš„allæ–¹æ³•"></a>2.5 expressçš„allæ–¹æ³•</h3><ul><li><p>ç›‘å¬æ‰€æœ‰çš„è¯·æ±‚æ–¹æ³•ï¼Œå¯ä»¥åŒ¹é…æ‰€æœ‰çš„HTTPåŠ¨è¯</p></li><li><p>æ ¹æ®è¯·æ±‚è·¯å¾„æ¥å¤„ç†å®¢æˆ·ç«¯å‘å‡ºçš„æ‰€æœ‰è¯·æ±‚</p></li><li><p>ç¬¬ä¸€ä¸ªå‚æ•°pathä¸ºè¯·æ±‚çš„è·¯å¾„</p></li><li><p>ç¬¬äºŒä¸ªå‚æ•°ä¸ºå¤„ç†è¯·æ±‚çš„å›è°ƒå‡½æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.all(path,function(req, res));</span><br></pre></td></tr></table></figure></li></ul><h4 id="2-5-1-allçš„æ–¹æ³•ä½¿ç”¨"><a href="#2-5-1-allçš„æ–¹æ³•ä½¿ç”¨" class="headerlink" title="2.5.1 allçš„æ–¹æ³•ä½¿ç”¨"></a>2.5.1 allçš„æ–¹æ³•ä½¿ç”¨</h4><ul><li><p>allæ–¹æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var express = require(&#x27;./express&#x27;);</span><br><span class="line">var app = express();</span><br><span class="line">app.all(&#x27;/hello&#x27;, function (req,res) &#123;</span><br><span class="line">   res.end(&#x27;hello&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line">app.all(&#x27;*&#x27;, function (req,res) &#123;</span><br><span class="line">    res.end(&#x27;æ²¡æ‰¾åˆ°&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line">app.listen(3000);</span><br></pre></td></tr></table></figure></li></ul><h4 id="2-5-2-æ³¨å†Œæ‰€æœ‰æ–¹æ³•"><a href="#2-5-2-æ³¨å†Œæ‰€æœ‰æ–¹æ³•" class="headerlink" title="2.5.2 æ³¨å†Œæ‰€æœ‰æ–¹æ³•"></a>2.5.2 æ³¨å†Œæ‰€æœ‰æ–¹æ³•</h4><ul><li><p>å¢åŠ allæ–¹æ³•åŒ¹é…æ‰€æœ‰method</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+  var methods = [&#x27;get&#x27;,&#x27;post&#x27;,&#x27;delete&#x27;,&#x27;put&#x27;,&#x27;options&#x27;,&#x27;all&#x27;];</span><br></pre></td></tr></table></figure></li></ul><h4 id="2-5-3-allæ–¹æ³•çš„å®ç°"><a href="#2-5-3-allæ–¹æ³•çš„å®ç°" class="headerlink" title="2.5.3 allæ–¹æ³•çš„å®ç°"></a>2.5.3 allæ–¹æ³•çš„å®ç°</h4><ul><li><p>å¯¹allæ–¹æ³•è¿›è¡Œåˆ¤æ–­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var route = app.routes.find(function (item) &#123;</span><br><span class="line">-      return (item.path==pathname||item.path==&#x27;*&#x27;)&amp;&amp;item.method==method;</span><br><span class="line">+      return (item.path==pathname||item.path==&#x27;*&#x27;)&amp;&amp;(item.method==method||method==&#x27;all&#x27;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><h3 id="2-6-ä¸­é—´ä»¶"><a href="#2-6-ä¸­é—´ä»¶" class="headerlink" title="2.6 ä¸­é—´ä»¶"></a>2.6 ä¸­é—´ä»¶</h3><p>ä¸­é—´ä»¶å°±æ˜¯å¤„ç†HTTPè¯·æ±‚çš„å‡½æ•°ï¼Œç”¨æ¥å®Œæˆå„ç§ç‰¹å®šçš„ä»»åŠ¡ï¼Œæ¯”å¦‚æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ç™»å½•ã€æ£€æµ‹ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®ç­‰ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯:</p><ul><li>ä¸€ä¸ªä¸­é—´ä»¶å¤„ç†å®Œè¯·æ±‚å’Œå“åº”å¯ä»¥æŠŠç›¸åº”æ•°æ®å†ä¼ é€’ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶</li><li>å›è°ƒå‡½æ•°çš„nextå‚æ•°,è¡¨ç¤ºæ¥å—å…¶ä»–ä¸­é—´ä»¶çš„è°ƒç”¨ï¼Œå‡½æ•°ä½“ä¸­çš„next(),è¡¨ç¤ºå°†è¯·æ±‚æ•°æ®ç»§ç»­ä¼ é€’</li><li>å¯ä»¥æ ¹æ®è·¯å¾„æ¥åŒºåˆ†è¿”å›æ‰§è¡Œä¸åŒçš„ä¸­é—´ä»¶</li></ul><h4 id="2-6-1-ä¸­é—´ä»¶çš„ä½¿ç”¨æ–¹æ³•"><a href="#2-6-1-ä¸­é—´ä»¶çš„ä½¿ç”¨æ–¹æ³•" class="headerlink" title="2.6.1 ä¸­é—´ä»¶çš„ä½¿ç”¨æ–¹æ³•"></a>2.6.1 ä¸­é—´ä»¶çš„ä½¿ç”¨æ–¹æ³•</h4><ul><li><p>å¢åŠ ä¸­é—´ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var express = require(&#x27;express&#x27;);</span><br><span class="line">var app = express();</span><br><span class="line">app.use(function (req,res,next) &#123;</span><br><span class="line">    console.log(&#x27;è¿‡æ»¤çŸ³å¤´&#x27;);</span><br><span class="line">    next();</span><br><span class="line">&#125;);</span><br><span class="line">app.use(&#x27;/water&#x27;, function (req,res,next) &#123;</span><br><span class="line">    console.log(&#x27;è¿‡æ»¤æ²™å­&#x27;);</span><br><span class="line">    next();</span><br><span class="line">&#125;);</span><br><span class="line">app.get(&#x27;/water&#x27;, function (req,res) &#123;</span><br><span class="line">    res.end(&#x27;water&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line">app.listen(3000);</span><br></pre></td></tr></table></figure></li></ul><h4 id="2-6-2-useæ–¹æ³•çš„å®ç°"><a href="#2-6-2-useæ–¹æ³•çš„å®ç°" class="headerlink" title="2.6.2 useæ–¹æ³•çš„å®ç°"></a>2.6.2 useæ–¹æ³•çš„å®ç°</h4><ul><li><p>åœ¨è·¯ç”±æ•°ç»„ä¸­å¢åŠ ä¸­é—´ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">app.use = function (path,fn) &#123;</span><br><span class="line">    if(typeof fn !=&#x27;function&#x27;)&#123;</span><br><span class="line">        fn = path;</span><br><span class="line">        path = &#x27;/&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">    app.routes.push(&#123;method:&#x27;middle&#x27;,path:path,fn:fn&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>appæ–¹æ³•ä¸­å¢åŠ Middlewareåˆ¤æ–­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">- var route = app.routes.find(function (item) &#123;</span><br><span class="line">-    return item.path==pathname&amp;&amp;item.method==method;</span><br><span class="line">- &#125;);</span><br><span class="line">- if(route)&#123;</span><br><span class="line">-     route.fn(req,res);</span><br><span class="line">- &#125;</span><br><span class="line">var index = 0;</span><br><span class="line">function  next()&#123;</span><br><span class="line">    if(index&gt;=app.routes.length)&#123;</span><br><span class="line">         return res.end(`CANNOT  $&#123;method&#125; $&#123;pathname&#125;`);</span><br><span class="line">    &#125;</span><br><span class="line">    var route = app.routes[index++];</span><br><span class="line">    if(route.method == &#x27;middle&#x27;)&#123;</span><br><span class="line">        if(route.path == &#x27;/&#x27;||pathname.startsWith(route.path+&#x27;/&#x27;)|| pathname==route.path)&#123;</span><br><span class="line">            route.fn(req,res,next)</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            next();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        if((route.path==pathname||route.path==&#x27;*&#x27;)&amp;&amp;(route.method==method||route.method==&#x27;all&#x27;))&#123;</span><br><span class="line">            route.fn(req,res);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            next();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">next();</span><br></pre></td></tr></table></figure></li></ul><h4 id="2-6-3-é”™è¯¯ä¸­é—´ä»¶"><a href="#2-6-3-é”™è¯¯ä¸­é—´ä»¶" class="headerlink" title="2.6.3 é”™è¯¯ä¸­é—´ä»¶"></a>2.6.3 é”™è¯¯ä¸­é—´ä»¶</h4><ul><li><p>nextä¸­å¯ä»¥ä¼ é€’é”™è¯¯ï¼Œé»˜è®¤æ‰§è¡Œé”™è¯¯ä¸­é—´ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">var express = require(&#x27;express&#x27;);</span><br><span class="line">var app = express();</span><br><span class="line">app.use(function (req,res,next) &#123;</span><br><span class="line">    console.log(&#x27;è¿‡æ»¤çŸ³å¤´&#x27;);</span><br><span class="line">    next(&#x27;stone is too big&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line">app.use(&#x27;/water&#x27;, function (req,res,next) &#123;</span><br><span class="line">    console.log(&#x27;è¿‡æ»¤æ²™å­&#x27;);</span><br><span class="line">    next();</span><br><span class="line">&#125;);</span><br><span class="line">app.get(&#x27;/water&#x27;, function (req,res) &#123;</span><br><span class="line">    res.end(&#x27;water&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line">app.use(function (err,req,res,next) &#123;</span><br><span class="line">    console.log(err);</span><br><span class="line">    res.end(err);</span><br><span class="line">&#125;);</span><br><span class="line">app.listen(3000);</span><br></pre></td></tr></table></figure></li></ul><h4 id="2-6-4-é”™è¯¯ä¸­é—´ä»¶çš„å®ç°"><a href="#2-6-4-é”™è¯¯ä¸­é—´ä»¶çš„å®ç°" class="headerlink" title="2.6.4 é”™è¯¯ä¸­é—´ä»¶çš„å®ç°"></a>2.6.4 é”™è¯¯ä¸­é—´ä»¶çš„å®ç°</h4><ul><li><p>å¯¹é”™è¯¯ä¸­é—´ä»¶è¿›è¡Œå¤„ç†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">function  next(err)&#123;</span><br><span class="line">    if(index&gt;=app.routes.length)&#123;</span><br><span class="line">        return res.end(`CANNOT  $&#123;method&#125; $&#123;pathname&#125;`);</span><br><span class="line">    &#125;</span><br><span class="line">    var route = app.routes[index++];</span><br><span class="line">+    if(err)&#123;</span><br><span class="line">+        if(route.method == &#x27;middle&#x27;&amp;&amp;route.fn.length==4)&#123;</span><br><span class="line">+            route.fn(err,req,res,next);</span><br><span class="line">+        &#125;else&#123;</span><br><span class="line">+            next(err);</span><br><span class="line">+        &#125;</span><br><span class="line">+    &#125;else&#123;</span><br><span class="line">        if(route.method == &#x27;middle&#x27;)&#123;</span><br><span class="line">            if(route.path == &#x27;/&#x27;||pathname.startsWith(route.path+&#x27;/&#x27;)|| pathname==route.path)&#123;</span><br><span class="line">                route.fn(req,res,next)</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                next();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            if((route.path==pathname||route.path==&#x27;*&#x27;)&amp;&amp;(route.method==method||route.method==&#x27;all&#x27;))&#123;</span><br><span class="line">                route.fn(req,res);</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                next();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">+    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="2-7-è·å–å‚æ•°å’ŒæŸ¥è¯¢å­—ç¬¦ä¸²"><a href="#2-7-è·å–å‚æ•°å’ŒæŸ¥è¯¢å­—ç¬¦ä¸²" class="headerlink" title="2.7 è·å–å‚æ•°å’ŒæŸ¥è¯¢å­—ç¬¦ä¸²"></a>2.7 è·å–å‚æ•°å’ŒæŸ¥è¯¢å­—ç¬¦ä¸²</h3><ul><li><p>req.hostname è¿”å›è¯·æ±‚å¤´é‡Œå–çš„ä¸»æœºå</p></li><li><p>req.path è¿”å›è¯·æ±‚çš„URLçš„è·¯å¾„å</p></li><li><p>req.query æŸ¥è¯¢å­—ç¬¦ä¸²</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//http://localhost:3000/?a=1</span><br><span class="line">app.get(&#x27;/&#x27;,function(req,res)&#123;</span><br><span class="line">    res.write(JSON.stringify(req.query))</span><br><span class="line">    res.end(req.hostname+&quot; &quot;+req.path);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><h4 id="2-7-1-å…·ä½“å®ç°"><a href="#2-7-1-å…·ä½“å®ç°" class="headerlink" title="2.7.1 å…·ä½“å®ç°"></a>2.7.1 å…·ä½“å®ç°</h4><ul><li><p>å¯¹è¯·æ±‚å¢åŠ æ–¹æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">+     req.path = pathname;</span><br><span class="line">+     req.hostname = req.headers[&#x27;host&#x27;].split(&#x27;:&#x27;)[0];</span><br><span class="line">+     req.query = urlObj.query;</span><br></pre></td></tr></table></figure></li></ul><h3 id="2-8-è·å–paramså‚æ•°"><a href="#2-8-è·å–paramså‚æ•°" class="headerlink" title="2.8 è·å–paramså‚æ•°"></a>2.8 è·å–paramså‚æ•°</h3><ul><li><p>req.params åŒ¹é…åˆ°çš„æ‰€æœ‰è·¯å¾„å‚æ•°ç»„æˆçš„å¯¹è±¡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">app.get(&#x27;/water/:id/:name/home/:age&#x27;, function (req,res) &#123;</span><br><span class="line">    console.log(req.params);</span><br><span class="line">    res.end(&#x27;water&#x27;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><h4 id="2-8-1-paramså®ç°"><a href="#2-8-1-paramså®ç°" class="headerlink" title="2.8.1 paramså®ç°"></a>2.8.1 paramså®ç°</h4><ul><li><p>å¢åŠ paramså±æ€§</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">methods.forEach(function (method) &#123;</span><br><span class="line">    app[method] = function (path,fn) &#123;</span><br><span class="line">        var config = &#123;method:method,path:path,fn:fn&#125;;</span><br><span class="line">        if(path.includes(&quot;:&quot;))&#123;</span><br><span class="line">            //æ˜¯è·¯å¾„å‚æ•° è½¬æ¢ä¸ºæ­£åˆ™</span><br><span class="line">            //å¹¶ä¸”å¢åŠ params</span><br><span class="line">            var arr = [];</span><br><span class="line">            config.path   = path.replace(/:([^\/]+)/g, function () &#123;</span><br><span class="line">                arr.push(arguments[1]);</span><br><span class="line">                return &#x27;([^\/]+)&#x27;;</span><br><span class="line">            &#125;);</span><br><span class="line">            config.params = arr;</span><br><span class="line">        &#125;</span><br><span class="line">        app.routes.push(config);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;);</span><br><span class="line">+ if(route.params)&#123;</span><br><span class="line">+    var matchers = pathname.match(new RegExp(route.path));</span><br><span class="line">+    if(matchers)&#123;</span><br><span class="line">+       var params = &#123;&#125;;</span><br><span class="line">+        for(var i = 0; i&lt;route.params.length;i++)&#123;</span><br><span class="line">+            params[route.params[i]] = matchers[i+1];</span><br><span class="line">+        &#125;</span><br><span class="line">+        req.params = params;</span><br><span class="line">+        route.fn(req,res);</span><br><span class="line">+    &#125;else&#123;</span><br><span class="line">+        next();</span><br><span class="line">+    &#125;</span><br><span class="line">+&#125;else&#123;</span><br><span class="line">    if((route.path==pathname||route.path==&#x27;*&#x27;)&amp;&amp;(route.method==method||route.method==&#x27;all&#x27;))&#123;</span><br><span class="line">        route.fn(req,res);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        next();</span><br><span class="line">    &#125;</span><br><span class="line">+&#125;</span><br><span class="line"> //å¦‚æœä¸ç­‰äºå°±æ˜¯è·¯ç”±</span><br><span class="line">if(item.params)&#123;</span><br><span class="line">    //å¸¦params</span><br><span class="line">    var arr = pathname.match(new RegExp(item.path));</span><br><span class="line">    if(arr)&#123;</span><br><span class="line">        var obj = &#123;&#125;;</span><br><span class="line">        for(var i = 1; i&lt;=item.params.length;i++)&#123;</span><br><span class="line">            obj[item.params[i-1]] = arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">        req.params = obj;</span><br><span class="line">        item.fn(req,res);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        next();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    if(item.path==pathname||item.path==&#x27;*&#x27;&amp;&amp;item.method ==method)&#123;</span><br><span class="line">        item.fn(req,res);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        next();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="2-9-expressä¸­çš„sendæ–¹æ³•"><a href="#2-9-expressä¸­çš„sendæ–¹æ³•" class="headerlink" title="2.9 expressä¸­çš„sendæ–¹æ³•"></a>2.9 expressä¸­çš„sendæ–¹æ³•</h3><ul><li><p>å‚æ•°ä¸ºè¦å“åº”çš„å†…å®¹,å¯ä»¥æ™ºèƒ½å¤„ç†ä¸åŒç±»å‹çš„æ•°æ®,åœ¨è¾“å‡ºå“åº”æ—¶ä¼šè‡ªåŠ¨è¿›è¡Œä¸€äº›è®¾ç½®ï¼Œæ¯”å¦‚HEADä¿¡æ¯ã€HTTPç¼“å­˜æ”¯æŒç­‰ç­‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res.send([body]);</span><br></pre></td></tr></table></figure></li><li><p>å½“å‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè®¾ç½®Content-typeä¸º<code>text/html</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.get(&#x27;/&#x27;, function (req,res) &#123;</span><br><span class="line">    res.send(&#x27;&lt;p&gt;hello world&lt;/p&gt;&#x27;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>å½“å‚æ•°æ˜¯ä¸€ä¸ªArrayæˆ–è€…Objectï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›jsonæ ¼å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">app.get(&#x27;/json&#x27;, function (req,res) &#123;</span><br><span class="line">     res.send(&#123;obj:1&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">app.get(&#x27;/arr&#x27;, function (req,res) &#123;</span><br><span class="line"> res.send([1,2,3]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>å½“å‚æ•°æ˜¯ä¸€ä¸ªnumberç±»å‹ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›å¯¹åº”çš„çŠ¶æ€ç çŸ­è¯­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">app.get(&#x27;/status&#x27;, function (req,res) &#123;</span><br><span class="line">    res.send(404); //not found</span><br><span class="line">    //res.status(404).send(&#x27;æ²¡æœ‰æ‰¾åˆ°&#x27;);è®¾ç½®çŸ­è¯­</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><h4 id="2-9-1-sendæ–¹æ³•çš„å®ç°"><a href="#2-9-1-sendæ–¹æ³•çš„å®ç°" class="headerlink" title="2.9.1 sendæ–¹æ³•çš„å®ç°"></a>2.9.1 sendæ–¹æ³•çš„å®ç°</h4><ul><li><p>è‡ªå®šä¹‰sendæ–¹æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">res.send = function (msg) &#123;</span><br><span class="line">    if(typeof msg==&#x27;string&#x27;||Buffer.isBuffer(msg))&#123;</span><br><span class="line">        res.contentType(&#x27;text/html&#x27;);</span><br><span class="line">        res.end(msg);</span><br><span class="line">    &#125;else if(typeof msg==&#x27;object&#x27;)&#123;</span><br><span class="line">        res.contentType(&#x27;application/json&#x27;);</span><br><span class="line">        res.end(JSON.stringify(msg));</span><br><span class="line">    &#125;else if(typeof msg == &#x27;number&#x27;)&#123;</span><br><span class="line">        res.contentType(&#x27;text/plain&#x27;);</span><br><span class="line">        var status_code = require(&#x27;_http_server&#x27;).STATUS_CODES</span><br><span class="line">        res.end(status_code[msg]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><h2 id="3-æ¨¡æ¿çš„åº”ç”¨"><a href="#3-æ¨¡æ¿çš„åº”ç”¨" class="headerlink" title="3. æ¨¡æ¿çš„åº”ç”¨"></a>3. æ¨¡æ¿çš„åº”ç”¨</h2><h3 id="3-1-å®‰è£…ejs"><a href="#3-1-å®‰è£…ejs" class="headerlink" title="3.1 å®‰è£…ejs"></a>3.1 å®‰è£…ejs</h3><ul><li><p>npmå®‰è£…ejs</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install ejs</span><br></pre></td></tr></table></figure></li></ul><h3 id="3-2-è®¾ç½®æ¨¡æ¿"><a href="#3-2-è®¾ç½®æ¨¡æ¿" class="headerlink" title="3.2 è®¾ç½®æ¨¡æ¿"></a>3.2 è®¾ç½®æ¨¡æ¿</h3><ul><li><p>ä½¿ç”¨ejsæ¨¡ç‰ˆ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var express = require(&#x27;express&#x27;);</span><br><span class="line">var path = require(&#x27;path&#x27;);</span><br><span class="line">var app = express();</span><br><span class="line">app.set(&#x27;view engine&#x27;,&#x27;ejs&#x27;);</span><br><span class="line">app.set(&#x27;views&#x27;,path.join(__dirname,&#x27;views&#x27;));</span><br><span class="line">app.listen(3000);</span><br></pre></td></tr></table></figure></li></ul><h3 id="3-3-æ¸²æŸ“html"><a href="#3-3-æ¸²æŸ“html" class="headerlink" title="3.3 æ¸²æŸ“html"></a>3.3 æ¸²æŸ“html</h3><ul><li><p>é…ç½®æˆhtmlæ ¼å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.set(&#x27;view engine&#x27;,&#x27;html&#x27;)</span><br><span class="line">app.set(&#x27;views&#x27;,path.join(__dirname,&#x27;views&#x27;)); </span><br><span class="line">app.engine(&#x27;html&#x27;,require(&#x27;ejs&#x27;).__express);</span><br></pre></td></tr></table></figure></li></ul><h3 id="3-4-æ¸²æŸ“è§†å›¾"><a href="#3-4-æ¸²æŸ“è§†å›¾" class="headerlink" title="3.4 æ¸²æŸ“è§†å›¾"></a>3.4 æ¸²æŸ“è§†å›¾</h3><ul><li><p>ç¬¬ä¸€ä¸ªå‚æ•° è¦æ¸²æŸ“çš„æ¨¡æ¿</p></li><li><p>ç¬¬äºŒä¸ªå‚æ•° æ¸²æŸ“æ‰€éœ€è¦çš„æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.get(&#x27;/&#x27;, function (req,res) &#123;</span><br><span class="line">    res.render(&#x27;hello&#x27;,&#123;title:&#x27;hello&#x27;&#125;,function(err,data)&#123;&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><h3 id="3-5-æ¨¡æ¿çš„å®ç°"><a href="#3-5-æ¨¡æ¿çš„å®ç°" class="headerlink" title="3.5 æ¨¡æ¿çš„å®ç°"></a>3.5 æ¨¡æ¿çš„å®ç°</h3><ul><li><p>è¯»å–æ¨¡ç‰ˆæ¸²æŸ“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">res.render = function (tmpl,obj,fn) &#123;</span><br><span class="line">        tmpl = tmpl+(tmpl.endsWith(&#x27;.ejs&#x27;)?&#x27;&#x27;:&#x27;.ejs&#x27;);</span><br><span class="line">        var filepath = path.join(app.get(&#x27;views&#x27;),tmpl);</span><br><span class="line">        fs.readFile(filepath,&#x27;utf8&#x27;, function (err,data) &#123;</span><br><span class="line">            data = data.replace(/&lt;%=(\w+)%&gt;/g,function () &#123;</span><br><span class="line">                return obj[arguments[1]];</span><br><span class="line">            &#125;);</span><br><span class="line">            if(typeof fn ==&#x27;function&#x27;)&#123;</span><br><span class="line">                fn(err,data);</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                res.end(data);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><h2 id="4-é™æ€æ–‡ä»¶æœåŠ¡å™¨"><a href="#4-é™æ€æ–‡ä»¶æœåŠ¡å™¨" class="headerlink" title="4.é™æ€æ–‡ä»¶æœåŠ¡å™¨"></a>4.é™æ€æ–‡ä»¶æœåŠ¡å™¨</h2><ul><li><p>å¦‚æœè¦åœ¨ç½‘é¡µä¸­åŠ è½½é™æ€æ–‡ä»¶ï¼ˆcssã€jsã€imgï¼‰ï¼Œå°±éœ€è¦å¦å¤–æŒ‡å®šä¸€ä¸ªå­˜æ”¾é™æ€æ–‡ä»¶çš„ç›®å½•ï¼Œå½“æµè§ˆå™¨å‘å‡ºéHTMLæ–‡ä»¶è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ç«¯å°±ä¼šåˆ°è¿™ä¸ªç›®å½•ä¸‹å»å¯»æ‰¾ç›¸å…³æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var express = require(&#x27;express&#x27;);</span><br><span class="line">var app = express();</span><br><span class="line">var path = require(&#x27;path&#x27;);</span><br><span class="line">app.use(express.static(path.join(__dirname,&#x27;public&#x27;)));</span><br><span class="line">app.listen(3000);</span><br></pre></td></tr></table></figure></li></ul><h3 id="4-1-é™æ€æ–‡ä»¶æœåŠ¡å™¨å®ç°"><a href="#4-1-é™æ€æ–‡ä»¶æœåŠ¡å™¨å®ç°" class="headerlink" title="4.1 é™æ€æ–‡ä»¶æœåŠ¡å™¨å®ç°"></a>4.1 é™æ€æ–‡ä»¶æœåŠ¡å™¨å®ç°</h3><ul><li><p>é…ç½®é™æ€æœåŠ¡å™¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function static(p)&#123;</span><br><span class="line">    return function (req,res,next) &#123;</span><br><span class="line">        var exists = fs.existsSync(p);</span><br><span class="line">        if(exists)&#123;</span><br><span class="line">            fs.createReadStream(path.join(p,req.path)).pipe(res);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            next();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="5-é‡å®šå‘"><a href="#5-é‡å®šå‘" class="headerlink" title="5.é‡å®šå‘"></a>5.é‡å®šå‘</h2><ul><li><p>redirectæ–¹æ³•å…è®¸ç½‘å€çš„é‡å®šå‘ï¼Œè·³è½¬åˆ°æŒ‡å®šçš„urlå¹¶ä¸”å¯ä»¥æŒ‡å®šstatusï¼Œé»˜è®¤ä¸º302æ–¹å¼ã€‚</p></li><li><p>å‚æ•°1 çŠ¶æ€ç (å¯é€‰)</p></li><li><p>å‚æ•°2 è·³è½¬çš„è·¯å¾„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res.redirect([status], url);</span><br></pre></td></tr></table></figure></li></ul><h3 id="5-1-redirectä½¿ç”¨"><a href="#5-1-redirectä½¿ç”¨" class="headerlink" title="5.1 redirectä½¿ç”¨"></a>5.1 redirectä½¿ç”¨</h3><ul><li><p>ä½¿ç”¨é‡å®šå‘</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.get(&#x27;/&#x27;, function (req,res) &#123;</span><br><span class="line">    res.redirect(&#x27;http://www.baidu.com&#x27;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><h3 id="5-2-redirectçš„å®ç°"><a href="#5-2-redirectçš„å®ç°" class="headerlink" title="5.2 redirectçš„å®ç°"></a>5.2 redirectçš„å®ç°</h3><ul><li><p>302é‡å®šå‘</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">app.use(function (req,res,next) &#123;</span><br><span class="line">    res.redirect = function (url) &#123;</span><br><span class="line">        console.log(url);</span><br><span class="line">        res.statusCode = 302;</span><br><span class="line">        res.setHeader(&#x27;Location&#x27;,&#x27;http://www.baidu.com&#x27;);</span><br><span class="line">        res.end(&#x27;&#x27;);</span><br><span class="line">    &#125;;</span><br><span class="line">    next();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><h2 id="6-æ¥æ”¶postå“åº”ä½“"><a href="#6-æ¥æ”¶postå“åº”ä½“" class="headerlink" title="6. æ¥æ”¶postå“åº”ä½“"></a>6. æ¥æ”¶postå“åº”ä½“</h2><ul><li><p>å®‰è£…body-parser</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install body-parser</span><br></pre></td></tr></table></figure></li></ul><h3 id="6-1-ä½¿ç”¨body-parser"><a href="#6-1-ä½¿ç”¨body-parser" class="headerlink" title="6.1 ä½¿ç”¨body-parser"></a>6.1 ä½¿ç”¨body-parser</h3><ul><li><p>æ¥æ”¶è¯·æ±‚ä½“ä¸­çš„æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">app.get(&#x27;/login&#x27;, function (req,res) &#123;</span><br><span class="line">    res.sendFile(&#x27;./login.html&#x27;,&#123;root:__dirname&#125;)</span><br><span class="line">&#125;);</span><br><span class="line">app.post(&#x27;/user&#x27;, function (req,res) &#123;</span><br><span class="line">    console.log(req.body);</span><br><span class="line">    res.send(req.body);</span><br><span class="line">&#125;);</span><br><span class="line">app.listen(3000);</span><br></pre></td></tr></table></figure></li></ul><h3 id="6-2-req-bodyçš„å®ç°"><a href="#6-2-req-bodyçš„å®ç°" class="headerlink" title="6.2 req.bodyçš„å®ç°"></a>6.2 req.bodyçš„å®ç°</h3><ul><li><p>å®ç°bodyParser</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function bodyParser () &#123;</span><br><span class="line">    return function (req,res,next) &#123;</span><br><span class="line">        var result = &#x27;&#x27;;</span><br><span class="line">        req.on(&#x27;data&#x27;, function (data) &#123;</span><br><span class="line">            result+=data;</span><br><span class="line">        &#125;);</span><br><span class="line">        req.on(&#x27;end&#x27;, function () &#123;</span><br><span class="line">            try&#123;</span><br><span class="line">                req.body = JSON.parse(result);</span><br><span class="line">            &#125;catch(e)&#123;</span><br><span class="line">                req.body = require(&#x27;querystring&#x27;).parse(result);</span><br><span class="line">            &#125;</span><br><span class="line">            next();</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Express&quot;&gt;&lt;a href=&quot;#Express&quot; class=&quot;headerlink&quot; title=&quot;Express&quot;&gt;&lt;/a&gt;Express&lt;/h1&gt;&lt;p&gt;Express æ˜¯ä¸€ä¸ªç®€æ´ã€çµæ´»çš„ node.js Web åº”ç”¨å¼€å‘æ¡†æ¶, å®ƒæä¾›ä¸€ç³»åˆ—å¼ºå¤§çš„ç‰¹æ€§ï¼Œ</summary>
      
    
    
    
    <category term="æœåŠ¡ç«¯" scheme="https://lovelee.cn/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF/"/>
    
    
    <category term="nodejs" scheme="https://lovelee.cn/tags/nodejs/"/>
    
    <category term="express" scheme="https://lovelee.cn/tags/express/"/>
    
  </entry>
  
  <entry>
    <title>ES-nextä½¿ç”¨è¯´æ˜</title>
    <link href="https://lovelee.cn/2022/08/29/ES-next/"/>
    <id>https://lovelee.cn/2022/08/29/ES-next/</id>
    <published>2022-08-29T12:53:09.148Z</published>
    <updated>2022-08-27T12:56:22.509Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ç¯‡æ–‡ç« çš„å‡ºå‘ç‚¹æ˜¯ä¸ºäº†å¸®åŠ©å‰ç«¯å¼€å‘è€…ä¸²è” ES6å‰åçš„ JavaScript çŸ¥è¯†ï¼Œå¹¶ä¸”å¯ä»¥å¿«é€Ÿäº†è§£ JavaScript è¯­è¨€çš„æœ€æ–°è¿›å±•ã€‚</p><p>JavaScript åœ¨å½“ä¸‹å¤„äºç‰¹æƒåœ°ä½ï¼Œå› ä¸ºå®ƒæ˜¯å”¯ä¸€å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„è¯­è¨€ï¼Œå¹¶ä¸”æ˜¯è¢«é«˜åº¦é›†æˆå’Œä¼˜åŒ–è¿‡çš„ã€‚</p><p>JavaScript åœ¨æœªæ¥æœ‰ç€æå¥½çš„å‘å±•ç©ºé—´ï¼Œè·Ÿä¸Šå®ƒçš„å˜åŒ–ä¸ä¼šæ¯”ç°åœ¨æ›´åŠ çš„å›°éš¾ã€‚æˆ‘çš„ç›®æ ‡æ˜¯è®©ä½ èƒ½å¤Ÿå¿«é€Ÿä¸”å…¨é¢çš„äº†è§£è¿™é—¨è¯­è¨€å¯ä»¥ä½¿ç”¨çš„æ–°å†…å®¹ã€‚</p><h4 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h4><h5 id="ECMAScript-ç®€ä»‹"><a href="#ECMAScript-ç®€ä»‹" class="headerlink" title="ECMAScript ç®€ä»‹"></a>ECMAScript ç®€ä»‹</h5><h5 id="ES2015"><a href="#ES2015" class="headerlink" title="ES2015"></a>ES2015</h5><ul><li>let å’Œ const</li><li>ç®­å¤´å‡½æ•°</li><li>ç±»</li><li>é»˜è®¤å‚æ•°</li><li>æ¨¡æ¿å­—ç¬¦ä¸²</li><li>è§£æ„èµ‹å€¼</li><li>å¢å¼ºçš„å¯¹è±¡å­—é¢é‡</li><li>For-of å¾ªç¯</li><li>Promises</li><li>æ¨¡å—</li><li>String æ–°æ–¹æ³•</li><li>Object æ–°æ–¹æ³•</li><li>å±•å¼€è¿ç®—ç¬¦</li><li>Set</li><li>Map</li><li>Generators</li></ul><h5 id="ES2016"><a href="#ES2016" class="headerlink" title="ES2016"></a>ES2016</h5><ul><li>Array.prototype.includes()</li><li>æ±‚å¹‚è¿ç®—ç¬¦</li></ul><h5 id="ES2017"><a href="#ES2017" class="headerlink" title="ES2017"></a>ES2017</h5><ul><li>å­—ç¬¦ä¸²å¡«å……</li><li>Object.values()</li><li>Object.entries()</li><li>Object.getOwnPropertyDescriptors()</li><li>å°¾é€—å·</li><li>å…±äº«å†…å­˜ and åŸå­æ“ä½œ</li></ul><h5 id="ES2018"><a href="#ES2018" class="headerlink" title="ES2018"></a>ES2018</h5><ul><li>Rest/Spread Properties</li><li>Asynchronous iteration</li><li>Promise.prototype.finally()</li><li>æ­£åˆ™è¡¨è¾¾å¼æ”¹è¿›</li></ul><h5 id="ESNext"><a href="#ESNext" class="headerlink" title="ESNext"></a>ESNext</h5><ul><li>Array.prototype.{flat,flatMap}</li><li>try/catch å¯é€‰çš„å‚æ•°ç»‘å®š</li><li>Object.fromEntries()</li><li>String.prototype.{trimStart,trimEnd}</li><li>Symbol.prototype.description</li><li>JSON improvements</li><li>Well-formed JSON.stringify()</li><li>Function.prototype.toString()</li></ul><h4 id="ECMAScript-ç®€ä»‹-1"><a href="#ECMAScript-ç®€ä»‹-1" class="headerlink" title="ECMAScript ç®€ä»‹"></a>ECMAScript ç®€ä»‹</h4><p>æ¯å½“é˜…è¯» JavaScript ç›¸å…³çš„æ–‡ç« æ—¶ï¼Œæˆ‘éƒ½ä¼šç»å¸¸é‡åˆ°å¦‚ä¸‹æœ¯è¯­ï¼š ES3, ES5, ES6, ES7, ES8, ES2015, ES2016, ES2017, ECMAScript 2017, ECMAScript 2016, ECMAScript 2015 ç­‰ç­‰ï¼Œé‚£ä¹ˆå®ƒä»¬æ˜¯æŒ‡ä»£çš„æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>å®ƒä»¬éƒ½æ˜¯æŒ‡ä»£ä¸€ä¸ªåä¸º ECMAScript çš„æ ‡å‡†ã€‚</p><p>JavaScript å°±æ˜¯åŸºäºè¿™ä¸ªæ ‡å‡†å®ç°çš„ï¼ŒECMAScript ç»å¸¸ç¼©å†™ä¸º ESã€‚</p><p>é™¤äº† JavaScript ä»¥å¤–ï¼Œå…¶å®ƒåŸºäº ECMAScript å®ç°è¯­è¨€åŒ…æ‹¬ï¼š</p><ul><li>ActionScript ( Flash è„šæœ¬è¯­è¨€)ï¼Œç”±äº Adobe å°†äº 2020 å¹´æœ«åœæ­¢å¯¹ Flash çš„æ”¯æŒè€Œé€æ¸å¤±å»çƒ­åº¦ã€‚</li><li>JScript (å¾®è½¯å¼€å‘çš„è„šæœ¬è¯­è¨€),åœ¨ç¬¬ä¸€æ¬¡æµè§ˆå™¨å¤§æˆ˜æœ€æ¿€çƒˆçš„æ—¶æœŸï¼ŒJavaScript åªè¢«Netscapeæ‰€æ”¯æŒï¼Œå¾®è½¯å¿…é¡»ä¸º Internet Explorer æ„å»ºè‡ªå·±çš„è„šæœ¬è¯­è¨€ã€‚</li></ul><p>ä½†æ˜¯ç°åœ¨æµä¼ æœ€å¹¿ã€å½±å“æœ€å¤§çš„åŸºäº ES æ ‡å‡†çš„è¯­è¨€å®ç°æ— ç–‘å°±æ˜¯ JavaScriptäº†</p><p>ä¸ºå•¥è¦ç”¨è¿™ä¸ªå¥‡æ€ªçš„åå­—å‘¢ï¼ŸEcma International æ˜¯ç‘å£«æ ‡å‡†åä¼šï¼Œè´Ÿè´£åˆ¶å®šå›½é™…æ ‡å‡†ã€‚</p><p>JavaScript è¢«åˆ›å»ºä»¥åï¼Œç»ç”± Netscape å’Œ Sun Microsystems å…¬å¸æäº¤ç»™æ¬§æ´²è®¡ç®—æœºåˆ¶é€ å•†åä¼šè¿›è¡Œæ ‡å‡†åŒ–ï¼Œè¢«é‡‡çº³çš„ ECMA-262 åˆ«åå« ECMAScriptã€‚</p><blockquote><p>This press release by Netscape and Sun Microsystems (the maker of Java) might help figure out the name choice, which might include legal and branding issues by Microsoft which was in the committee, according to Wikipedia.</p></blockquote><p>IE9 ä¹‹åå¾®è½¯çš„æµè§ˆå™¨ä¸­å°±çœ‹ä¸åˆ°å¯¹ JScript è¿™ä¸ªå‘½åçš„å¼•ç”¨äº†ï¼Œå–è€Œä»£ä¹‹éƒ½ç»Ÿç§°ä¸º JavaScriptã€‚</p><p>å› æ­¤ï¼Œæˆªè‡³201xï¼ŒJavaScript æˆä¸ºæœ€æµè¡Œçš„åŸºäº ECMAScript è§„èŒƒå®ç°çš„è¯­è¨€ã€‚</p><h5 id="ECMAScript-å½“å‰çš„ç‰ˆæœ¬ã€‚"><a href="#ECMAScript-å½“å‰çš„ç‰ˆæœ¬ã€‚" class="headerlink" title="ECMAScript å½“å‰çš„ç‰ˆæœ¬ã€‚"></a>ECMAScript å½“å‰çš„ç‰ˆæœ¬ã€‚</h5><p>ç›®å‰çš„æœ€æ–°çš„ ECMAScript ç‰ˆæœ¬æ˜¯ ES2018ã€‚</p><p>äº 2018 å¹´ 6 æœˆå‘å¸ƒã€‚</p><h5 id="TC39-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#TC39-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="TC39 æ˜¯ä»€ä¹ˆï¼Ÿ"></a>TC39 æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>TC39ï¼ˆTechnical Committee 39ï¼‰æ˜¯ä¸€ä¸ªæ¨åŠ¨ JavaScript å‘å±•çš„å§”å‘˜ä¼šã€‚</p><p>TC39çš„æˆå‘˜åŒ…æ‹¬å„ä¸ªä¸»æµæµè§ˆå™¨å‚å•†ä»¥åŠä¸šåŠ¡ä¸æµè§ˆå™¨ç´§å¯†ç›¸è¿çš„å…¬å¸ï¼Œå…¶ä¸­åŒ…æ‹¬ Mozillaï¼ŒGoogle ï¼ŒFacebookï¼ŒAppleï¼ŒMicrosoftï¼ŒIntelï¼ŒPayPalï¼ŒSalesForceç­‰ã€‚</p><p>æ¯ä¸ªæ ‡å‡†ç‰ˆæœ¬ææ¡ˆéƒ½å¿…é¡»ç»è¿‡å››ä¸ªä¸åŒçš„é˜¶æ®µï¼Œè¿™é‡Œæœ‰è¯¦ç»†çš„è§£é‡Šã€‚</p><h5 id="ES-Versions"><a href="#ES-Versions" class="headerlink" title="ES Versions"></a>ES Versions</h5><p>ä»¤æˆ‘è´¹è§£çš„æ˜¯ ES ç‰ˆæœ¬çš„å‘½åä¾æ®æœ‰æ—¶æ ¹æ®è¿­ä»£çš„ç‰ˆæœ¬å·ï¼Œæœ‰æ—¶å´æ ¹æ®å¹´ä»½æ¥è¿›è¡Œå‘½åã€‚è€Œè¿™ä¸ªå‘½åçš„ä¸ç¡®å®šæ€§åˆä½¿å¾—äººä»¬æ›´åŠ å®¹æ˜“æ··æ·† JS/ES è¿™ä¸ªä¸¤ä¸ªæ¦‚å¿µğŸ˜„ã€‚</p><p>åœ¨ ES2015 ä¹‹å‰ï¼ŒECMAScript å„ä¸ªç‰ˆæœ¬çš„å‘½åè§„èŒƒé€šå¸¸ä¸è·Ÿç€æ ‡å‡†çš„ç‰ˆæœ¬æ›´æ–°ä¿æŒä¸€è‡´ã€‚å› æ­¤ï¼Œ2009å¹´ ECMAScript è§„èŒƒæ›´æ–°ä»¥åçš„çš„æ­£å¼ç‰ˆæœ¬æ˜¯ ES5ã€‚</p><blockquote><p>Why does this happen? During the process that led to ES2015, the name was changed from ES6 to ES2015, but since this was done late, people still referenced it as ES6, and the community has not left the edition naming behindâ€Šâ€”â€Šthe world is still calling ES releases by edition number.</p></blockquote><p>ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™ä¸€åˆ‡ï¼Ÿåœ¨ES2015è¯ç”Ÿçš„è¿‡ç¨‹ä¸­ï¼Œåç§°ç”±ES6æ›´æ”¹ä¸ºES2015ï¼Œä½†ç”±äºæœ€ç»ˆå®Œæˆå¤ªæ™šï¼Œäººä»¬ä»ç„¶ç§°å…¶ä¸ºES6ï¼Œç¤¾åŒºä¹Ÿæ²¡æœ‰å°†ç‰ˆæœ¬å·å®Œå…¨æŠ›ä¹‹äºå â€” ä¸–ç•Œä»ç„¶ä½¿ç”¨ ES æ¥å®šä¹‰ç‰ˆæœ¬å·ã€‚</p><p>ä¸‹å›¾æ¯”è¾ƒæ¸…æ™°çš„å±•ç¤ºäº†ç‰ˆæœ¬å·ä¸å¹´ä»½çš„å…³è”:</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/meG6Vo0Meviac0Jv4WVAlibeaSBib1Hh1Y019JXyUEnB5HXEdoX0pA7ibBnpNH5WNnYHqWoPcA84SZSicwkxV2poaeg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥æ·±å…¥äº†è§£ JavaScript è‡ª ES5 ä»¥æ¥å¢åŠ çš„ç‰¹æ€§ã€‚</p><h4 id="letå’Œconst"><a href="#letå’Œconst" class="headerlink" title="letå’Œconst"></a>letå’Œconst</h4><p>ES2015 ä¹‹å‰, var æ˜¯å”¯ä¸€å¯ä»¥ç”¨æ¥å£°æ˜å˜é‡çš„è¯­å¥ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var a = 0</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¯­å¥å¦‚æœä½ é—æ¼äº† varï¼Œé‚£ä¹ˆä½ ä¼šæŠŠè¿™ä¸ªå€¼ï¼ˆ0ï¼‰èµ‹ç»™ä¸€ä¸ªæœªå£°æ˜çš„å˜é‡ï¼Œå…¶ä¸­å£°æ˜å’Œæœªå£°æ˜å˜é‡ä¹‹é—´å­˜åœ¨ä¸€äº›å·®å¼‚ã€‚</p><p>åœ¨ç°ä»£æµè§ˆå™¨å¼€å¯ä¸¥æ ¼æ¨¡å¼æ—¶ï¼Œç»™æœªå£°æ˜çš„å˜é‡èµ‹å€¼ä¼šæŠ›å‡º ReferenceError å¼‚å¸¸ï¼Œåœ¨è¾ƒè€çš„æµè§ˆå™¨ï¼ˆæˆ–è€…ç¦ç”¨ä¸¥æ ¼æ¨¡å¼ï¼‰çš„æƒ…å†µä¸‹ï¼Œæœªå£°æ˜çš„å˜é‡åœ¨æ‰§è¡Œèµ‹å€¼æ“ä½œæ—¶ä¼šéšå¼çš„å˜ä¸ºå…¨å±€å¯¹è±¡çš„å±æ€§ã€‚</p><p>å½“ä½ å£°æ˜ä¸€ä¸ªå˜é‡å´æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–ï¼Œé‚£ä¹ˆå®ƒçš„å€¼ç›´åˆ°ä½ å¯¹å®ƒè¿›è¡Œèµ‹å€¼æ“ä½œä¹‹å‰éƒ½æ˜¯ undefined ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var a //typeof a === &#x27;undefined&#x27;</span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥å¯¹ä¸€ä¸ªå˜é‡è¿›è¡Œå¤šæ¬¡é‡æ–°å£°æ˜ï¼Œå¹¶è¦†ç›–å®ƒï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var a = 1</span><br><span class="line">var a = 2</span><br></pre></td></tr></table></figure><p>ä½ ä¹Ÿå¯ä»¥åœ¨ä¸€æ¡å£°æ˜è¯­å¥ä¸­ä¸€æ¬¡å£°æ˜å¤šä¸ªå˜é‡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var a = 1, b = 2</span><br></pre></td></tr></table></figure><p>ä½œç”¨åŸŸæ˜¯å˜é‡å¯è®¿é—®çš„ä»£ç éƒ¨åˆ†ã€‚</p><p>åœ¨å‡½æ•°ä¹‹å¤–ç”¨ var å£°æ˜çš„ä¼šåˆ†é…ç»™å…¨å±€å¯¹è±¡ï¼Œè¿™ç§å˜é‡å¯ä»¥åœ¨å…¨å±€ä½œç”¨åŸŸä¸­è¢«è®¿é—®åˆ°ã€‚è€Œåœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡åªèƒ½åœ¨å‡½æ•°å±€éƒ¨ä½œç”¨åŸŸè¢«è®¿é—®åˆ°ï¼Œè¿™ç±»ä¼¼äºå‡½æ•°å‚æ•°ã€‚</p><p>åœ¨å‡½æ•°ä¸­å®šä¹‰çš„å±€éƒ¨å˜é‡åå¦‚ä½•è·Ÿå…¨å±€å˜é‡é‡åï¼Œé‚£ä¹ˆå±€éƒ¨å˜é‡çš„ä¼˜å…ˆçº§æ›´é«˜ï¼Œåœ¨å‡½æ•°å†…æ— æ³•è®¿é—®åˆ°åŒåçš„å…¨å±€å˜é‡ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œvar æ˜¯æ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼ˆæ ‡è¯†ç¬¦æ˜¯ä¸€å¯¹èŠ±æ‹¬å·ï¼‰çš„ï¼Œä½†æ˜¯ var æ˜¯æœ‰å‡½æ•°ä½œç”¨åŸŸçš„ï¼Œæ‰€ä»¥åœ¨æ–°åˆ›å»ºçš„å—çº§ä½œç”¨åŸŸæˆ–è€…æ˜¯å‡½æ•°ä½œç”¨åŸŸé‡Œé¢å£°æ˜å˜é‡ä¼šè¦†ç›–å…¨å±€åŒåå˜é‡ï¼Œå› ä¸º var åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹æ²¡æœ‰åˆ›å»ºæ–°çš„ä½œç”¨åŸŸã€‚</p><p>åœ¨å‡½æ•°å†…éƒ¨ï¼Œå…¶ä¸­å®šä¹‰çš„ä»»ä½•å˜é‡åœ¨æ‰€æœ‰å‡½æ•°ä»£ç ä¸­éƒ½æ˜¯å¯è§çš„ï¼Œå› ä¸ºJavaScriptåœ¨æ‰§è¡Œä»£ç ä¹‹å‰å®é™…ä¸Šå°†æ‰€æœ‰å˜é‡éƒ½ç§»åˆ°äº†é¡¶å±‚ï¼ˆè¢«ç§°ä¸ºæ‚¬æŒ‚çš„ä¸œè¥¿ï¼‰ã€‚ åœ¨å‡½æ•°çš„å†…éƒ¨å®šä¹‰çš„å˜é‡åœ¨æ•´ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­éƒ½æ˜¯å¯è§ï¼ˆå¯è®¿é—®ï¼‰ï¼Œå³ä½¿å˜é‡æ˜¯åœ¨å‡½æ•°ä½“æœ«å°¾è¢«å£°æ˜ï¼Œä½†æ˜¯ä»ç„¶å¯ä»¥å†å‡½æ•°ä½“å¼€å¤´éƒ¨åˆ†è¢«å¼•ç”¨ï¼Œå› ä¸º JavaScriptå­˜åœ¨å˜é‡æå‡æœºåˆ¶ã€‚ä¸ºé¿å…æ··æ·†ï¼Œè¯·åœ¨å‡½æ•°å¼€å¤´å£°æ˜å˜é‡ï¼Œå…»æˆè‰¯å¥½çš„ç¼–ç è§„èŒƒã€‚</p><h4 id="Using-let"><a href="#Using-let" class="headerlink" title="Using let"></a>Using let</h4><p>let æ˜¯ES2015ä¸­å¼•å…¥çš„æ–°åŠŸèƒ½ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯å…·æœ‰å—çº§ä½œç”¨åŸŸçš„ var ã€‚å®ƒå¯ä»¥è¢«å½“å‰ä½œç”¨åŸŸï¼ˆå‡½æ•°ä»¥åŠå—çº§ä½œç”¨åŸŸï¼‰ä»¥åŠå­çº§ä½œç”¨åŸŸè®¿é—®åˆ°ã€‚</p><p>ç°ä»£ JavaScript å¼€å‘è€…åœ¨ let å’Œ var çš„é€‰æ‹©ä¸­å¯èƒ½ä¼šæ›´å€¾å‘äºå‰è€…ã€‚</p><blockquote><p>å¦‚æœ let çœ‹èµ·æ¥æ˜¯ä¸€ä¸ªå¾ˆæŠ½è±¡çš„æœ¯è¯­ï¼Œå½“ä½ é˜…è¯»åˆ° let color = â€˜redâ€™ è¿™ä¸€æ®µï¼Œå› ä¸ºä½¿ç”¨ let å®šä¹‰äº†color ä¸ºçº¢è‰²ï¼Œé‚£ä¹ˆè¿™ä¸€åˆ‡å°±å˜çš„æœ‰æ„ä¹‰äº†ã€‚</p></blockquote><p>åœ¨ä»»ä½•å‡½æ•°ä¹‹å¤–ç”¨ let å£°æ˜å˜é‡ï¼Œå’Œ varç›¸åçš„æ˜¯ å®ƒå¹¶ä¸ä¼šåˆ›å»ºå…¨å±€å˜é‡ã€‚</p><h4 id="Using-const"><a href="#Using-const" class="headerlink" title="Using const"></a>Using const</h4><p>ä½¿ç”¨å˜é‡ var æˆ– let å£°æ˜çš„å˜é‡å¯ä»¥è¢«é‡æ–°èµ‹å€¼ã€‚ ä½¿ç”¨ const å£°æ˜çš„å˜é‡ä¸€ç»åˆå§‹åŒ–ï¼Œå®ƒçš„å€¼å°±æ°¸è¿œä¸èƒ½å†æ”¹å˜ï¼Œå³ä¸å¯é‡æ–°è¢«èµ‹å€¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const a = &#x27;test&#x27;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¸èƒ½å†ä¸º a è¿›è¡Œèµ‹å€¼æ“ä½œã€‚ç„¶è€Œï¼Œa å¦‚æœå®ƒæ˜¯ä¸€ä¸ªå…·æœ‰å±æ€§æˆ–è€…æ–¹æ³•çš„å¯¹è±¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ”¹å˜å®ƒçš„å±æ€§æˆ–è€…æ–¹æ³•ã€‚</p><p>const å¹¶ä¸æ„å‘³ç€å…·æœ‰ä¸å¯å˜æ€§ï¼Œåªæ˜¯ä¿è¯ç”¨ const å£°æ˜çš„å˜é‡çš„å¼•ç”¨åœ°å€ä¸è¢«å˜æ›´ã€‚</p><p>ç±»ä¼¼äº letï¼Œconst ä¹Ÿå…·æœ‰å—çº§ä½œç”¨åŸŸã€‚</p><p>ç°ä»£ JavaScript å¼€å‘è€…åœ¨é‡åˆ°ä¸ä¼šè¿›è¡ŒäºŒæ¬¡èµ‹å€¼çš„å˜é‡å£°æ˜æ—¶ï¼Œåº”è¯¥å°½é‡ä½¿ç”¨ constã€‚</p><h4 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h4><p>ç®­å¤´å‡½æ•°çš„å¼•å…¥æå¤§çš„æ”¹å˜äº†ä»£ç çš„ä¹¦å†™é£æ ¼å’Œä¸€äº›å·¥ä½œæœºåˆ¶ã€‚</p><p>åœ¨æˆ‘çœ‹æ¥ï¼Œç®­å¤´å‡½æ•°å¾ˆå—å¼€å‘è€…æ¬¢è¿ï¼Œç°åœ¨å¾ˆå°‘åœ¨æ¯”è¾ƒæ–°çš„ä»£ç åº“ä¸­çœ‹åˆ° function å…³é”®å­—äº†ï¼Œè™½ç„¶å®ƒå¹¶æœªè¢«åºŸå¼ƒã€‚</p><p>ç®­å¤´å‡½æ•°çœ‹èµ·æ¥ä¼šæ›´åŠ çš„ç®€æ´ï¼Œå› ä¸ºå®ƒå…è®¸ä½ ä½¿ç”¨æ›´çŸ­çš„è¯­æ³•æ¥ä¹¦å†™å‡½æ•°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const myFunction = function() &#123;</span><br><span class="line">  //...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const myFunction = () =&gt; &#123;</span><br><span class="line">  //...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœå‡½æ•°ä½“ä¸­åªåŒ…å«ä¸€æ¡è¯­å¥ï¼Œä½ ç”šè‡³å¯ä»¥çœç•¥å¤§æ‹¬å·å¹¶ç›´æ¥ä¹¦å†™è¿™æ¡è¯­å¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const myFunction = () =&gt; doSomething()</span><br></pre></td></tr></table></figure><p>å‚æ•°åœ¨æ‹¬å·ä¸­ä¼ é€’ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const myFunction = (param1, param2) =&gt; doSomething(param1, param2)</span><br></pre></td></tr></table></figure><p>å¦‚æœè¯¥å‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå¯ä»¥çœç•¥æ‰æ‹¬å·ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const myFunction = param =&gt; doSomething(param)</span><br></pre></td></tr></table></figure><p>ç”±äºè¿™ç§ç®€çŸ­çš„è¯­æ³•ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ›´ä¾¿æ·çš„ä½¿ç”¨æ¯”è¾ƒç®€çŸ­çš„å‡½æ•°</p><h4 id="éšå¼è¿”å›"><a href="#éšå¼è¿”å›" class="headerlink" title="éšå¼è¿”å›"></a>éšå¼è¿”å›</h4><p>ç®­å¤´å‡½æ•°æ”¯æŒéšå¼è¿”å›ï¼šå¯ä»¥æ­£å¸¸çš„ return ä¸€ä¸ªè¿”å›å€¼ä½†æ˜¯å¯ä»¥ä¸ä½¿ç”¨ return å…³é”®å­—ã€‚</p><p>éšå¼è¿”å›åªåœ¨å‡½æ•°ä½“å†…åªåŒ…å«ä¸€æ¡è¯­å¥çš„æƒ…å†µä¸‹ç”Ÿæ•ˆï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const myFunction = () =&gt; &#x27;test&#x27;</span><br><span class="line">myFunction() //&#x27;test&#x27;</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„ä¸€ç§æƒ…å†µï¼Œå½“è¿”å›ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œè®°å¾—å°†å¤§æ‹¬å·æ‹¬åœ¨æ‹¬å·ä¸­ä»¥é¿å…äº§ç”Ÿæ­§ä¹‰ï¼Œè¯¯å°†å…¶ï¼ˆå¤§æ‹¬å·ï¼‰è§£æä¸ºå‡½æ•°ä½“çš„å¤§æ‹¬å·ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const myFunction = () =&gt; (&#123; value: &#x27;test&#x27; &#125;)</span><br><span class="line">myFunction() //&#123;value: &#x27;test&#x27;&#125;</span><br></pre></td></tr></table></figure><h4 id="ç®­å¤´å‡½æ•°ä¸­çš„-this"><a href="#ç®­å¤´å‡½æ•°ä¸­çš„-this" class="headerlink" title="ç®­å¤´å‡½æ•°ä¸­çš„ this"></a>ç®­å¤´å‡½æ•°ä¸­çš„ this</h4><p>this å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆéš¾æŒæ¡çš„æ¦‚å¿µï¼Œå› ä¸ºå®ƒä¼šæ ¹æ®ä¸Šä¸‹æ–‡è€Œè¿›è¡Œå˜åŒ–ï¼Œå¹¶ä¸”ä¼šåœ¨ä¸åŒçš„ JavaScriptçš„æ¨¡å¼ï¼ˆæ˜¯å¦ä¸ºä¸¥æ ¼æ¨¡å¼ï¼‰ä¸‹è¡¨ç°å‡ºå·®å¼‚ã€‚</p><p>ç†è§£ this è¿™ä¸ªæ¦‚å¿µå¯¹äºç®­å¤´å‡½æ•°çš„ä½¿ç”¨å¾ˆé‡è¦ï¼Œå› ä¸ºä¸å¸¸è§„å‡½æ•°ç›¸æ¯”ï¼Œç®­å¤´å‡½æ•°çš„è¡¨ç°éå¸¸ä¸åŒã€‚</p><p>å¯¹è±¡çš„æ–¹æ³•ä¸ºå¸¸è§„å‡½æ•°æ—¶ï¼Œæ–¹æ³•ä¸­çš„thisæŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œå› æ­¤å¯ä»¥è¿™æ ·åšï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const car = &#123;</span><br><span class="line">  model: &#x27;Fiesta&#x27;,</span><br><span class="line">  manufacturer: &#x27;Ford&#x27;,</span><br><span class="line">  fullName: function() &#123;</span><br><span class="line">    return `$&#123;this.manufacturer&#125; $&#123;this.model&#125;`</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ car.fullName() ä¼šè¿”å› â€œFord Fiestaâ€ã€‚</p><p>å¦‚æœä¸Šè¿°æ–¹æ³•ä½¿ç”¨æ˜¯æ˜¯ç®­å¤´å‡½æ•°ï¼Œç”±äºç®­å¤´ä¸­çš„ this çš„ä½œç”¨åŸŸç»§æ‰¿è‡ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œç®­å¤´å‡½æ•°è‡ªèº«ä¸ç»‘å®š thisï¼Œå› æ­¤ this çš„å€¼å°†åœ¨è°ƒç”¨å †æ ˆä¸­æŸ¥æ‰¾ï¼Œå› æ­¤åœ¨æ­¤ä»£ç  car.fullName() ä¸­ä¸ä¼šè¿”å›å¸¸è§„å‡½æ•°é‚£æ ·çš„ç»“æœï¼Œå®é™…ä¼šè¿”å›å­—ç¬¦ä¸² â€œundefined undefinedâ€ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const car = &#123;</span><br><span class="line">  model: &#x27;Fiesta&#x27;,</span><br><span class="line">  manufacturer: &#x27;Ford&#x27;,</span><br><span class="line">  fullName: () =&gt; &#123;</span><br><span class="line">    return `$&#123;this.manufacturer&#125; $&#123;this.model&#125;`</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å› æ­¤ï¼Œç®­å¤´å‡½æ•°ä¸é€‚åˆä½œä¸ºå¯¹è±¡æ–¹æ³•ã€‚</p><p>åŒæ ·ï¼Œç®­å¤´å‡½æ•°ä¹Ÿä¸é€‚åˆä½¿ç”¨åœ¨ä½œä¸ºåˆ›å»ºæ„é€ å‡½æ•°ï¼Œå› ä¸ºåœ¨å®ä¾‹åŒ–å¯¹è±¡æ—¶ä¼šæŠ›å‡º TypeErrorã€‚</p><p>æ‰€ä»¥åœ¨ä¸éœ€è¦åŠ¨æ€ä¸Šä¸‹æ–‡æ—¶è¯·ä½¿ç”¨å¸¸è§„å‡½æ•°ã€‚</p><p>å½“ç„¶ï¼Œåœ¨äº‹ä»¶ç›‘å¬å™¨ä¸Šä½¿ç”¨ç®­å¤´å‡½æ•°ä¹Ÿä¼šå­˜åœ¨é—®é¢˜ã€‚å› ä¸º DOM äº‹ä»¶ä¾¦å¬å™¨ä¼šè‡ªåŠ¨å°† this ä¸ç›®æ ‡å…ƒç´ ç»‘å®šï¼Œå¦‚æœè¯¥äº‹ä»¶å¤„ç†ç¨‹åºçš„é€»è¾‘ä¾èµ– thisï¼Œé‚£ä¹ˆéœ€è¦å¸¸è§„å‡½æ•°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const link = document.querySelector(&#x27;#link&#x27;)</span><br><span class="line">link.addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">  // this === window</span><br><span class="line">&#125;)</span><br><span class="line">const link = document.querySelector(&#x27;#link&#x27;)</span><br><span class="line">link.addEventListener(&#x27;click&#x27;, function() &#123;</span><br><span class="line">  // this === link</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="Classesç±»"><a href="#Classesç±»" class="headerlink" title="Classesç±»"></a>Classesç±»</h4><p>JavaScript å®ç°ç»§æ‰¿çš„æ–¹å¼æ¯”è¾ƒç½•è§ï¼šåŸå‹ç»§æ‰¿ã€‚åŸå‹ç»§æ‰¿è™½ç„¶åœ¨æˆ‘çœ‹æ¥å¾ˆæ£’ï¼Œä½†ä¸å…¶å®ƒå¤§å¤šæ•°æµè¡Œçš„ç¼–ç¨‹è¯­è¨€çš„ç»§æ‰¿å®ç°æœºåˆ¶ä¸åŒï¼Œåè€…æ˜¯åŸºäºç±»çš„ã€‚</p><p>å› æ­¤ Javaã€Python æˆ–å…¶å®ƒè¯­è¨€çš„å¼€å‘è€…å¾ˆéš¾ç†è§£åŸå‹ç»§æ‰¿çš„æ–¹å¼ï¼Œå› æ­¤ ECMAScript å§”å‘˜ä¼šå†³å®šåœ¨åŸå‹ç»§æ‰¿ä¹‹ä¸Šå®ç° class çš„è¯­æ³•ç³–ï¼Œè¿™æ ·ä¾¿äºè®©å…¶å®ƒåŸºäºç±»å®ç°ç»§æ‰¿çš„è¯­è¨€çš„å¼€å‘è€…æ›´å¥½çš„ç†è§£ JavaScript ä»£ç ã€‚</p><p>æ³¨æ„ï¼šclass å¹¶æ²¡æœ‰å¯¹ JavaScript åº•å±‚åšä¿®æ”¹ï¼Œä½ ä»ç„¶å¯ä»¥ç›´æ¥è®¿é—®å¯¹è±¡åŸå‹ã€‚</p><h5 id="class-å®šä¹‰"><a href="#class-å®šä¹‰" class="headerlink" title="class å®šä¹‰"></a>class å®šä¹‰</h5><p>å¦‚ä¸‹æ˜¯ä¸€ä¸ª class çš„ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this.name = name</span><br><span class="line">  &#125;</span><br><span class="line">  hello() &#123;</span><br><span class="line">    return &#x27;Hello, I am &#x27; + this.name + &#x27;.&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>class å…·æœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ new ClassIdentifier() æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚</p><p>åˆå§‹åŒ–å¯¹è±¡æ—¶ï¼Œè°ƒç”¨ constructoræ–¹æ³•ï¼Œå¹¶å°†å‚æ•°ä¼ é€’ç»™æ­¤æ–¹æ³•ã€‚</p><p>ç±»å£°æ˜è¯­å¥ä¸­ä¹Ÿå¯ä»¥å¢åŠ ç±»éœ€è¦çš„ä¸€äº›åŸå‹æ–¹æ³•ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ hello æ˜¯ Person ç±»çš„ä¸€ä¸ªåŸå‹æ–¹æ³•ï¼Œå¯ä»¥åœ¨è¿™ä¸ªç±»çš„å¯¹è±¡å®ä¾‹ä¸Šè°ƒç”¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const flavio = new Person(&#x27;Flavio&#x27;)</span><br><span class="line">flavio.hello()</span><br></pre></td></tr></table></figure><h4 id="Class-ç»§æ‰¿"><a href="#Class-ç»§æ‰¿" class="headerlink" title="Class ç»§æ‰¿"></a>Class ç»§æ‰¿</h4><p>ä¸€ä¸ªå­ç±»å¯ä»¥ extend å¦ä¸€ä¸ªç±»ï¼Œé€šè¿‡å­ç±»å®ä¾‹åŒ–å‡ºæ¥çš„å¯¹è±¡å¯ä»¥ç»§æ‰¿è¿™ä¸¤ä¸ªç±»çš„æ‰€æœ‰æ–¹æ³•ã€‚</p><p>å¦‚æœå­ç±»ä¸­çš„æ–¹æ³•ä¸çˆ¶ç±»ä¸­çš„æ–¹æ³•åé‡å¤ï¼Œé‚£ä¹ˆå­ç±»ä¸­çš„åŒåæ–¹æ³•ä¼˜å…ˆçº§æ›´é«˜ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class Programmer extends Person &#123;</span><br><span class="line">  hello() &#123;</span><br><span class="line">    return super.hello() + &#x27; I am a programmer.&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const flavio = new Programmer(&#x27;Flavio&#x27;)</span><br><span class="line">flavio.hello()</span><br></pre></td></tr></table></figure><p>(ä¸Šè¿°ä»£ç ä¼šæ‰“å°å‡ºï¼šâ€œHello, I am Flavio. I am a programmer.â€)</p><p>ç±»æ²¡æœ‰æ˜¾ç¤ºçš„ç±»å˜é‡å£°æ˜ï¼Œä½†ä½ å¿…é¡»åœ¨åˆå§‹åŒ–æ„é€ å‡½æ•° constructor ä¸­å»åˆå§‹åŒ–ç±»æˆå‘˜å˜é‡ã€‚</p><p>åœ¨å­ç±»ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡è°ƒç”¨super()å¼•ç”¨çˆ¶ç±»ã€‚</p><h4 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h4><p>åœ¨ç±»ä¸­ï¼Œé€šå¸¸ä¼šæŠŠæ–¹æ³•ç›´æ¥æŒ‚è½½åˆ°å®ä¾‹å¯¹è±¡ä¸Šï¼Œç›´æ¥åœ¨å®ä¾‹å¯¹è±¡ä¸Šè°ƒç”¨ã€‚</p><p>è€Œé™æ€æ–¹æ³•åˆ™æ˜¯ç›´æ¥ä½¿ç”¨ç±»åæ¥è°ƒç”¨ï¼Œè€Œä¸æ˜¯é€šè¿‡å¯¹è±¡å®ä¾‹è°ƒç”¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  static genericHello() &#123;</span><br><span class="line">    return &#x27;Hello&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">Person.genericHello() //Hello</span><br></pre></td></tr></table></figure><h4 id="ç§æœ‰æ–¹æ³•"><a href="#ç§æœ‰æ–¹æ³•" class="headerlink" title="ç§æœ‰æ–¹æ³•"></a>ç§æœ‰æ–¹æ³•</h4><p>JavaScript æ²¡æœ‰å†…ç½®çœŸæ­£æ„ä¹‰ä¸Šçš„å—ä¿æŠ¤çš„ç§æœ‰æ–¹æ³•ã€‚</p><p>ç¤¾åŒºæœ‰è§£å†³æ–¹æ³•ï¼Œä½†æˆ‘ä¸ä¼šåœ¨è¿™é‡Œåšè®²è§£ã€‚</p><h5 id="Getters-å’Œ-setters"><a href="#Getters-å’Œ-setters" class="headerlink" title="Getters å’Œ setters"></a>Getters å’Œ setters</h5><p>ä½ å¯ä»¥é€šè¿‡å¢åŠ æ–¹æ³• å‰ç¼€ get æˆ–è€… set åˆ›å»ºä¸€ä¸ª getter å’Œ setterï¼Œgetter å’Œ setterä¼šåœ¨ä½ å»è·å–ç‰¹å®šå€¼æˆ–è€…ä¿®æ”¹ç‰¹å®šå€¼çš„æ—¶å€™æ‰§è¡Œ get æˆ–è€… setå†…çš„ç›¸å…³æ–¹æ³•ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this._name = name</span><br><span class="line">  &#125;</span><br><span class="line">  set name(value) &#123;</span><br><span class="line">    this._name = value</span><br><span class="line">  &#125;</span><br><span class="line">  get name() &#123;</span><br><span class="line">    return this._name</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ åªæœ‰ getterï¼Œè¯¥å±æ€§æ— æ³•è¢«è®¾ç½®ï¼Œå¹¶ä¸”è®¾ç½®æ­¤å±æ€§çš„æ“ä½œéƒ½ä¼šè¢«å¿½ç•¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this._name = name</span><br><span class="line">  &#125;</span><br><span class="line">  get name() &#123;</span><br><span class="line">    return this._name</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ åªæœ‰ä¸€ä¸ª setterï¼Œåˆ™å¯ä»¥æ›´æ”¹è¯¥å€¼ï¼Œä½†ä¸èƒ½ä»å¤–éƒ¨è®¿é—®å®ƒï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this._name = name</span><br><span class="line">  &#125;</span><br><span class="line">  set name(value) &#123;</span><br><span class="line">    this._name = value</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="é»˜è®¤å‚æ•°"><a href="#é»˜è®¤å‚æ•°" class="headerlink" title="é»˜è®¤å‚æ•°"></a>é»˜è®¤å‚æ•°</h5><p>å‡½æ•° doSomething æ¥æ”¶ä¸€ä¸ª param1 å‚æ•°ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const doSomething = (param1) =&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥ç»™ param1 è®¾å®šé»˜è®¤å€¼ï¼Œå¦‚æœåœ¨è°ƒç”¨å‡½æ•°æ—¶æœªä¼ å…¥å‚æ•°ï¼Œé‚£ä¹ˆè¯¥å‚æ•°è‡ªåŠ¨è®¾å®šæœªé»˜è®¤å€¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const doSomething = (param1 = &#x27;test&#x27;) =&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œè¿™ç§æœºåˆ¶åŒæ ·é€‚ç”¨äºå¤šä¸ªå‚æ•°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const doSomething = (param1 = &#x27;test&#x27;, param2 = &#x27;test2&#x27;) =&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‡å¦‚ä½ çš„å‡½æ•°æ˜¯ä¸€ä¸ªå…·æœ‰ç‰¹å®šå±æ€§çš„å¯¹è±¡è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ</p><p>æ›¾å‡ ä½•æ—¶ï¼Œå¦‚æœæˆ‘ä»¬å¿…é¡»è¦å–ä¸€ä¸ªå¯¹è±¡çš„ç‰¹å®šå±æ€§å€¼ï¼Œä¸ºäº†åšå…¼å®¹å¤„ç†ï¼ˆå¯¹è±¡æ ¼å¼ä¸æ­£ç¡®ï¼‰ï¼Œä½ å¿…é¡»åœ¨å‡½æ•°ä¸­æ·»åŠ ä¸€äº›ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const colorize = (options) =&gt; &#123;</span><br><span class="line">  if (!options) &#123;</span><br><span class="line">    options = &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">  const color = (&#x27;color&#x27; in options) ? options.color : &#x27;yellow&#x27;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡è§£æ„ï¼Œä½ å¯ä»¥ç»™ç‰¹å®šå±æ€§æä¾›é»˜è®¤å€¼ï¼Œå¦‚æ­¤å¯ä»¥å¤§å¤§ç®€åŒ–ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const colorize = (&#123; color = &#x27;yellow&#x27; &#125;) =&gt; &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœåœ¨è°ƒç”¨ colorize å‡½æ•°æ—¶æ²¡æœ‰ä¼ é€’ä»»ä½•å¯¹è±¡ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥å¾—åˆ°ä¸€ä¸ªé»˜è®¤å¯¹è±¡ä½œä¸ºå‚æ•°ä»¥ä¾›ä½¿ç”¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const spin = (&#123; color = &#x27;yellow&#x27; &#125; = &#123;&#125;) =&gt; &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ¨¡æ¿å­—ç¬¦ä¸²"><a href="#æ¨¡æ¿å­—ç¬¦ä¸²" class="headerlink" title="æ¨¡æ¿å­—ç¬¦ä¸²"></a>æ¨¡æ¿å­—ç¬¦ä¸²</h4><p>æ¨¡æ¿å­—ç¬¦ä¸²ä¸åŒäº ES5 ä»¥å‰çš„ç‰ˆæœ¬ï¼Œä½ å¯ä»¥ç”¨æ–°é¢–çš„æ–¹å¼ä½¿ç”¨å­—ç¬¦ä¸²ã€‚</p><p>è¿™ä¸ªè¯­æ³•çœ‹èµ·æ¥éå¸¸ç®€ä¾¿ï¼Œåªéœ€è¦ä½¿ç”¨ä¸€ä¸ªåå¼•å·æ›¿æ¢æ‰å•å¼•å·æˆ–åŒå¼•å·ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const a_string = `something`</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç”¨æ³•æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå› ä¸ºå®ƒæä¾›äº†è®¸å¤šæ™®é€šå­—ç¬¦ä¸²æ‰€æ²¡æœ‰çš„åŠŸèƒ½ï¼Œå¦‚ä¸‹ï¼š</p><ul><li>å®ƒä¸ºå®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²æä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„è¯­æ³•</li><li>å®ƒæä¾›äº†ä¸€ç§åœ¨å­—ç¬¦ä¸²ä¸­æ’å…¥å˜é‡å’Œè¡¨è¾¾å¼çš„ç®€å•æ–¹æ³•</li><li>å®ƒå…è®¸æ‚¨åˆ›å»ºå¸¦æœ‰æ¨¡æ¿æ ‡ç­¾çš„DSL (DSLæ„å‘³ç€é¢†åŸŸç‰¹å®šè¯­è¨€ï¼Œä¾‹å¦‚ï¼šå°±å¦‚åŒåœ¨ React ä¸­ä½¿ç”¨ styled-components å®šä¹‰ä½ ç»„ä»¶çš„ CSS ä¸€æ ·)</li></ul><p>ä¸‹é¢è®©æˆ‘ä»¬æ·±å…¥æ¯ä¸ªåŠŸèƒ½çš„ç»†èŠ‚ã€‚</p><h5 id="å¤šè¡Œå­—ç¬¦ä¸²"><a href="#å¤šè¡Œå­—ç¬¦ä¸²" class="headerlink" title="å¤šè¡Œå­—ç¬¦ä¸²"></a>å¤šè¡Œå­—ç¬¦ä¸²</h5><p>åœ¨ ES6 æ ‡å‡†ä¹‹å‰ï¼Œåˆ›å»ºè·¨è¶Šä¸¤è¡Œçš„å­—ç¬¦ä¸²åªèƒ½åœ¨ä¸€è¡Œçš„ç»“å°¾ä½¿ç”¨ â€˜\â€™ å­—ç¬¦ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const string =</span><br><span class="line">  &#x27;first part \</span><br><span class="line">second part&#x27;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä½¿å¾—ä½ åˆ›å»ºçš„å­—ç¬¦ä¸²è™½ç„¶è·¨è¶Šäº†ä¸¤æ±‰ï¼Œä½†æ˜¯æ¸²æŸ“æ—¶ä»ç„¶è¡¨ç°æˆä¸€è¡Œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">first part second part</span><br></pre></td></tr></table></figure><p>éœ€è¦æ¸²æŸ“ä¸ºå¤šè¡Œçš„è¯ï¼Œéœ€è¦åœ¨ä¸€è¡Œç»“å°¾æ·»åŠ  â€˜\nâ€™ï¼Œæ¯”å¦‚è¿™æ ·ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const string =</span><br><span class="line">  &#x27;first line\n \</span><br><span class="line">second line&#x27;</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const string = &#x27;first line\n&#x27; + &#x27;second line&#x27;</span><br></pre></td></tr></table></figure><p>æ¨¡æ¿å­—ç¬¦ä¸²ä½¿å¾—å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²å˜å¾—æ›´åŠ ç®€ä¾¿ã€‚</p><p>ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ç”±ä¸€ä¸ªåå¼•å·å¼€å§‹ï¼Œä½ åªéœ€è¦æŒ‰ä¸‹å›è½¦é”®æ¥åˆ›å»ºæ–°çš„ä¸€è¡Œï¼Œä¸éœ€è¦æ’å…¥ç‰¹æ®Šç¬¦å·ï¼Œæœ€ç»ˆçš„æ¸²æŸ“æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const string = `Hey</span><br><span class="line">this</span><br><span class="line">string</span><br><span class="line">is awesome!`</span><br></pre></td></tr></table></figure><p>éœ€è¦ç‰¹åˆ«ç•™æ„ç©ºæ ¼åœ¨è¿™é‡Œæ˜¯æœ‰ç‰¹æ®Šæ„ä¹‰çš„ï¼Œå¦‚æœè¿™æ ·åšçš„è¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const string = `First</span><br><span class="line">                Second`</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆå®ƒä¼šåˆ›å»ºå‡ºåƒä¸‹é¢çš„å­—ç¬¦ä¸²ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">First</span><br><span class="line">                Second</span><br></pre></td></tr></table></figure><p>æœ‰ä¸€ä¸ªç®€å•çš„æ–¹æ³•å¯ä»¥ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€è¦å°†ç¬¬ä¸€è¡Œç½®ä¸ºç©ºï¼Œç„¶åæ·»åŠ äº†å³è¾¹çš„ç¿»è¯‘å¥½åè°ƒç”¨ä¸€ä¸ª trim() æ–¹æ³•ï¼Œå°±å¯ä»¥æ¶ˆé™¤ç¬¬ä¸€ä¸ªå­—ç¬¦å‰çš„æ‰€æœ‰ç©ºæ ¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const string = `</span><br><span class="line">First</span><br><span class="line">Second`.trim()</span><br></pre></td></tr></table></figure><h5 id="æ’å€¼"><a href="#æ’å€¼" class="headerlink" title="æ’å€¼"></a>æ’å€¼</h5><p>æ¨¡æ¿å­—ç¬¦ä¸²æä¾›äº†æ’å…¥å˜é‡å’Œè¡¨è¾¾å¼çš„ä¾¿æ·æ–¹æ³•</p><p>ä½ åªéœ€è¦ä½¿ç”¨ ${â€¦} è¯­æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const var = &#x27;test&#x27;</span><br><span class="line">const string = `something $&#123;var&#125;` //something test</span><br></pre></td></tr></table></figure><p>åœ¨ ${} é‡Œé¢ä½ å¯ä»¥åŠ å…¥ä»»ä½•ä¸œè¥¿ï¼Œç”šè‡³æ˜¯è¡¨è¾¾å¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const string = `something $&#123;1 + 2 + 3&#125;`</span><br><span class="line">const string2 = `something $&#123;foo() ? &#x27;x&#x27; : &#x27;y&#x27;&#125;`</span><br></pre></td></tr></table></figure><h5 id="Template-tags"><a href="#Template-tags" class="headerlink" title="Template tags"></a>Template tags</h5><p>æ ‡è®°æ¨¡æ¿å¯èƒ½æ˜¯ä¸€ä¸ªå¬èµ·æ¥ä¸å¤ªæœ‰ç”¨çš„åŠŸèƒ½ï¼Œä½†å®ƒå®é™…ä¸Šè¢«è®¸å¤šæµè¡Œçš„åº“ä½¿ç”¨ï¼Œå¦‚ Styled Components ã€Apollo ã€GraphQLå®¢æˆ·ç«¯/æœåŠ¡å™¨åº“ï¼Œå› æ­¤äº†è§£å®ƒçš„å·¥ä½œåŸç†è‡³å…³é‡è¦ã€‚</p><p>åœ¨ Styled Components æ¨¡æ¿æ ‡ç­¾ä¸­ç”¨äºå®šä¹‰CSSå­—ç¬¦ä¸²</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const Button = styled.button`</span><br><span class="line">  font-size: 1.5em;</span><br><span class="line">  background-color: black;</span><br><span class="line">  color: white;</span><br><span class="line">`</span><br></pre></td></tr></table></figure><p>åœ¨ Apollo ä¸­ï¼Œæ¨¡æ¿æ ‡ç­¾ç”¨äºå®šä¹‰ GraphQL æŸ¥è¯¢æ¨¡å¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const query = gql`</span><br><span class="line">  query &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">`</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä¸¤ä¸ªä¾‹å­ä¸­çš„styled.buttonå’Œgqlæ¨¡æ¿æ ‡ç­¾å…¶å®éƒ½æ˜¯å‡½æ•°:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function gql(literals, ...expressions) &#123;&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„è®¡ç®—ç»“æœã€‚</p><p>å­—é¢é‡(literals)æ˜¯ä¸€ä¸ªåŒ…å«äº†è¡¨è¾¾å¼æ’å€¼çš„æ¨¡æ¿å­—é¢é‡çš„åºåˆ—ã€‚ è¡¨è¾¾å¼(expressions)åŒ…å«äº†æ‰€æœ‰çš„æ’å€¼ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const string = `something $&#123;1 + 2 + 3&#125;`</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­é‡Œé¢çš„å­—é¢é‡æ˜¯ç”±2ä¸ªéƒ¨åˆ†ç»„æˆçš„åºåˆ—ã€‚ç¬¬1éƒ¨åˆ†å°±æ˜¯somethingï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªæ’å€¼ä½ç½®(${})ä¹‹å‰çš„å­—ç¬¦ä¸²ï¼Œç¬¬2éƒ¨åˆ†å°±æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œä»ç¬¬1ä¸ªæ’å€¼ç»“æŸçš„ä½ç½®ç›´åˆ°å­—ç¬¦ä¸²çš„ç»“æŸã€‚</p><p>è¿™ä¸ªä¾‹å­é‡Œé¢çš„è¡¨è¾¾å¼å°±æ˜¯åªåŒ…å«1ä¸ªéƒ¨åˆ†çš„åºåˆ—ï¼Œä¹Ÿå°±æ˜¯6ã€‚</p><p>ä¸¾ä¸€ä¸ªæ›´å¤æ‚çš„ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const string = `something</span><br><span class="line">another $&#123;&#x27;x&#x27;&#125;</span><br><span class="line">new line $&#123;1 + 2 + 3&#125;</span><br><span class="line">test`</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­é‡Œé¢çš„å­—é¢é‡çš„åºåˆ—é‡Œé¢ï¼Œç¬¬1ä¸ªéƒ¨åˆ†æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">;`something</span><br><span class="line">another `</span><br></pre></td></tr></table></figure><p>ç¬¬2éƒ¨åˆ†æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">;`</span><br><span class="line">new line `</span><br></pre></td></tr></table></figure><p>ç¬¬3éƒ¨åˆ†æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">;`</span><br><span class="line">test`</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­é‡Œé¢çš„è¡¨è¾¾å¼åŒ…å«äº†2ä¸ªéƒ¨åˆ†ï¼šxå’Œ6ã€‚</p><p>æ‹¿åˆ°äº†è¿™äº›å€¼çš„å‡½æ•°å°±å¯ä»¥å¯¹å…¶åšä»»æ„å¤„ç†ï¼Œè¿™å°±æ˜¯è¿™ä¸ªç‰¹æ€§çš„å¨åŠ›æ‰€åœ¨ã€‚</p><p>æ¯”å¦‚æœ€ç®€å•çš„å¤„ç†å°±æ˜¯å­—ç¬¦ä¸²æ’å€¼ï¼ŒæŠŠå­—é¢é‡å’Œè¡¨è¾¾å¼æ‹¼æ¥èµ·æ¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const interpolated = interpolate`I paid $&#123;10&#125;â‚¬`</span><br></pre></td></tr></table></figure><p>æ’å€¼çš„è¿‡ç¨‹å°±æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function interpolate(literals, ...expressions) &#123;</span><br><span class="line">  let string = ``</span><br><span class="line">  for (const [i, val] of expressions) &#123;</span><br><span class="line">    string += literals[i] + val</span><br><span class="line">  &#125;</span><br><span class="line">  string += literals[literals.length - 1]</span><br><span class="line">  return string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="headerlink" title="è§£æ„èµ‹å€¼"></a>è§£æ„èµ‹å€¼</h4><p>ç»™å®šä¸€ä¸ªobjectï¼Œä½ å¯ä»¥æŠ½å–å…¶ä¸­çš„ä¸€äº›å€¼å¹¶ä¸”èµ‹å€¼ç»™å‘½åçš„å˜é‡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const person = &#123;</span><br><span class="line">  firstName: &#x27;Tom&#x27;,</span><br><span class="line">  lastName: &#x27;Cruise&#x27;,</span><br><span class="line">  actor: true,</span><br><span class="line">  age: 54, //made up</span><br><span class="line">&#125;</span><br><span class="line">const &#123;firstName: name, age&#125; = person</span><br></pre></td></tr></table></figure><p>nameå’Œageå°±åŒ…å«äº†å¯¹åº”çš„å€¼ã€‚</p><p>è¿™ä¸ªè¯­æ³•åŒæ ·å¯ä»¥ç”¨åˆ°æ•°ç»„å½“ä¸­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const a = [1,2,3,4,5]</span><br><span class="line">const [first, second] = a</span><br></pre></td></tr></table></figure><p>ä¸‹é¢è¿™ä¸ªè¯­å¥åˆ›å»ºäº†3ä¸ªæ–°çš„å˜é‡ï¼Œåˆ†åˆ«å–çš„æ˜¯æ•°ç»„açš„ç¬¬0ã€1ã€4ä¸‹æ ‡å¯¹åº”çš„å€¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const [first, second, , , fifth] = a</span><br></pre></td></tr></table></figure><h5 id="æ›´å¼ºå¤§çš„å¯¹è±¡å­—é¢é‡"><a href="#æ›´å¼ºå¤§çš„å¯¹è±¡å­—é¢é‡" class="headerlink" title="æ›´å¼ºå¤§çš„å¯¹è±¡å­—é¢é‡"></a>æ›´å¼ºå¤§çš„å¯¹è±¡å­—é¢é‡</h5><p>ES2015èµ‹äºˆäº†å¯¹è±¡å­—é¢é‡æ›´å¤§çš„å¨åŠ›ã€‚</p><p>ç®€åŒ–äº†åŒ…å«å˜é‡çš„è¯­æ³•<br>åŸæ¥çš„å†™æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const something = &#x27;y&#x27;</span><br><span class="line">const x = &#123;</span><br><span class="line">  something: something</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°çš„å†™æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const something = &#x27;y&#x27;</span><br><span class="line">const x = &#123;</span><br><span class="line">  something</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h5><p>åŸå‹å¯ä»¥è¿™æ ·æŒ‡å®šï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const anObject = &#123; y: &#x27;y&#x27; &#125;</span><br><span class="line">const x = &#123;</span><br><span class="line">  __proto__: anObject</span><br><span class="line">&#125;</span><br><span class="line">super()</span><br><span class="line">const anObject = &#123; y: &#x27;y&#x27;, test: () =&gt; &#x27;zoo&#x27; &#125;</span><br><span class="line">const x = &#123;</span><br><span class="line">  __proto__: anObject,</span><br><span class="line">  test() &#123;</span><br><span class="line">    return super.test() + &#x27;x&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">x.test() //zoox</span><br></pre></td></tr></table></figure><h5 id="åŠ¨æ€å±æ€§"><a href="#åŠ¨æ€å±æ€§" class="headerlink" title="åŠ¨æ€å±æ€§"></a>åŠ¨æ€å±æ€§</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const x = &#123;</span><br><span class="line">  [&#x27;a&#x27; + &#x27;_&#x27; + &#x27;b&#x27;]: &#x27;z&#x27;</span><br><span class="line">&#125;</span><br><span class="line">x.a_b //z</span><br></pre></td></tr></table></figure><h4 id="For-ofå¾ªç¯"><a href="#For-ofå¾ªç¯" class="headerlink" title="For-ofå¾ªç¯"></a>For-ofå¾ªç¯</h4><p>2009å¹´çš„ES5å¼•å…¥äº†forEach()å¾ªç¯ã€‚è™½ç„¶å¾ˆå¥½ç”¨ï¼Œä½†æ˜¯å®ƒè·Ÿforå¾ªç¯ä¸€æ ·ï¼Œæ²¡æ³•breakã€‚</p><p>ES2015å¼•å…¥äº†<strong>for-of</strong> å¾ªç¯ï¼Œå°±æ˜¯åœ¨forEachçš„åŸºç¡€ä¸ŠåŠ ä¸Šäº†breakçš„åŠŸèƒ½ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//iterate over the value</span><br><span class="line">for (const v of [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]) &#123;</span><br><span class="line">  console.log(v);</span><br><span class="line">&#125;</span><br><span class="line">//get the index as well, using `entries()`</span><br><span class="line">for (const [i, v] of [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;].entries()) &#123;</span><br><span class="line">  console.log(index) //index</span><br><span class="line">  console.log(value) //value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç•™æ„ä¸€ä¸‹constçš„ä½¿ç”¨ã€‚è¿™ä¸ªå¾ªç¯åœ¨æ¯æ¬¡è¿­ä»£ä¸­éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨constæ¥ä»£æ›¿letã€‚</p><p>å®ƒè·Ÿforâ€¦inçš„åŒºåˆ«åœ¨äºï¼š</p><ul><li>forâ€¦oféå†å±æ€§å€¼</li><li>forâ€¦inéå†å±æ€§å</li></ul><h4 id="Promises"><a href="#Promises" class="headerlink" title="Promises"></a>Promises</h4><p>promiseçš„ä¸€èˆ¬å®šä¹‰ï¼š å®ƒæ˜¯ä¸€ä¸ªä»£ç†ï¼Œé€šè¿‡å®ƒå¯ä»¥æœ€ç»ˆå¾—åˆ°ä¸€ä¸ªå€¼.</p><p>Promiseæ˜¯å¤„ç†å¼‚æ­¥ä»£ç çš„ä¸€ç§æ–¹å¼ï¼Œå¯ä»¥å°‘å†™å¾ˆå¤šå›è°ƒã€‚</p><p>å¼‚æ­¥å‡½æ•°æ˜¯å»ºç«‹åœ¨promise APIä¸Šé¢çš„ï¼Œæ‰€ä»¥ç†è§£Promiseæ˜¯ä¸€ä¸ªåŸºæœ¬çš„è¦æ±‚ã€‚</p><h5 id="promiseçš„åŸç†ç®€è¿°"><a href="#promiseçš„åŸç†ç®€è¿°" class="headerlink" title="promiseçš„åŸç†ç®€è¿°"></a>promiseçš„åŸç†ç®€è¿°</h5><p>ä¸€ä¸ªpromiseè¢«è°ƒç”¨çš„æ—¶å€™ï¼Œé¦–å…ˆå®ƒæ˜¯å¤„äºpendingçŠ¶æ€ã€‚åœ¨promiseå¤„ç†çš„è¿‡ç¨‹ä¸­ï¼Œè°ƒç”¨çš„å‡½æ•°ï¼ˆcallerï¼‰å¯ä»¥ç»§ç»­æ‰§è¡Œï¼Œç›´åˆ°promiseç»™å‡ºåé¦ˆã€‚</p><p>æ­¤æ—¶ï¼Œè°ƒç”¨çš„å‡½æ•°ç­‰å¾…çš„promiseç»“æœè¦ä¹ˆæ˜¯resolvedçŠ¶æ€ï¼Œè¦ä¹ˆæ˜¯rejectedçŠ¶æ€ã€‚ä½†æ˜¯ç”±äºJavaScriptæ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥promiseå¤„ç†çš„è¿‡ç¨‹ä¸­ï¼Œå‡½æ•°ä¼šç»§ç»­æ‰§è¡Œã€‚</p><h5 id="ä¸ºä»€ä¹ˆJS-APIä½¿ç”¨promises"><a href="#ä¸ºä»€ä¹ˆJS-APIä½¿ç”¨promises" class="headerlink" title="ä¸ºä»€ä¹ˆJS APIä½¿ç”¨promises?"></a>ä¸ºä»€ä¹ˆJS APIä½¿ç”¨promises?</h5><p>é™¤äº†ä½ çš„ä»£ç å’Œç¬¬ä¸‰æ–¹åº“çš„ä»£ç ä¹‹å¤–ï¼Œpromiseåœ¨ç”¨åœ¨ç°ä»£çš„Web APIä¸­ï¼Œæ¯”å¦‚ï¼š</p><ul><li>ç”µæ± API</li><li>Fetch API</li><li>Service Workers</li></ul><p>åœ¨ç°ä»£çš„JavaScriptä¸­ï¼Œä¸ä½¿ç”¨promiseæ˜¯ä¸å¤ªå¯èƒ½çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥æ·±å…¥ç ”ç©¶ä¸‹promiseå§ã€‚</p><h5 id="åˆ›å»ºä¸€ä¸ªpromise"><a href="#åˆ›å»ºä¸€ä¸ªpromise" class="headerlink" title="åˆ›å»ºä¸€ä¸ªpromise"></a>åˆ›å»ºä¸€ä¸ªpromise</h5><p>Promise APIæš´éœ²äº†ä¸€ä¸ªPromiseæ„é€ å‡½æ•°ï¼Œå¯ä»¥é€šè¿‡new Promise()æ¥åˆå§‹åŒ–ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">let done = true</span><br><span class="line">const isItDoneYet = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  if (done) &#123;</span><br><span class="line">    const workDone = &#x27;Here is the thing I built&#x27;</span><br><span class="line">    resolve(workDone)</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    const why = &#x27;Still working on something else&#x27;</span><br><span class="line">    reject(why)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>promiseä¼šæ£€æŸ¥doneè¿™ä¸ªå…¨å±€å˜é‡ï¼Œå¦‚æœä¸ºtrueï¼Œå°±è¿”å›ä¸€ä¸ªresolved promiseï¼Œå¦åˆ™å°±è¿”å›ä¸€ä¸ªrejected promiseã€‚</p><p>é€šè¿‡resolveå’Œrejectï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªè¿”å›å€¼ï¼Œè¿”å›å€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ã€‚</p><h5 id="ä½¿ç”¨ä¸€ä¸ªpromise"><a href="#ä½¿ç”¨ä¸€ä¸ªpromise" class="headerlink" title="ä½¿ç”¨ä¸€ä¸ªpromise"></a>ä½¿ç”¨ä¸€ä¸ªpromise</h5><p>ä¸Šé¢è®²äº†æ€ä¹ˆåˆ›å»ºä¸€ä¸ªpromiseï¼Œä¸‹é¢å°±è®²æ€ä¹ˆä½¿ç”¨ï¼ˆconsumeï¼‰è¿™ä¸ªpromiseã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const isItDoneYet = new Promise()</span><br><span class="line">//...</span><br><span class="line">const checkIfItsDone = () =&gt; &#123;</span><br><span class="line">  isItDoneYet</span><br><span class="line">    .then(ok =&gt; &#123;</span><br><span class="line">      console.log(ok)</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(err =&gt; &#123;</span><br><span class="line">      console.error(err)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡ŒcheckIfItsDone()æ–¹æ³•æ—¶ï¼Œä¼šæ‰§è¡ŒisItDoneYet()è¿™ä¸ªpromiseï¼Œå¹¶ä¸”ç­‰å¾…å®ƒresolveçš„æ—¶å€™ä½¿ç”¨thenå›è°ƒï¼Œå¦‚æœæœ‰é”™è¯¯ï¼Œå°±ç”¨catchå›è°ƒæ¥å¤„ç†ã€‚</p><h5 id="é“¾å¼promise"><a href="#é“¾å¼promise" class="headerlink" title="é“¾å¼promise"></a>é“¾å¼promise</h5><p>ä¸€ä¸ªpromiseå¯ä»¥è¿”å›å¦ä¸€ä¸ªpromiseï¼Œä»è€Œåˆ›å»ºpromiseé“¾æ¡ï¼ˆchainï¼‰ã€‚</p><p>ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­å°±æ˜¯Fetch APIï¼Œå®ƒæ˜¯åŸºäºXMLHttpRequest APIçš„ä¸€ä¸ªä¸Šå±‚APIï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥è·å–èµ„æºï¼Œå¹¶ä¸”åœ¨è·å–åˆ°èµ„æºçš„æ—¶å€™é“¾å¼æ‰§è¡Œä¸€ç³»åˆ—promiseã€‚</p><p>Fetch APIæ˜¯ä¸€ä¸ªåŸºäºpromiseçš„æœºåˆ¶ï¼Œè°ƒç”¨fetch()ç›¸å½“äºä½¿ç”¨new Promise()æ¥å£°æ˜æˆ‘ä»¬è‡ªå·±çš„promiseã€‚</p><p>é“¾å¼promiseçš„ä¾‹å­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">const status = response =&gt; &#123;</span><br><span class="line">  if (response.status &gt;= 200 &amp;&amp; response.status &lt; 300) &#123;</span><br><span class="line">    return Promise.resolve(response)</span><br><span class="line">  &#125;</span><br><span class="line">  return Promise.reject(new Error(response.statusText))</span><br><span class="line">&#125;</span><br><span class="line">const json = response =&gt; response.json()</span><br><span class="line">fetch(&#x27;/todos.json&#x27;)</span><br><span class="line">  .then(status)</span><br><span class="line">  .then(json)</span><br><span class="line">  .then(data =&gt; &#123;</span><br><span class="line">    console.log(&#x27;Request succeeded with JSON response&#x27;, data)</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(error =&gt; &#123;</span><br><span class="line">    console.log(&#x27;Request failed&#x27;, error)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­å½“ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨fetch()ï¼Œä»æ ¹ç›®å½•çš„todos.jsonæ–‡ä»¶ä¸­è·å–ä¸€ç³»åˆ—çš„TODOé¡¹ç›®ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ªé“¾å¼promiseã€‚</p><p>è¿è¡Œfetch()æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªresponseï¼Œå®ƒåŒ…å«å¾ˆå¤šå±æ€§ï¼Œæˆ‘ä»¬ä»ä¸­å¼•ç”¨å¦‚ä¸‹å±æ€§ï¼š</p><ul><li>status, ä¸€ä¸ªæ•°å€¼ï¼Œè¡¨ç¤ºHTTPçŠ¶æ€ç </li><li>statusText, ä¸€ä¸ªçŠ¶æ€æ¶ˆæ¯ï¼Œå½“è¯·æ±‚æˆåŠŸçš„æ—¶å€™è¿”å›OK</li><li>responseè¿˜æœ‰ä¸€ä¸ªjson()æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªpromiseï¼Œè¿”å›å†…å®¹è½¬æ¢æˆJSONåçš„ç»“æœã€‚</li></ul><p>æ‰€ä»¥è¿™äº›promiseçš„è°ƒç”¨è¿‡ç¨‹å°±æ˜¯ï¼šç¬¬ä¸€ä¸ªpromiseæ‰§è¡Œä¸€ä¸ªæˆ‘ä»¬å®šä¹‰çš„status()æ–¹æ³•ï¼Œæ£€æŸ¥response statusï¼Œåˆ¤æ–­æ˜¯å¦ä¸€ä¸ªæˆåŠŸçš„å“åº”(statusåœ¨200å’Œ299ä¹‹é—´)ï¼Œå¦‚æœä¸æ˜¯æˆåŠŸçš„å“åº”ï¼Œå°±rejectè¿™ä¸ªpromiseã€‚</p><p>è¿™ä¸ªrejectæ“ä½œä¼šå¯¼è‡´æ•´ä¸ªé“¾å¼promiseè·³è¿‡åé¢çš„æ‰€æœ‰promiseç›´æ¥åˆ°catch()è¯­å¥ï¼Œæ‰“å°Request failedå’Œé”™è¯¯æ¶ˆæ¯ã€‚</p><p>å¦‚æœè¿™ä¸ªpromiseæˆåŠŸäº†ï¼Œå®ƒä¼šè°ƒç”¨æˆ‘ä»¬å®šä¹‰çš„json()å‡½æ•°ã€‚å› ä¸ºå‰é¢çš„promiseæˆåŠŸä¹‹åè¿”å›çš„responseå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æ‹¿åˆ°å¹¶ä½œä¸ºç¬¬2ä¸ªpromiseçš„å‚æ•°ä¼ å…¥ã€‚</p><p>åœ¨è¿™ä¸ªä¾‹å­é‡Œé¢ï¼Œæˆ‘ä»¬è¿”å›äº†JSONåºåˆ—åŒ–çš„æ•°æ®ï¼Œæ‰€ä»¥ç¬¬3ä¸ªpromiseç›´æ¥æ¥æ”¶è¿™ä¸ªJSONï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.then((data) =&gt; &#123;</span><br><span class="line">  console.log(&#x27;Request succeeded with JSON response&#x27;, data)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬æŠŠå®ƒæ‰“å°åˆ°consoleã€‚</p><h4 id="å¤„ç†é”™è¯¯"><a href="#å¤„ç†é”™è¯¯" class="headerlink" title="å¤„ç†é”™è¯¯"></a>å¤„ç†é”™è¯¯</h4><p>åœ¨ä¸Šä¸€èŠ‚çš„çš„ä¾‹å­é‡Œé¢ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªcatchæ¥åœ¨é“¾å¼promiseåé¢ã€‚</p><p>å½“promiseé“¾ä¸­çš„ä»»æ„ä¸€ä¸ªå‡ºé”™æˆ–è€…rejectçš„æ—¶å€™ï¼Œå°±ä¼šç›´æ¥è·³åˆ°promiseé“¾åé¢æœ€è¿‘çš„catch()è¯­å¥ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  throw new Error(&#x27;Error&#x27;)</span><br><span class="line">&#125;).catch(err =&gt; &#123;</span><br><span class="line">  console.error(err)</span><br><span class="line">&#125;)</span><br><span class="line">// or</span><br><span class="line">new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  reject(&#x27;Error&#x27;)</span><br><span class="line">&#125;).catch(err =&gt; &#123;</span><br><span class="line">  console.error(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h5 id="çº§è”é”™è¯¯"><a href="#çº§è”é”™è¯¯" class="headerlink" title="çº§è”é”™è¯¯"></a>çº§è”é”™è¯¯</h5><p>å¦‚æœåœ¨catch()é‡Œé¢æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œä½ å¯ä»¥åœ¨åé¢æ¥ä¸Šç¬¬äºŒä¸ªcatch()æ¥å¤„ç†è¿™ä¸ªé”™è¯¯ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  throw new Error(&#x27;Error&#x27;)</span><br><span class="line">&#125;)</span><br><span class="line">  .catch(err =&gt; &#123;</span><br><span class="line">    throw new Error(&#x27;Error&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(err =&gt; &#123;</span><br><span class="line">    console.error(err)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><h4 id="ç»„ç»‡å¤šä¸ªpromise"><a href="#ç»„ç»‡å¤šä¸ªpromise" class="headerlink" title="ç»„ç»‡å¤šä¸ªpromise"></a>ç»„ç»‡å¤šä¸ªpromise</h4><h5 id="Promise-all"><a href="#Promise-all" class="headerlink" title="Promise.all()"></a>Promise.all()</h5><p>å¦‚æœä½ è¦åŒæ—¶å®Œæˆä¸åŒçš„promise,å¯ä»¥ç”¨Promise.all()æ¥å£°æ˜ä¸€ç³»åˆ—çš„promiseï¼Œç„¶åå½“å®ƒä»¬å…¨éƒ¨resolveçš„æ—¶å€™å†æ‰§è¡Œä¸€äº›æ“ä½œã€‚</p><p>ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const f1 = fetch(&#x27;/something.json&#x27;)</span><br><span class="line">const f2 = fetch(&#x27;/something2.json&#x27;)</span><br><span class="line">Promise.all([f1, f2])</span><br><span class="line">  .then(res =&gt; &#123;</span><br><span class="line">    console.log(&#x27;Array of results&#x27;, res)</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(err =&gt; &#123;</span><br><span class="line">    console.error(err)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><p>ç»“åˆES2015çš„è§£æ„èµ‹å€¼è¯­æ³•ï¼Œä½ å¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Promise.all([f1, f2]).then(([res1, res2]) =&gt; &#123;</span><br><span class="line">  console.log(&#x27;Results&#x27;, res1, res2)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å½“ç„¶è¿™ä¸é™äºä½¿ç”¨fetchï¼Œ è¿™é€‚ç”¨äºä»»ä½•promise.</p><h5 id="Promise-race"><a href="#Promise-race" class="headerlink" title="Promise.race()"></a>Promise.race()</h5><p>Promise.race()è¿è¡Œæ‰€æœ‰ä¼ é€’è¿›å»çš„promiseï¼Œä½†æ˜¯åªè¦æœ‰å…¶ä¸­ä¸€ä¸ªresolveäº†ï¼Œå°±ä¼šè¿è¡Œå›è°ƒå‡½æ•°ï¼Œå¹¶ä¸”åªæ‰§è¡Œä¸€æ¬¡å›è°ƒï¼Œå›è°ƒçš„å‚æ•°å°±æ˜¯ç¬¬ä¸€ä¸ªresolveçš„promiseè¿”å›çš„ç»“æœã€‚</p><p>ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const promiseOne = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  setTimeout(resolve, 500, &#x27;one&#x27;)</span><br><span class="line">&#125;)</span><br><span class="line">const promiseTwo = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  setTimeout(resolve, 100, &#x27;two&#x27;)</span><br><span class="line">&#125;)</span><br><span class="line">Promise.race([promiseOne, promiseTwo]).then(result =&gt; &#123;</span><br><span class="line">  console.log(result) // &#x27;two&#x27;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h4><p>ES Moduleæ˜¯ç”¨äºå¤„ç†æ¨¡å—çš„ECMAScriptæ ‡å‡†ã€‚</p><p>è™½ç„¶ Node.js å¤šå¹´æ¥ä¸€ç›´ä½¿ç”¨ CommonJSæ ‡å‡†ï¼Œä½†æµè§ˆå™¨å´ä»æœªæœ‰è¿‡æ¨¡å—ç³»ç»Ÿï¼Œå› ä¸ºæ¨¡å—ç³»ç»Ÿçš„å†³ç­–é¦–å…ˆéœ€è¦ ECMAScript æ ‡å‡†åŒ–åæ‰ç”±æµè§ˆå™¨å‚å•†å»å®æ–½å®ç°ã€‚</p><p>è¿™ä¸ªæ ‡å‡†åŒ–å·²ç»å®Œæˆåœ¨ ES2015ä¸­ï¼Œæµè§ˆå™¨ä¹Ÿå¼€å§‹å®æ–½å®ç°è¿™ä¸ªæ ‡å‡†ï¼Œå¤§å®¶è¯•å›¾ä¿æŒä¸€è‡´ï¼Œä»¥ç›¸åŒçš„æ–¹å¼å·¥ä½œã€‚ç°åœ¨ ES Module å¯ä»¥åœ¨ Chrome Safari Edge å’Œ Firefoxï¼ˆä»60ç‰ˆæœ¬å¼€å§‹ï¼‰ ä¸­ä½¿ç”¨ã€‚</p><p>æ¨¡å—éå¸¸é…·ï¼Œä»–ä»¬å¯ä»¥è®©ä½ å°è£…å„ç§å„æ ·çš„åŠŸèƒ½ï¼ŒåŒæ—¶å°†è¿™äº›åŠŸèƒ½ä½œä¸ºåº“æš´éœ²ç»™å…¶å®ƒ JavaScript æ–‡ä»¶ä½¿ç”¨ã€‚</p><h5 id="ES-æ¨¡å—è¯­æ³•"><a href="#ES-æ¨¡å—è¯­æ³•" class="headerlink" title="ES æ¨¡å—è¯­æ³•"></a>ES æ¨¡å—è¯­æ³•</h5><p>å¼•å…¥æ¨¡å—çš„è¯­æ³•:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import package from &#x27;module-name&#x27;</span><br></pre></td></tr></table></figure><p>CommonJS åˆ™æ˜¯è¿™æ ·ä½¿ç”¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const package = require(&#x27;module-name&#x27;)</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªæ¨¡å—æ˜¯ä¸€ä¸ª JavaScript æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ä½¿ç”¨ export å…³é”®å­— å¯¼å‡º ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ï¼ˆå¯¹è±¡ã€å‡½æ•°æˆ–è€…å˜é‡ï¼‰ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢è¿™ä¸ªæ¨¡å—æä¾›äº†ä¸€ä¸ªå°†å­—ç¬¦ä¸²å˜æˆå¤§å†™å½¢å¼çš„å‡½æ•°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uppercase.js</span><br><span class="line">export default str =&gt; str.toUpperCase()</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿™ä¸ªæ¨¡å—å®šä¹‰äº†å”¯ä¸€ä¸€ä¸ª default exportï¼Œå› æ­¤å¯ä»¥æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚å¦åˆ™ï¼Œéœ€è¦ä¸€ä¸ªåç§°æ¥å’Œå…¶å®ƒ å¯¼å‡º åšåŒºåˆ†ã€‚</p><p>ç°åœ¨ï¼Œä»»ä½•å…¶å®ƒçš„ JavaScript æ¨¡å— å¯ä»¥é€šè¿‡ import å¯¼å…¥ uppercase.js çš„è¿™ä¸ªåŠŸèƒ½ã€‚</p><p>ä¸€ä¸ª HTML é¡µé¢å¯ä»¥é€šè¿‡ä½¿ç”¨äº†ç‰¹æ®Šçš„ type=module å±æ€§çš„ <code>&lt;script&gt;</code> æ ‡ç­¾æ·»åŠ ä¸€ä¸ªæ¨¡å—ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot; src=&quot;index.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„: è¿™ä¸ªæ¨¡å—å¯¼å…¥çš„è¡Œä¸ºå°±åƒ <em>defer</em> è„šæœ¬åŠ è½½ä¸€æ ·ã€‚å…·ä½“å¯ä»¥çœ‹ efficiently load JavaScript with defer and async</p></blockquote><p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œä»»ä½•é€šè¿‡ type=â€moduleâ€ è½½å…¥çš„è„šæœ¬ä¼šä½¿ç”¨ ä¸¥æ ¼æ¨¡å¼ åŠ è½½ã€‚</p><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œuppercase.js æ¨¡å—å®šä¹‰äº†ä¸€ä¸ª default exportï¼Œå› æ­¤å½“æˆ‘ä»¬åœ¨å¯¼å…¥å®ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ä»–èµ·ä¸€ä¸ªä»»ä½•æˆ‘ä»¬å–œæ¬¢çš„åå­—ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import toUpperCase from &#x27;./uppercase.js&#x27;</span><br></pre></td></tr></table></figure><p>åŒæ—¶æˆ‘ä»¬å¯ä»¥è¿™æ ·ä½¿ç”¨å®ƒ:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">toUpperCase(&#x27;test&#x27;) //&#x27;TEST&#x27;</span><br></pre></td></tr></table></figure><p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡ä¸€ä¸ªç»å¯¹è·¯å¾„æ¥å¯¼å…¥æ¨¡å—ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå¼•ç”¨æ¥è‡ªå…¶å®ƒåŸŸåº•ä¸‹å®šä¹‰çš„æ¨¡å—çš„ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import toUpperCase from &#x27;https://flavio-es-modules-example.glitch.me/uppercase.js&#x27;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢åŒæ ·æ˜¯ä¸€äº›åˆæ³•çš„ importè¯­æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &#123; toUpperCase &#125; from &#x27;/uppercase.js&#x27;</span><br><span class="line">import &#123; toUpperCase &#125; from &#x27;../uppercase.js&#x27;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯é”™è¯¯çš„ä½¿ç”¨:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &#123; toUpperCase &#125; from &#x27;uppercase.js&#x27;</span><br><span class="line">import &#123; toUpperCase &#125; from &#x27;utils/uppercase.js&#x27;</span><br></pre></td></tr></table></figure><p>å› ä¸ºè¿™é‡Œæ—¢ä¸æ˜¯ä½¿ç”¨ç»å¯¹åœ°å€ï¼Œä¹Ÿä¸æ˜¯ä½¿ç”¨çš„ç›¸å¯¹åœ°å€ã€‚</p><h5 id="å…¶å®ƒçš„-import-export-è¯­æ³•"><a href="#å…¶å®ƒçš„-import-export-è¯­æ³•" class="headerlink" title="å…¶å®ƒçš„ import/export è¯­æ³•"></a>å…¶å®ƒçš„ import/export è¯­æ³•</h5><p>æˆ‘ä»¬äº†è§£äº†ä¸Šé¢çš„ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export default str =&gt; str.toUpperCase()</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç”Ÿæˆäº†ä¸€ä¸ª default exportã€‚ç„¶è€Œï¼Œä½ å¯ä»¥é€šè¿‡ä¸‹é¢çš„è¯­æ³•åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ å¯¼å‡º å¤šä¸ªåŠŸèƒ½ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const a = 1</span><br><span class="line">const b = 2</span><br><span class="line">const c = 3</span><br><span class="line">export &#123; a, b, c &#125;</span><br></pre></td></tr></table></figure><p>å¦å¤–ä¸€ä¸ªæ¨¡å—å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼ import å¯¼å…¥æ‰€æœ‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import * from &#x27;module&#x27;</span><br></pre></td></tr></table></figure><p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡è§£æ„èµ‹å€¼çš„æ–¹å¼ä»…ä»… import å¯¼å‡ºä¸€éƒ¨åˆ†ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &#123; a &#125; from &#x27;module&#x27;</span><br><span class="line">import &#123; a, b &#125; from &#x27;module&#x27;</span><br></pre></td></tr></table></figure><p>ä¸ºäº†æ–¹ä¾¿ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ as é‡å‘½åä»»ä½• import çš„ä¸œè¥¿ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; a, b as two &#125; from &#x27;module&#x27;</span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥å¯¼å…¥æ¨¡å—ä¸­çš„é»˜è®¤å‡ºå£ä»¥åŠé€šè¿‡åç§°å¯¼å…¥ä»»ä½•éé»˜è®¤çš„å‡ºå£ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#x27;react&#x27;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ç¯‡å…³äº ES æ¨¡å—çš„æ–‡ç« ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ï¼š <a href="https://glitch.com/edit/#!/flavio-es-modules-example?path=index.html">https://glitch.com/edit/#!/flavio-es-modules-example?path=index.html</a></p><h4 id="CORS-è·¨åŸŸèµ„æºå…±äº«"><a href="#CORS-è·¨åŸŸèµ„æºå…±äº«" class="headerlink" title="CORS(è·¨åŸŸèµ„æºå…±äº«)"></a>CORS(è·¨åŸŸèµ„æºå…±äº«)</h4><p>è¿›è¡Œè¿œç¨‹è·å–æ¨¡å—çš„æ—¶å€™æ˜¯éµå¾ª CORS æœºåˆ¶çš„ã€‚è¿™æ„å‘³ç€å½“ä½ å¼•ç”¨è¿œç¨‹æ¨¡å—çš„æ—¶å€™ï¼Œå¿…é¡»ä½¿ç”¨åˆæ³•çš„ CORS è¯·æ±‚å¤´æ¥å…è®¸è·¨åŸŸè®¿é—®ï¼ˆä¾‹å¦‚ï¼šAccess-Control-Allow-Origin: *ï¼‰ã€‚</p><h5 id="å¯¹äºä¸æ”¯æŒæ¨¡å—çš„æµè§ˆå™¨åº”è¯¥æ€ä¹ˆåšï¼Ÿ"><a href="#å¯¹äºä¸æ”¯æŒæ¨¡å—çš„æµè§ˆå™¨åº”è¯¥æ€ä¹ˆåšï¼Ÿ" class="headerlink" title="å¯¹äºä¸æ”¯æŒæ¨¡å—çš„æµè§ˆå™¨åº”è¯¥æ€ä¹ˆåšï¼Ÿ"></a>å¯¹äºä¸æ”¯æŒæ¨¡å—çš„æµè§ˆå™¨åº”è¯¥æ€ä¹ˆåšï¼Ÿ</h5><p>ç»“åˆ type=â€moduleâ€ã€nomodule ä¸€èµ·ä½¿ç”¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot; src=&quot;module.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script nomodule src=&quot;fallback.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h5 id="åŒ…è£…æ¨¡å—"><a href="#åŒ…è£…æ¨¡å—" class="headerlink" title="åŒ…è£…æ¨¡å—"></a>åŒ…è£…æ¨¡å—</h5><p>ES æ¨¡å—æ˜¯ç°ä»£æµè§ˆå™¨ä¸­çš„ä¸€å¤§ç‰¹æ€§ã€‚è¿™äº›ç‰¹æ€§æ˜¯ ES6 è§„èŒƒä¸­çš„ä¸€éƒ¨åˆ†ï¼Œè¦åœ¨æµè§ˆå™¨ä¸­å…¨éƒ¨å®ç°è¿™äº›ç‰¹æ€§çš„è·¯è¿˜å¾ˆæ¼«é•¿ã€‚</p><p>æˆ‘ä»¬ç°åœ¨å°±èƒ½ä½¿ç”¨å®ƒä»¬ï¼ä½†æ˜¯æˆ‘ä»¬åŒæ ·éœ€è¦çŸ¥é“ï¼Œæœ‰ä¸€äº›æ¨¡å—ä¼šå¯¹æˆ‘ä»¬çš„é¡µé¢æ€§èƒ½äº§ç”Ÿæ€§èƒ½å½±å“ã€‚å› ä¸ºæµè§ˆå™¨å¿…é¡»è¦åœ¨è¿è¡Œæ—¶æ‰§è¡Œå®ƒä»¬ã€‚</p><p>Webpack å¯èƒ½ä»ç„¶ä¼šè¢«å¤§é‡ä½¿ç”¨ï¼Œå³ä½¿ ES æ¨¡å—å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œã€‚ä½†æ˜¯è¯­è¨€å†…ç½®è¿™ä¸ªç‰¹æ€§å¯¹äºå®¢æˆ·ç«¯å’Œ nodejs åœ¨ä½¿ç”¨æ¨¡å—çš„æ—¶å€™æ˜¯ä¸€ç§å·¨å¤§çš„ç»Ÿä¸€ã€‚</p><h4 id="æ–°çš„å­—ç¬¦ä¸²æ–¹æ³•"><a href="#æ–°çš„å­—ç¬¦ä¸²æ–¹æ³•" class="headerlink" title="æ–°çš„å­—ç¬¦ä¸²æ–¹æ³•"></a>æ–°çš„å­—ç¬¦ä¸²æ–¹æ³•</h4><p>ä»»ä½•å­—ç¬¦ä¸²æœ‰äº†ä¸€äº›å®ä¾‹æ–¹æ³•ï¼š</p><ul><li>repeat()</li><li>codePointAt()</li><li>repeat()</li></ul><p>æ ¹æ®æŒ‡å®šçš„æ¬¡æ•°é‡å¤å­—ç¬¦ä¸²ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;Ho&#x27;.repeat(3) //&#x27;HoHoHo&#x27;</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰æä¾›å‚æ•°ä»¥åŠä½¿ç”¨ 0 ä½œä¸ºå‚æ•°çš„æ—¶å€™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚å¦‚æœç»™ä¸€ä¸ªè´Ÿæ•°å‚æ•°åˆ™ä¼šå¾—åˆ°ä¸€ä¸ª RangeError çš„é”™è¯¯ã€‚</p><h5 id="codePointAt"><a href="#codePointAt" class="headerlink" title="codePointAt()"></a>codePointAt()</h5><p>è¿™ä¸ªæ–¹æ³•èƒ½ç”¨åœ¨å¤„ç†é‚£äº›éœ€è¦ 2 ä¸ª UTF-16 å•å…ƒè¡¨ç¤ºçš„å­—ç¬¦ä¸Šã€‚</p><p>ä½¿ç”¨ charCodeAt çš„è¯ï¼Œä½ éœ€è¦å…ˆåˆ†åˆ«å¾—åˆ°ä¸¤ä¸ª UTF-16 çš„ç¼–ç ç„¶åç»“åˆå®ƒä»¬ã€‚ä½†æ˜¯ä½¿ç”¨ codePointAt() ä½ å¯ä»¥ç›´æ¥å¾—åˆ°æ•´ä¸ªå­—ç¬¦ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œä¸­æ–‡çš„ â€œğ ®·â€ æ˜¯ç”±ä¸¤ä¸ª UTF-16 ç¼–ç ç»„åˆè€Œæˆçš„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;ğ ®·&quot;.charCodeAt(0).toString(16) //d842</span><br><span class="line">&quot;ğ ®·&quot;.charCodeAt(1).toString(16) //dfb7</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ å°†ä¸¤ä¸ª unicode å­—ç¬¦ç»„åˆèµ·æ¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;\ud842\udfb7&quot; //&quot;ğ ®·&quot;</span><br></pre></td></tr></table></figure><p>ä½ ä¹Ÿå¯ä»¥ç”¨ codePointAt() å¾—åˆ°åŒæ ·çš„ç»“æœ:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;ğ ®·&quot;.codePointAt(0) //20bb7</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ å°†å¾—åˆ°çš„ unicode ç¼–ç ç»„åˆèµ·æ¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;\u&#123;20bb7&#125;&quot; //&quot;ğ ®·&quot;</span><br></pre></td></tr></table></figure><p>æ›´å¤šå…³äº Unicode çš„ä½¿ç”¨æ–¹æ³•ï¼Œå‚è€ƒæˆ‘çš„Unicode guideã€‚</p><h4 id="æ–°çš„å¯¹è±¡æ–¹æ³•"><a href="#æ–°çš„å¯¹è±¡æ–¹æ³•" class="headerlink" title="æ–°çš„å¯¹è±¡æ–¹æ³•"></a>æ–°çš„å¯¹è±¡æ–¹æ³•</h4><p>ES2015 åœ¨ Object ç±»ä¸‹å¼•å…¥äº†ä¸€äº›é™æ€æ–¹æ³•ï¼š</p><ul><li>Object.is() ç¡®å®šä¸¤ä¸ªå€¼æ˜¯ä¸æ˜¯åŒä¸€ä¸ª</li><li>Object.assign() ç”¨æ¥æµ…æ‹·è´ä¸€ä¸ªå¯¹è±¡</li><li>Object.setPrototypeOf è®¾ç½®ä¸€ä¸ªå¯¹è±¡çš„åŸå‹</li><li>Object.is()</li></ul><p>è¿™ä¸ªæ–¹æ³•ç”¨æ¥å¸®åŠ©æ¯”è¾ƒå¯¹è±¡çš„å€¼ï¼š</p><p>ä½¿ç”¨æ–¹å¼:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object.is(a, b)</span><br></pre></td></tr></table></figure><p>è¿”å›å€¼åœ¨ä¸‹åˆ—æƒ…å†µä¹‹å¤–ä¸€ç›´æ˜¯ falseï¼š</p><ul><li>a å’Œ b æ˜¯åŒä¸€ä¸ªå¯¹è±¡</li><li>a å’Œ b æ˜¯ç›¸ç­‰çš„å­—ç¬¦ä¸²(ç”¨åŒæ ·çš„å­—ç¬¦ç»„åˆåœ¨ä¸€èµ·çš„å­—ç¬¦ä¸²æ˜¯ç›¸ç­‰çš„)</li><li>a å’Œ b æ˜¯ç›¸ç­‰çš„æ•°å­—</li><li>a å’Œ b éƒ½æ˜¯ undefined, null, NaN, true æˆ–è€…éƒ½æ˜¯ false</li><li>0 å’Œ -0 åœ¨ JavaScript é‡Œé¢æ˜¯ä¸åŒçš„å€¼, æ‰€ä»¥å¯¹è¿™ç§æƒ…å†µè¦å¤šåŠ å°å¿ƒï¼ˆä¾‹å¦‚åœ¨æ¯”è¾ƒä¹‹å‰ï¼Œä½¿ç”¨ + ä¸€å…ƒæ“ä½œç¬¦å°†æ‰€æœ‰å€¼è½¬æ¢æˆ +0ï¼‰ã€‚</li></ul><h5 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign()"></a>Object.assign()</h5><p>åœ¨ ES2015 ç‰ˆæœ¬ä¸­å¼•å…¥ï¼Œè¿™ä¸ªæ–¹æ³•æ‹·è´æ‰€æœ‰ç»™å‡ºçš„å¯¹è±¡ä¸­çš„å¯æšä¸¾çš„è‡ªèº«å±æ€§åˆ°å¦ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚</p><p>è¿™ä¸ª API çš„åŸºæœ¬ç”¨æ³•æ˜¯åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æµ…æ‹·è´ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const copied = Object.assign(&#123;&#125;, original)</span><br></pre></td></tr></table></figure><p>ä½œä¸ºæµ…æ‹·è´ï¼Œå€¼ä¼šè¢«å¤åˆ¶ï¼Œå¯¹è±¡åˆ™æ˜¯æ‹·è´å…¶å¼•ç”¨ï¼ˆä¸æ˜¯å¯¹è±¡æœ¬èº«ï¼‰ï¼Œå› æ­¤å½“ä½ ä¿®æ”¹äº†æºå¯¹è±¡çš„ä¸€ä¸ªå±æ€§å€¼ï¼Œè¿™ä¸ªä¿®æ”¹ä¹Ÿä¼šåœ¨æ‹·è´å‡ºçš„å¯¹è±¡ä¸­ç”Ÿæ•ˆï¼Œå› ä¸ºå†…éƒ¨å¼•ç”¨çš„å¯¹è±¡æ˜¯ç›¸åŒçš„ã€‚:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const original = &#123;</span><br><span class="line">  name: &#x27;Fiesta&#x27;,</span><br><span class="line">  car: &#123;</span><br><span class="line">    color: &#x27;blue&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const copied = Object.assign(&#123;&#125;, original)</span><br><span class="line">original.name = &#x27;Focus&#x27;</span><br><span class="line">original.car.color = &#x27;yellow&#x27;</span><br><span class="line">copied.name //Fiesta</span><br><span class="line">copied.car.color //yellow</span><br></pre></td></tr></table></figure><p>æˆ‘ä¹‹å‰æåˆ°è¿‡ï¼Œæºå¯¹è±¡å¯ä»¥æ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ª:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const wisePerson = &#123;</span><br><span class="line">  isWise: true</span><br><span class="line">&#125;</span><br><span class="line">const foolishPerson = &#123;</span><br><span class="line">  isFoolish: true</span><br><span class="line">&#125;</span><br><span class="line">const wiseAndFoolishPerson = Object.assign(&#123;&#125;, wisePerson, foolishPerson)</span><br><span class="line">console.log(wiseAndFoolishPerson) //&#123; isWise: true, isFoolish: true &#125;</span><br><span class="line">Object.setPrototypeOf()</span><br></pre></td></tr></table></figure><p>è®¾ç½®ä¸€ä¸ªå¯¹è±¡çš„åŸå‹ã€‚å¯ä»¥æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šå¯¹è±¡ä»¥åŠåŸå‹ã€‚</p><p>ä½¿ç”¨æ–¹æ³•:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object.setPrototypeOf(object, prototype)</span><br></pre></td></tr></table></figure><p>ä¾‹å­:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">const animal = &#123;</span><br><span class="line">  isAnimal: true</span><br><span class="line">&#125;</span><br><span class="line">const mammal = &#123;</span><br><span class="line">  isMammal: true</span><br><span class="line">&#125;</span><br><span class="line">mammal.__proto__ = animal</span><br><span class="line">mammal.isAnimal //true</span><br><span class="line">const dog = Object.create(animal)</span><br><span class="line">dog.isAnimal  //true</span><br><span class="line">console.log(dog.isMammal)  //undefined</span><br><span class="line">Object.setPrototypeOf(dog, mammal)</span><br><span class="line">dog.isAnimal //true</span><br><span class="line">dog.isMammal //true</span><br></pre></td></tr></table></figure><h4 id="å±•å¼€æ“ä½œç¬¦"><a href="#å±•å¼€æ“ä½œç¬¦" class="headerlink" title="å±•å¼€æ“ä½œç¬¦"></a>å±•å¼€æ“ä½œç¬¦</h4><p>ä½ å¯ä»¥å±•å¼€ä¸€ä¸ªæ•°ç»„ã€ä¸€ä¸ªå¯¹è±¡ç”šè‡³æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€šè¿‡ä½¿ç”¨å±•å¼€æ“ä½œç¬¦ â€¦ã€‚</p><p>è®©æˆ‘ä»¬ä»¥æ•°ç»„æ¥ä¸¾ä¾‹ï¼Œç»™å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const a = [1, 2, 3]</span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼åˆ›å»ºå‡ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const b = [...a, 4, 5, 6]</span><br></pre></td></tr></table></figure><p>ä½ ä¹Ÿå¯ä»¥åƒä¸‹é¢è¿™æ ·åˆ›å»ºä¸€ä¸ªæ•°ç»„çš„æ‹·è´ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const c = [...a]</span><br></pre></td></tr></table></figure><p>è¿™ä¸­æ–¹å¼å¯¹äºå¯¹è±¡ä»ç„¶æœ‰æ•ˆã€‚ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼å…‹éš†ä¸€ä¸ªå¯¹è±¡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const newObj = &#123; ...oldObj &#125;</span><br></pre></td></tr></table></figure><p>ç”¨åœ¨å­—ç¬¦ä¸²ä¸Šçš„æ—¶å€™ï¼Œå±•å¼€æ“ä½œç¬¦ä¼šä»¥å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const hey = &#x27;hey&#x27;</span><br><span class="line">const arrayized = [...hey] // [&#x27;h&#x27;, &#x27;e&#x27;, &#x27;y&#x27;]</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ“ä½œç¬¦æœ‰ä¸€äº›éå¸¸æœ‰ç”¨çš„åº”ç”¨ã€‚å…¶ä¸­æœ€é‡è¦çš„ä¸€ç‚¹å°±æ˜¯ä»¥ä¸€ç§éå¸¸ç®€å•çš„æ–¹å¼ä½¿ç”¨æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°çš„èƒ½åŠ›ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const f = (foo, bar) =&gt; &#123;&#125;</span><br><span class="line">const a = [1, 2]</span><br><span class="line">f(...a)</span><br></pre></td></tr></table></figure><p>ï¼ˆåœ¨ä¹‹å‰çš„è¯­æ³•è§„èŒƒä¸­ï¼Œä½ åªèƒ½é€šè¿‡ f.apply(null, a) çš„æ–¹å¼æ¥å®ç°ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼ä¸æ˜¯å¾ˆå‹å¥½å’Œæ˜“è¯»ã€‚ï¼‰</p><p>å‰©ä½™å‚æ•°ï¼ˆrest elementï¼‰åœ¨å’Œæ•°ç»„è§£æ„ï¼ˆarray destructuringï¼‰æ­é…ä½¿ç”¨çš„æ—¶å€™éå¸¸æœ‰ç”¨ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const numbers = [1, 2, 3, 4, 5]</span><br><span class="line">[first, second, ...others] = numbers</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯å±•å¼€å…ƒç´  ï¼ˆspread elementsï¼‰:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const numbers = [1, 2, 3, 4, 5]</span><br><span class="line">const sum = (a, b, c, d, e) =&gt; a + b + c + d + e</span><br><span class="line">const sum = sum(...numbers)</span><br></pre></td></tr></table></figure><p>ES2018 å¼•å…¥äº† å‰©ä½™å±æ€§ ï¼ŒåŒæ ·çš„æ“ä½œç¬¦ä½†æ˜¯åªèƒ½ç”¨åœ¨å¯¹è±¡ä¸Šã€‚</p><h4 id="å‰©ä½™å±æ€§ï¼ˆRest-propertiesï¼‰"><a href="#å‰©ä½™å±æ€§ï¼ˆRest-propertiesï¼‰" class="headerlink" title="å‰©ä½™å±æ€§ï¼ˆRest propertiesï¼‰:"></a>å‰©ä½™å±æ€§ï¼ˆRest propertiesï¼‰:</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const &#123; first, second, ...others &#125; = &#123;</span><br><span class="line">  first: 1,</span><br><span class="line">  second: 2,</span><br><span class="line">  third: 3,</span><br><span class="line">  fourth: 4,</span><br><span class="line">  fifth: 5</span><br><span class="line">&#125;</span><br><span class="line">first // 1</span><br><span class="line">second // 2</span><br><span class="line">others // &#123; third: 3, fourth: 4, fifth: 5 &#125;</span><br></pre></td></tr></table></figure><p>å±æ€§å±•å¼€ï¼ˆSpread propertiesï¼‰å…è®¸æˆ‘ä»¬ç»“åˆè·Ÿåœ¨ â€¦ æ“ä½œç¬¦ä¹‹åå¯¹è±¡çš„å±æ€§ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const items = &#123; first, second, ...others &#125;</span><br><span class="line">items //&#123; first: 1, second: 2, third: 3, fourth: 4, fifth: 5 &#125;</span><br></pre></td></tr></table></figure><h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><p>ä¸€ä¸ª Set æ•°æ®ç»“æ„å…è®¸æˆ‘ä»¬åœ¨ä¸€ä¸ªå®¹å™¨é‡Œé¢å¢åŠ æ•°æ®ã€‚</p><p>ä¸€ä¸ª Set æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–è€…åŸºç¡€æ•°æ®ç±»å‹ï¼ˆstringsã€numbersæˆ–è€…booleansï¼‰çš„é›†åˆï¼Œä½ å¯ä»¥å°†å®ƒçœ‹ä½œæ˜¯ä¸€ä¸ª Mapï¼Œå…¶ä¸­å€¼ä½œä¸ºæ˜ å°„é”®ï¼Œmap å€¼å§‹ç»ˆä¸º trueã€‚</p><h5 id="åˆå§‹åŒ–ä¸€ä¸ª-Set"><a href="#åˆå§‹åŒ–ä¸€ä¸ª-Set" class="headerlink" title="åˆå§‹åŒ–ä¸€ä¸ª Set"></a>åˆå§‹åŒ–ä¸€ä¸ª Set</h5><p>Set å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼åˆå§‹åŒ–ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const s = new Set()</span><br></pre></td></tr></table></figure><h5 id="å‘-Set-ä¸­æ·»åŠ ä¸€é¡¹"><a href="#å‘-Set-ä¸­æ·»åŠ ä¸€é¡¹" class="headerlink" title="å‘ Set ä¸­æ·»åŠ ä¸€é¡¹"></a>å‘ Set ä¸­æ·»åŠ ä¸€é¡¹</h5><p>ä½ å¯ä»¥ä½¿ç”¨ add æ–¹æ³•å‘ Set ä¸­æ·»åŠ é¡¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s.add(&#x27;one&#x27;)</span><br><span class="line">s.add(&#x27;two&#x27;)</span><br></pre></td></tr></table></figure><p>Set ä»…ä¼šå­˜è´®å”¯ä¸€çš„å…ƒç´ ï¼Œå› æ­¤å¤šæ¬¡è°ƒç”¨ s.add(â€˜oneâ€™) ä¸ä¼šé‡å¤æ·»åŠ æ–°çš„å…ƒç´ ã€‚</p><p>ä½ ä¸å¯ä»¥åŒæ—¶å‘ set ä¸­åŠ å…¥å¤šä¸ªå…ƒç´ ã€‚ä½ éœ€è¦å¤šæ¬¡è°ƒç”¨ add() æ–¹æ³•ã€‚</p><h5 id="æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨-set-ä¸­"><a href="#æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨-set-ä¸­" class="headerlink" title="æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨ set ä¸­"></a>æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨ set ä¸­</h5><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨ set ä¸­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s.has(&#x27;one&#x27;) //true</span><br><span class="line">s.has(&#x27;three&#x27;) //false</span><br></pre></td></tr></table></figure><h5 id="ä»-set-ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼š"><a href="#ä»-set-ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼š" class="headerlink" title="ä» set ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼š"></a>ä» set ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼š</h5><p>ä½¿ç”¨ delete() æ–¹æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s.delete(&#x27;one&#x27;)</span><br></pre></td></tr></table></figure><h5 id="ç¡®å®š-set-ä¸­å…ƒç´ çš„æ•°é‡"><a href="#ç¡®å®š-set-ä¸­å…ƒç´ çš„æ•°é‡" class="headerlink" title="ç¡®å®š set ä¸­å…ƒç´ çš„æ•°é‡"></a>ç¡®å®š set ä¸­å…ƒç´ çš„æ•°é‡</h5><p>ä½¿ç”¨ size å±æ€§ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s.size</span><br></pre></td></tr></table></figure><h5 id="åˆ é™¤-set-ä¸­çš„å…¨éƒ¨å…ƒç´ "><a href="#åˆ é™¤-set-ä¸­çš„å…¨éƒ¨å…ƒç´ " class="headerlink" title="åˆ é™¤ set ä¸­çš„å…¨éƒ¨å…ƒç´ "></a>åˆ é™¤ set ä¸­çš„å…¨éƒ¨å…ƒç´ </h5><p>ä½¿ç”¨ clear() æ–¹æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s.clear()</span><br></pre></td></tr></table></figure><h5 id="å¯¹-set-è¿›è¡Œè¿­ä»£"><a href="#å¯¹-set-è¿›è¡Œè¿­ä»£" class="headerlink" title="å¯¹ set è¿›è¡Œè¿­ä»£"></a>å¯¹ set è¿›è¡Œè¿­ä»£</h5><p>ä½¿ç”¨ keys() æˆ–è€… values() æ–¹æ³• - å®ƒä»¬ç­‰ä»·äºä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for (const k of s.keys()) &#123;</span><br><span class="line">  console.log(k)</span><br><span class="line">&#125;</span><br><span class="line">for (const k of s.values()) &#123;</span><br><span class="line">  console.log(k)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>entries() æ–¹æ³•è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œä½ å¯ä»¥è¿™æ ·ä½¿ç”¨å®ƒï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const i = s.entries()</span><br><span class="line">console.log(i.next())</span><br></pre></td></tr></table></figure><p>è°ƒç”¨ i.next() å°†ä¼šä»¥ { value, done = false } å¯¹è±¡çš„å½¢å¼è¿”å›æ¯ä¸€ä¸ªå…ƒç´ ï¼Œç›´åˆ°è¿­ä»£ç»“æŸï¼Œè¿™æ—¶ done æ˜¯ trueã€‚</p><p>ä½ ä¹Ÿå¯ä»¥è°ƒç”¨ set çš„ forEach() æ–¹æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s.forEach(v =&gt; console.log(v))</span><br></pre></td></tr></table></figure><p>æˆ–è€…ä½ å°±ç›´æ¥ä½¿ç”¨ for..of å¾ªç¯å§ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (const k of s) &#123;</span><br><span class="line">  console.log(k)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ä½¿ç”¨ä¸€äº›åˆå§‹å€¼åˆå§‹åŒ–ä¸€ä¸ª-set"><a href="#ä½¿ç”¨ä¸€äº›åˆå§‹å€¼åˆå§‹åŒ–ä¸€ä¸ª-set" class="headerlink" title="ä½¿ç”¨ä¸€äº›åˆå§‹å€¼åˆå§‹åŒ–ä¸€ä¸ª set"></a>ä½¿ç”¨ä¸€äº›åˆå§‹å€¼åˆå§‹åŒ–ä¸€ä¸ª set</h5><p>ä½ å¯ä»¥ä½¿ç”¨ä¸€äº›å€¼åˆå§‹åŒ–ä¸€ä¸ª setï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const s = new Set([1, 2, 3, 4])</span><br></pre></td></tr></table></figure><p>å°† set è½¬æ¢ä¸ºä¸€ä¸ªæ•°ç»„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const a = [...s.keys()]</span><br><span class="line">// or</span><br><span class="line">const a = [...s.values()]</span><br></pre></td></tr></table></figure><h5 id="WeakSet"><a href="#WeakSet" class="headerlink" title="WeakSet"></a>WeakSet</h5><p>ä¸€ä¸ª WeakSet æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ Set.</p><p>åœ¨ set ä¸­ï¼Œå…ƒç´ ä¸ä¼šè¢« gcï¼ˆåƒåœ¾å›æ”¶ï¼‰ã€‚ä¸€ä¸ª weakSet è®©å®ƒçš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯å¯ä»¥è¢« gc çš„ã€‚weakSet ä¸­çš„æ¯ä¸ªé”®éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å½“è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨æ¶ˆå¤±çš„æ—¶å€™ï¼Œå¯¹åº”çš„å€¼å°±å¯ä»¥è¢« gc äº†ã€‚</p><p>ä¸‹é¢æ˜¯ä¸»è¦çš„ä¸åŒç‚¹ï¼š</p><ul><li>WeakSet ä¸å¯è¿­ä»£</li><li>ä½ ä¸èƒ½æ¸…ç©º weakSet ä¸­çš„æ‰€æœ‰å…ƒç´ </li><li>ä¸èƒ½å¤Ÿå¾—åˆ° weakSet çš„å¤§å°</li></ul><p>ä¸€ä¸ª weakSet é€šå¸¸æ˜¯åœ¨æ¡†æ¶çº§åˆ«çš„ä»£ç ä¸­ä½¿ç”¨ï¼Œä»…ä»…æš´éœ²äº†ä¸‹é¢çš„æ–¹æ³•ï¼š</p><ul><li>add()</li><li>has()</li><li>delete()</li></ul><h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><p>ä¸€ä»½mapç»“æ„çš„æ•°æ®å…è®¸æˆ‘ä»¬å»ºç«‹æ•°æ®å’Œkeyçš„å…³ç³»</p><h5 id="åœ¨ES6ä¹‹å‰"><a href="#åœ¨ES6ä¹‹å‰" class="headerlink" title="åœ¨ES6ä¹‹å‰"></a>åœ¨ES6ä¹‹å‰</h5><p>åœ¨å¼•å…¥Mapä¹‹å‰ï¼Œå¼€å‘è€…é€šå¸¸æŠŠå¯¹è±¡(Object)å½“Mapä½¿ç”¨ï¼ŒæŠŠæŸä¸ªobjectæˆ–valueå€¼ä¸æŒ‡å®šçš„keyè¿›è¡Œå…³è”:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const car = &#123;&#125;</span><br><span class="line">car[&#x27;color&#x27;] = &#x27;red&#x27;</span><br><span class="line">car.owner = &#x27;Flavio&#x27;</span><br><span class="line">console.log(car[&#x27;color&#x27;]) //red</span><br><span class="line">console.log(car.color) //red</span><br><span class="line">console.log(car.owner) //Flavio</span><br><span class="line">console.log(car[&#x27;owner&#x27;]) //Flavio</span><br></pre></td></tr></table></figure><h5 id="å¼•å…¥Mapä¹‹å"><a href="#å¼•å…¥Mapä¹‹å" class="headerlink" title="å¼•å…¥Mapä¹‹å"></a>å¼•å…¥Mapä¹‹å</h5><p>ES6å¼•å…¥äº†Mapæ•°æ®ç»“æ„ï¼Œå®ƒä¸ºæˆ‘ä»¬å¤„ç†è¿™ç§æ•°æ®ç»“æ„æä¾›äº†ä¸€ç§åˆé€‚çš„å·¥å…·</p><p>Mapçš„åˆå§‹åŒ–:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const m = new Map()</span><br></pre></td></tr></table></figure><p>æ·»åŠ æ¡ç›®åˆ°Mapä¸­</p><p>ä½ å¯ä»¥é€šè¿‡set()æ–¹æ³•æŠŠæ¡ç›®è®¾å®šåˆ°mapä¸­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">m.set(&#x27;color&#x27;, &#x27;red&#x27;)</span><br><span class="line">m.set(&#x27;age&#x27;, 2)</span><br></pre></td></tr></table></figure><p>é€šè¿‡keyå€¼ä»mapä¸­è·å–æ¡ç›®</p><p>ä½ å¯ä»¥é€šè¿‡get()æ–¹æ³•ä»mapä¸­å–å‡ºæ¡ç›®:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const color = m.get(&#x27;color&#x27;)</span><br><span class="line">const age = m.get(&#x27;age&#x27;)</span><br></pre></td></tr></table></figure><p>é€šè¿‡keyå€¼ä»mapä¸­åˆ é™¤æ¡ç›®</p><p>ä½¿ç”¨delete()æ–¹æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m.delete(&#x27;color&#x27;)</span><br></pre></td></tr></table></figure><p>ä»mapä¸­åˆ é™¤æ‰€æœ‰æ¡ç›®</p><p>ä½¿ç”¨clear()æ–¹æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m.clear()</span><br></pre></td></tr></table></figure><p>é€šè¿‡keyå€¼æ£€æŸ¥mapä¸­æ˜¯å¦å«æœ‰æŸä¸ªæ¡ç›®</p><p>ä½¿ç”¨has()æ–¹æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const hasColor = m.has(&#x27;color&#x27;)</span><br></pre></td></tr></table></figure><p>è·å–mapä¸­çš„æ¡ç›®æ•°é‡</p><p>ä½¿ç”¨ size å±æ€§:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const size = m.size</span><br></pre></td></tr></table></figure><p>ç”¨valueå€¼åˆå§‹åŒ–ä¸€ä¸ªmap</p><p>ä½ å¯ä»¥ç”¨ä¸€ç»„valueæ¥åˆå§‹åŒ–ä¸€ä¸ªmapï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const m = new Map([[&#x27;color&#x27;, &#x27;red&#x27;], [&#x27;owner&#x27;, &#x27;Flavio&#x27;], [&#x27;age&#x27;, 2]])</span><br></pre></td></tr></table></figure><p>Map çš„keyå€¼</p><p>ä»»ä½•å€¼(å¯¹è±¡ï¼Œæ•°ç»„ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°å­—)éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªmapçš„valueå€¼(ä½¿ç”¨key-valueé”®å€¼çš„å½¢å¼)ï¼Œä»»ä½•å€¼ä¹Ÿå¯ä»¥ç”¨ä½œkeyï¼Œå³ä½¿æ˜¯objectå¯¹è±¡ã€‚</p><p>å¦‚æœä½ æƒ³é€šè¿‡get()æ–¹æ³•ä»mapä¸­è·å–ä¸å­˜åœ¨çš„keyï¼Œå®ƒå°†ä¼šè¿”å›undefined</p><p>åœ¨çœŸå®ä¸–ç•Œä¸­ä½ å‡ ä¹ä¸å¯èƒ½æ‰¾åˆ°çš„è¯¡å¼‚æƒ…å†µ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const m = new Map()</span><br><span class="line">m.set(NaN, &#x27;test&#x27;)</span><br><span class="line">m.get(NaN) //test</span><br><span class="line">const m = new Map()</span><br><span class="line">m.set(+0, &#x27;test&#x27;)</span><br><span class="line">m.get(-0) //test</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨Iterateè¿­ä»£å™¨è·å–mapçš„keyså€¼</p><p>Mapæä¾›äº†keys()æ–¹æ³•ï¼Œé€šè¿‡è¯¥æ–¹æ³•æˆ‘ä»¬å¯ä»¥è¿­ä»£å‡ºæ‰€æœ‰çš„keyå€¼:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (const k of m.keys()) &#123;</span><br><span class="line">  console.log(k)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨Iterateè¿­ä»£å™¨è·å–mapçš„valueså€¼</p><p>Mapæä¾›äº†values()æ–¹æ³•ï¼Œé€šè¿‡è¯¥æ–¹æ³•æˆ‘ä»¬å¯ä»¥è¿­ä»£å‡ºæ‰€æœ‰çš„valueå€¼:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (const v of m.values()) &#123;</span><br><span class="line">  console.log(v)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨Iterateè¿­ä»£å™¨è·å–key-valueç»„æˆçš„é”®å€¼å¯¹</p><p>Mapæä¾›äº†entries()æ–¹æ³•ï¼Œé€šè¿‡è¯¥æ–¹æ³•æˆ‘ä»¬å¯ä»¥è¿­ä»£å‡ºæ‰€æœ‰çš„é”®å€¼å¯¹:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (const [k, v] of m.entries()) &#123;</span><br><span class="line">  console.log(k, v)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ–¹æ³•è¿˜å¯ä»¥ç®€åŒ–ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (const [k, v] of m) &#123;</span><br><span class="line">  console.log(k, v)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°†mapçš„keyså€¼è½¬æ¢ä¸ºæ•°ç»„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const a = [...m.keys()]</span><br></pre></td></tr></table></figure><p>å°†mapçš„valueså€¼è½¬æ¢ä¸ºæ•°ç»„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const a = [...m.values()]</span><br></pre></td></tr></table></figure><h4 id="WeakMap"><a href="#WeakMap" class="headerlink" title="WeakMap"></a>WeakMap</h4><p>WeakMapæ˜¯ä¸€ç§ç‰¹æ®Šçš„Map</p><p>åœ¨ä¸€ä¸ªmapå¯¹è±¡ä¸­ï¼Œå®šä¹‰åœ¨å…¶ä¸Šæ•°æ®æ°¸è¿œä¸ä¼šè¢«åƒåœ¾å›æ”¶ï¼ŒWeakMapæ›¿è€Œä»£ä¹‹çš„æ˜¯å®ƒå…è®¸åœ¨å®ƒä¸Šé¢å®šä¹‰çš„æ•°æ®å¯ä»¥è‡ªç”±çš„è¢«åƒåœ¾å›æ”¶èµ°ï¼ŒWeakMapçš„æ¯ä¸€ä¸ªkeyéƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå½“æŒ‡å‘è¯¥å¯¹è±¡çš„æŒ‡é’ˆä¸¢å¤±ï¼Œä¸ä¹‹å¯¹åº”çš„valueå°±ä¼šè¢«åƒåœ¾å›æ”¶èµ°ã€‚</p><p>è¿™æ˜¯WeakMapçš„ä¸»è¦ä¸åŒå¤„ï¼š</p><ul><li>ä½ ä¸å¯ä»¥åœ¨WeakMapä¸Šè¿­ä»£keyså€¼å’Œvalueså€¼(æˆ–è€…key-valueé”®å€¼å¯¹)</li><li>ä½ ä¸å¯ä»¥ä»WeakMapä¸Šæ¸…é™¤æ‰€æœ‰æ¡ç›®</li></ul><h5 id="ä½ ä¸å¯ä»¥è·å–WeakMapçš„å¤§å°"><a href="#ä½ ä¸å¯ä»¥è·å–WeakMapçš„å¤§å°" class="headerlink" title="ä½ ä¸å¯ä»¥è·å–WeakMapçš„å¤§å°"></a>ä½ ä¸å¯ä»¥è·å–WeakMapçš„å¤§å°</h5><p>WeakMapæä¾›äº†å¦‚ä¸‹å‡ ç§æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•çš„ä½¿ç”¨å’Œåœ¨Mapä¸­ä¸€æ ·ï¼š</p><ul><li>get(k)</li><li>set(k, v)</li><li>has(k)</li><li>delete(k)</li></ul><p>å…³äºWeakMapçš„ç”¨ä¾‹ä¸å¦‚Mapçš„ç”¨ä¾‹é‚£ä¹ˆæ˜æ˜¾ï¼Œä½ å¯èƒ½æ°¸è¿œä¹Ÿä¸ä¼šåœ¨å“ªé‡Œä¼šç”¨åˆ°å®ƒï¼Œä½†ä»å®é™…å‡ºå‘ï¼ŒWeakMapå¯ä»¥æ„å»ºä¸ä¼šå¹²æ‰°åˆ°åƒåœ¾å›æ”¶æœºåˆ¶çš„å†…å­˜æ•æ„Ÿæ€§ç¼“å­˜ï¼Œè¿˜å¯ä»¥æ»¡è¶³å°è£…çš„ä¸¥è°¨æ€§åŠä¿¡æ¯çš„éšè—æ€§éœ€æ±‚ã€‚</p><h4 id="Generatorsç”Ÿæˆå™¨"><a href="#Generatorsç”Ÿæˆå™¨" class="headerlink" title="Generatorsç”Ÿæˆå™¨"></a>Generatorsç”Ÿæˆå™¨</h4><p>Generatorsæ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œå®ƒèƒ½å¤Ÿæš‚åœè‡ªèº«çš„æ‰§è¡Œå¹¶åœ¨ä¸€æ®µæ—¶é—´åå†ç»§ç»­è¿è¡Œï¼Œä»è€Œå…è®¸å…¶å®ƒçš„ä»£ç åœ¨æ­¤æœŸé—´è¿è¡Œ(æœ‰å…³è¯¥ä¸»é¢˜çš„è¯¦ç»†è¯´æ˜ï¼Œè¯·å‚é˜…å®Œæ•´çš„â€œjavascriptç”Ÿæˆå™¨æŒ‡å—â€)ã€‚</p><p>Generatorsçš„ä»£ç å†³å®šå®ƒå¿…é¡»ç­‰å¾…ï¼Œå› æ­¤å®ƒå…è®¸é˜Ÿåˆ—ä¸­çš„å…¶å®ƒä»£ç è¿è¡Œï¼Œå¹¶ä¿ç•™â€œå½“å®ƒç­‰å¾…çš„äº‹æƒ…â€å®Œæˆæ—¶æ¢å¤å…¶æ“ä½œçš„æƒåŠ›ã€‚</p><p>æ‰€æœ‰è¿™ä¸€åˆ‡éƒ½æ˜¯é€šè¿‡ä¸€ä¸ªç®€å•çš„å…³é”®å­—â€œyield`â€å®Œæˆçš„ã€‚å½“ç”Ÿæˆå™¨åŒ…å«è¯¥å…³é”®å­—æ—¶ï¼Œå°†åœæ­¢æ‰§è¡Œã€‚</p><p>generatorç”Ÿæˆå™¨å¯ä»¥åŒ…å«è®¸å¤šyieldå…³é”®å­—ï¼Œä»è€Œä½¿è‡ªå·±èƒ½å¤šæ¬¡åœæ­¢è¿è¡Œï¼Œå®ƒæ˜¯ç”±*functionå…³é”®å­—æ ‡è¯†(ä¸è¦å°†å…¶ä¸Cã€C++æˆ–Goç­‰ä½çº§è¯­è¨€ä¸­ä½¿ç”¨çš„å–æ¶ˆæŒ‡é’ˆå¼•ç”¨æ“ä½œç¬¦æ··æ·†)ã€‚</p><p>Generatorsæ”¯æŒJavaScriptä¸­å…¨æ–°çš„ç¼–ç¨‹èŒƒå¼ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>åœ¨generatorè¿è¡Œæ—¶æ”¯æŒåŒå‘é€šä¿¡</li><li>ä¸ä¼šâ€œå†»ç»“â€é•¿æœŸè¿è¡Œåœ¨ç¨‹åºä¸­çš„whileå¾ªç¯</li></ul><p>è¿™é‡Œæœ‰ä¸€ä¸ªè§£é‡Šgeneratorå¦‚ä½•å·¥ä½œçš„ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function *calculator(input) &#123;</span><br><span class="line">  var doubleThat = 2 * (yield (input / 2))</span><br><span class="line">  var another = yield (doubleThat)</span><br><span class="line">  return (input * doubleThat * another)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å…ˆåˆå§‹åŒ–å®ƒï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const calc = calculator(10)</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬åœ¨generatorä¸­å¼€å§‹è¿›è¡Œiteratorè¿­ä»£ï¼š</p><h5 id="calc-next"><a href="#calc-next" class="headerlink" title="calc.next()"></a>calc.next()</h5><p>ç¬¬ä¸€ä¸ªè¿­ä»£å™¨å¼€å§‹äº†è¿­ä»£ï¼Œä»£ç è¿”å›å¦‚ä¸‹objectå¯¹è±¡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  done: false</span><br><span class="line">  value: 5</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼šä»£ç è¿è¡Œäº†å‡½æ•°ï¼Œå¹¶æŠŠinput=10ä¼ å…¥åˆ°ç”Ÿæˆå™¨æ„é€ å‡½æ•°ä¸­ï¼Œè¯¥å‡½æ•°ä¸€ç›´è¿è¡Œç›´åˆ°æŠµè¾¾yieldï¼Œå¹¶è¿”å›yieldè¾“å‡ºçš„å†…å®¹: input / 2 = 5ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°çš„å€¼ä¸º5ï¼Œå¹¶å‘ŠçŸ¥è¿­ä»£å™¨è¿˜æ²¡æœ‰done(å‡½æ•°åªæ˜¯æš‚åœäº†)ã€‚</p><p>åœ¨ç¬¬äºŒä¸ªè¿­ä»£å¤„ï¼Œæˆ‘ä»¬è¾“å…¥7ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">calc.next(7)</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å¾—åˆ°äº†ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  done: false</span><br><span class="line">  value: 14</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>7è¢«ä½œä¸ºdoubleThatçš„å€¼ï¼Œæ³¨æ„ï¼šä½ å¯èƒ½ä¼šæŠŠinput/2ä½œä¸ºè¾“å…¥å‚æ•°ï¼Œä½†è¿™åªæ˜¯ç¬¬ä¸€æ¬¡è¿­ä»£çš„è¿”å›å€¼ã€‚ç°åœ¨æˆ‘ä»¬å¿½ç•¥å®ƒï¼Œä½¿ç”¨æ–°çš„è¾“å…¥å€¼7ï¼Œå¹¶å°†å…¶ä¹˜ä»¥2.</p><p>ç„¶åï¼Œæˆ‘ä»¬å¾—åˆ°ç¬¬äºŒä¸ªyieldçš„å€¼ï¼Œå®ƒè¿”å›doubleThatï¼Œå› æ­¤è¿”å›å€¼ä¸º14ã€‚</p><p>åœ¨ä¸‹ä¸€ä¸ªï¼Œä¹Ÿæ˜¯æœ€åä¸€ä¸ªè¿­ä»£å™¨ï¼Œæˆ‘ä»¬è¾“å…¥100</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">calc.next(100)</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å¾—åˆ°:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  done: true</span><br><span class="line">  value: 14000</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“è¿­ä»£å™¨å®Œæˆæ—¶(æ²¡æœ‰æ›´å¤šçš„yieldå…³é”®å­—)ï¼Œæˆ‘ä»¬è¿”å›input <em>doubleThat</em> anotherï¼Œè¿™ç›¸å½“äº10 <em>14</em>100ã€‚</p><p>è¿™äº›éƒ½æ˜¯åœ¨2015å¹´çš„ES2015å¼•å…¥çš„ç‰¹æ€§ï¼Œç°åœ¨æˆ‘ä»¬æ·±å…¥äº†è§£ä¸‹ES2016ï¼Œå®ƒçš„ä½œç”¨åŸŸèŒƒå›´æ›´å°ã€‚</p><h4 id="Array-prototype-includes"><a href="#Array-prototype-includes" class="headerlink" title="Array.prototype.includes()"></a>Array.prototype.includes()</h4><p>è¯¥ç‰¹æ€§å¼•å…¥äº†ä¸€ç§æ›´ç®€æ´çš„è¯­æ³•ï¼ŒåŒæ¥æ£€æŸ¥æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ ã€‚</p><p>å¯¹äºES6åŠæ›´ä½ç‰ˆæœ¬ï¼Œæƒ³è¦æ£€æŸ¥æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ ï¼Œä½ ä¸å¾—ä¸ä½¿ç”¨indexOfæ–¹æ³•ï¼Œå®ƒæ£€æŸ¥æ•°ç»„ä¸­çš„ç´¢å¼•ï¼Œå¦‚æœå…ƒç´ ä¸å­˜åœ¨ï¼Œå®ƒè¿”å›-1ï¼Œç”±äº-1è¢«è®¡ç®—ä¸ºtrueï¼Œä½ éœ€å¯¹å…¶è¿›è¡Œå–åæ“ä½œï¼Œä¾‹å­å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (![1,2].indexOf(3)) &#123;</span><br><span class="line">  console.log(&#x27;Not found&#x27;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡ES7å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å¦‚æ­¤åšï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (![1,2].includes(3)) &#123;</span><br><span class="line">  console.log(&#x27;Not found&#x27;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ±‚å¹‚è¿ç®—ç¬¦"><a href="#æ±‚å¹‚è¿ç®—ç¬¦" class="headerlink" title="æ±‚å¹‚è¿ç®—ç¬¦"></a>æ±‚å¹‚è¿ç®—ç¬¦</h4><p>æ±‚å¹‚è¿ç®—ç¬¦**ç›¸å½“äºMath.pow()æ–¹æ³•ï¼Œä½†æ˜¯å®ƒä¸æ˜¯ä¸€ä¸ªå‡½æ•°åº“ï¼Œè€Œæ˜¯ä¸€ç§è¯­è¨€æœºåˆ¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Math.pow(4, 2) == 4 ** 2</span><br></pre></td></tr></table></figure><p>å¯¹äºéœ€è¦è¿›è¡Œå¯†é›†æ•°å­¦è¿ç®—çš„ç¨‹åºæ¥è¯´ï¼Œè¿™ä¸ªç‰¹æ€§æ˜¯ä¸ªå¾ˆå¥½çš„å¢å¼ºï¼Œåœ¨å¾ˆå¤šè¯­è¨€ä¸­ï¼Œ**è¿ç®—ç¬¦éƒ½æ˜¯æ ‡å‡†(åŒ…æ‹¬Pythonã€Rubyã€MATLABã€Perlç­‰å…¶å®ƒå¤šç§è¯­è¨€)ã€‚</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/meG6Vo0Meviac0Jv4WVAlibeaSBib1Hh1Y019JXyUEnB5HXEdoX0pA7ibBnpNH5WNnYHqWoPcA84SZSicwkxV2poaeg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p><p>è¿™äº›éƒ½æ˜¯2016å¹´å¼•å…¥çš„ç‰¹æ€§ï¼Œç°åœ¨è®©æˆ‘ä»¬è¿›å…¥2017å¹´ã€‚</p><h4 id="å­—ç¬¦ä¸²å¡«å……"><a href="#å­—ç¬¦ä¸²å¡«å……" class="headerlink" title="å­—ç¬¦ä¸²å¡«å……"></a>å­—ç¬¦ä¸²å¡«å……</h4><p>å­—ç¬¦ä¸²å¡«å……çš„ç›®çš„æ˜¯ç»™å­—ç¬¦ä¸²æ·»åŠ å­—ç¬¦ï¼Œä»¥ä½¿å…¶è¾¾åˆ°æŒ‡å®šé•¿åº¦ã€‚</p><p>ES2017å¼•å…¥äº†ä¸¤ä¸ªStringæ–¹æ³•ï¼špadStart()å’ŒpadEnd()ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">padStart(targetLength [, padString])</span><br><span class="line">padEnd(targetLength [, padString])</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä¾‹å­ï¼š</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/meG6Vo0Meviac0Jv4WVAlibeaSBib1Hh1Y0m85zSGiciaAHf2qGiaiahoX3YRicf0tiaU2O6Ad0uWRyGxBurLYbry4bhs6Q/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p><h4 id="Object-values"><a href="#Object-values" class="headerlink" title="Object.values()"></a>Object.values()</h4><p>è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„åŒ…å«äº†å¯¹è±¡è‡ªå·±çš„æ‰€æœ‰å±æ€§ï¼Œä½¿ç”¨å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const person = &#123; name: &#x27;Fred&#x27;, age: 87 &#125;</span><br><span class="line">Object.values(person) // [&#x27;Fred&#x27;, 87]</span><br></pre></td></tr></table></figure><p>Object.values()ä¹Ÿå¯ä»¥ä½œç”¨äºæ•°ç»„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const people = [&#x27;Fred&#x27;, &#x27;Tony&#x27;]</span><br><span class="line">Object.values(people) // [&#x27;Fred&#x27;, &#x27;Tony&#x27;]</span><br></pre></td></tr></table></figure><h4 id="Object-entries"><a href="#Object-entries" class="headerlink" title="Object.entries()"></a>Object.entries()</h4><p>è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„åŒ…å«äº†å¯¹è±¡è‡ªå·±çš„æ‰€æœ‰å±æ€§é”®å€¼å¯¹ï¼Œæ˜¯ä¸€ä¸ª[key, value]å½¢å¼çš„æ•°ç»„ï¼Œä½¿ç”¨å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const person = &#123; name: &#x27;Fred&#x27;, age: 87 &#125;</span><br><span class="line">Object.entries(person) // [[&#x27;name&#x27;, &#x27;Fred&#x27;], [&#x27;age&#x27;, 87]]</span><br></pre></td></tr></table></figure><p>Object.entries()ä¹Ÿå¯ä»¥ä½œç”¨äºæ•°ç»„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const people = [&#x27;Fred&#x27;, &#x27;Tony&#x27;]</span><br><span class="line">Object.entries(people) // [[&#x27;0&#x27;, &#x27;Fred&#x27;], [&#x27;1&#x27;, &#x27;Tony&#x27;]]</span><br></pre></td></tr></table></figure><h4 id="Object-getOwnPropertyDescriptors"><a href="#Object-getOwnPropertyDescriptors" class="headerlink" title="Object.getOwnPropertyDescriptors()"></a>Object.getOwnPropertyDescriptors()</h4><p>è¯¥æ–¹æ³•è¿”å›è‡ªå·±(éç»§æ‰¿)çš„æ‰€æœ‰å±æ€§æè¿°ç¬¦ï¼ŒJavaScriptä¸­çš„ä»»ä½•å¯¹è±¡éƒ½æœ‰ä¸€ç»„å±æ€§ï¼Œæ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªæè¿°ç¬¦ï¼Œæè¿°ç¬¦æ˜¯å±æ€§çš„ä¸€ç»„å±æ€§(attributes)ï¼Œç”±ä»¥ä¸‹éƒ¨åˆ†ç»„æˆï¼š</p><ul><li>value: ç†Ÿæ‚‰çš„valueå€¼</li><li>writable: å±æ€§æ˜¯å¦å¯ä»¥è¢«æ›´æ”¹</li><li>get: å±æ€§çš„getterå‡½æ•°, å½“å±æ€§è¯»å–æ—¶è¢«è°ƒç”¨</li><li>set: å±æ€§çš„setterå‡½æ•°, å½“å±æ€§è®¾ç½®å€¼æ—¶è¢«è°ƒç”¨</li><li>configurable: å¦‚æœä¸ºfalse, ä¸èƒ½åˆ é™¤è¯¥å±æ€§ï¼Œé™¤äº†å®ƒçš„valueå€¼ä»¥ä¸ºï¼Œä¹Ÿä¸èƒ½æ›´æ”¹ä»»ä½•å±æ€§ã€‚</li><li>enumerable: è¯¥å±æ€§æ˜¯å¦èƒ½æšä¸¾</li></ul><p>Object.getOwnPropertyDescriptors(obj)æ¥å—ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¸¦æœ‰æè¿°ç¬¦é›†åˆçš„å¯¹è±¡ã€‚</p><h4 id="In-what-way-is-this-useful"><a href="#In-what-way-is-this-useful" class="headerlink" title="In what way is this useful?"></a>In what way is this useful?</h4><p>ES6ç»™æˆ‘ä»¬æä¾›äº†Object.assign()æ–¹æ³•ï¼Œå®ƒä»ä¸€ä¸ªä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡ä¸­å¤åˆ¶æ‰€æœ‰å¯æšä¸¾çš„å±æ€§å€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™ä¹Ÿå­˜åœ¨ç€ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒä¸èƒ½æ­£ç¡®çš„å¤åˆ¶ä¸€ä¸ªå…·æœ‰éé»˜è®¤å±æ€§å€¼çš„å±æ€§ã€‚</p><p>å¦‚æœå¯¹è±¡åªæœ‰ä¸€ä¸ªsetterï¼Œé‚£ä¹ˆå®ƒå°±ä¸ä¼šæ­£ç¡®çš„å¤åˆ¶åˆ°ä¸€ä¸ªæ–°å¯¹è±¡ä¸Šï¼Œä½¿ç”¨Object.assign()è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const person1 = &#123;</span><br><span class="line">    set name(newName) &#123;</span><br><span class="line">        console.log(newName)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™å°†ä¸ä¼šèµ·ä½œç”¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const person2 = &#123;&#125;</span><br><span class="line">Object.assign(person2, person1)</span><br></pre></td></tr></table></figure><p>ä½†è¿™å°†ä¼šèµ·ä½œç”¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const person3 = &#123;&#125;</span><br><span class="line">Object.defineProperties(person3,</span><br><span class="line">  Object.getOwnPropertyDescriptors(person1))</span><br></pre></td></tr></table></figure><p>é€šè¿‡ä¸€ä¸ªç®€å•çš„consoleæ§åˆ¶å°ï¼Œä½ å¯ä»¥æŸ¥çœ‹ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">person1.name = &#x27;x&#x27;</span><br><span class="line">&quot;x&quot;</span><br><span class="line">person2.name = &#x27;x&#x27;</span><br><span class="line">person3.name = &#x27;x&#x27;</span><br><span class="line">&quot;x&quot;</span><br></pre></td></tr></table></figure><p>person2æ²¡æœ‰setterï¼Œå®ƒæ²¡èƒ½å¤åˆ¶è¿›å»ï¼Œå¯¹è±¡çš„æµ…å¤åˆ¶é™å®šä¹Ÿå‡ºç°åœ¨Object.create()æ–¹æ³•ä¸­ã€‚</p><h4 id="å°¾é€—å·"><a href="#å°¾é€—å·" class="headerlink" title="å°¾é€—å·"></a>å°¾é€—å·</h4><p>è¯¥ç‰¹æ€§å…è®¸åœ¨å‡½æ•°å®šä¹‰æ—¶æœ‰å°¾é€—å·ï¼Œåœ¨å‡½æ•°ä½¿ç”¨æ—¶å¯ä»¥æœ‰å°¾é€—å·ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const doSomething = (var1, var2,) =&gt; &#123;</span><br><span class="line">  //...</span><br><span class="line">&#125;</span><br><span class="line">doSomething(&#x27;test2&#x27;, &#x27;test2&#x27;,)</span><br></pre></td></tr></table></figure><p>è¯¥æ”¹å˜å°†é¼“åŠ±å¼€å‘è€…åœæ­¢â€œåœ¨ä¸€è¡Œå¼€å§‹æ—¶å†™é€—å·â€çš„ä¸‘é™‹ä¹ æƒ¯</p><h4 id="å¼‚æ­¥å‡½æ•°"><a href="#å¼‚æ­¥å‡½æ•°" class="headerlink" title="å¼‚æ­¥å‡½æ•°"></a>å¼‚æ­¥å‡½æ•°</h4><p>JavaScriptåœ¨å¾ˆçŸ­çš„æ—¶é—´å†…ä»å›è°ƒå‡½æ•°è¿›åŒ–åˆ°Promiseå‡½æ•°(ES2015)ï¼Œå¹¶è‡ªä»ES2017ä»¥æ¥ï¼Œå¼‚æ­¥JavaScriptçš„async/waitè¯­æ³•å˜å¾—æ›´åŠ ç®€å•ã€‚ å¼‚æ­¥å‡½æ•°æ˜¯Promiseå’Œgeneratorçš„ç»“åˆï¼ŒåŸºæœ¬ä¸Šï¼Œå®ƒæ˜¯æ¯”Promiseæ›´é«˜çº§çš„æŠ½è±¡ï¼Œæˆ‘å†é‡å¤ä¸€èˆ¬ï¼šasync/awaitæ˜¯åŸºäºPromiseå»ºç«‹çš„</p><h5 id="ä¸ºä»€ä¹ˆè¦å¼•å…¥async-await"><a href="#ä¸ºä»€ä¹ˆè¦å¼•å…¥async-await" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å¼•å…¥async/await"></a>ä¸ºä»€ä¹ˆè¦å¼•å…¥async/await</h5><p>å®ƒå‡å°‘äº†å›´ç»•promiseçš„å¼•ç”¨ï¼Œå¹¶æ‰“ç ´äº†Promise â€” â€œä¸è¦æ‰“æ–­é“¾å¼è°ƒç”¨â€çš„é™åˆ¶ã€‚</p><p>å½“Promiseåœ¨ES2015ä¸­å¼•å…¥æ—¶ï¼Œå®ƒçš„æœ¬æ„æ˜¯æ¥è§£å†³å¼‚æ­¥ä»£ç çš„é—®é¢˜ï¼Œå®ƒä¹Ÿç¡®å®åšåˆ°äº†ï¼Œä½†åœ¨ES2015å’ŒES2017é—´éš”çš„è¿™ä¸¤å¹´ä¸­ï¼Œå¤§å®¶æ„è¯†åˆ°ï¼šPromiseä¸æ˜¯è§£å†³é—®é¢˜çš„ç»ˆææ–¹æ¡ˆã€‚</p><p>Promiseæ˜¯ä¸ºäº†è§£å†³è‘—åçš„å›è°ƒåœ°ç‹±è€Œè¢«å¼•å…¥çš„ï¼Œä½†å®ƒæœ¬èº«ä¹Ÿå¸¦æ¥äº†ä½¿ç”¨å¤æ‚æ€§å’Œè¯­æ³•å¤æ‚æ€§ã€‚</p><p>Promiseæ˜¯å¾ˆå¥½çš„åŸç”Ÿç‰¹æ€§ï¼Œå›´ç»•ç€å®ƒå¼€å‘äººå‘˜å¯ä»¥æ¢ç´¢å‡ºæ›´å¥½çš„è¯­æ³•ï¼Œå› æ­¤å½“æ—¶æœºæˆç†Ÿåï¼Œæˆ‘ä»¬å¾—åˆ°äº†asyncå‡½æ•°</p><p>asyncå‡½æ•°ä½¿ä»£ç çœ‹èµ·æ¥åƒæ˜¯åŒæ­¥å‡½æ•°ä¸€æ ·ï¼Œä½†å…¶èƒŒåå´æ˜¯å¼‚æ­¥å’Œéå µå¡çš„ã€‚</p><h5 id="å®ƒå¦‚ä½•å·¥ä½œ"><a href="#å®ƒå¦‚ä½•å·¥ä½œ" class="headerlink" title="å®ƒå¦‚ä½•å·¥ä½œ"></a>å®ƒå¦‚ä½•å·¥ä½œ</h5><p>ä¸€ä¸ªasyncå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªpromiseï¼Œå¦‚ä¸‹ä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const doSomethingAsync = () =&gt; &#123;</span><br><span class="line">  return new Promise(resolve =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; resolve(&#x27;I did something&#x27;), 3000)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ä½ æƒ³è¦è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œä½ åœ¨å‰é¢åŠ ä¸Šäº†ä¸€ä¸ªwaitï¼Œè¿™æ ·è°ƒç”¨å°±ä¼šè¢«åœæ­¢ï¼Œç›´åˆ°è¯¥promiseè¿›è¡Œresolveæˆ–rejectï¼Œéœ€æ³¨æ„çš„æ˜¯ï¼šå¤–å±‚å‡½æ•°å¿…é¡»å®šä¹‰ä¸ºasyncï¼Œè¿™æ˜¯ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const doSomething = async () =&gt; &#123;</span><br><span class="line">  console.log(await doSomethingAsync())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ä¸€ä¸ªä¸Šæ‰‹ç¤ºä¾‹"><a href="#ä¸€ä¸ªä¸Šæ‰‹ç¤ºä¾‹" class="headerlink" title="ä¸€ä¸ªä¸Šæ‰‹ç¤ºä¾‹"></a>ä¸€ä¸ªä¸Šæ‰‹ç¤ºä¾‹</h5><p>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨async/awaitè¿›è¡Œå¼‚æ­¥å‡½æ•°çš„ç®€å•ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const doSomethingAsync = () =&gt; &#123;</span><br><span class="line">  return new Promise(resolve =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; resolve(&#x27;I did something&#x27;), 3000)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">const doSomething = async () =&gt; &#123;</span><br><span class="line">  console.log(await doSomethingAsync())</span><br><span class="line">&#125;</span><br><span class="line">console.log(&#x27;Before&#x27;)</span><br><span class="line">doSomething()</span><br><span class="line">console.log(&#x27;After&#x27;)</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç å°†ä¼šåœ¨æµè§ˆå™¨çš„consoleä¸­æ‰“å°å‡ºå¦‚ä¸‹ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Before</span><br><span class="line">After</span><br><span class="line">I did something //after 3s</span><br></pre></td></tr></table></figure><h4 id="å…³äº-Promise"><a href="#å…³äº-Promise" class="headerlink" title="å…³äº Promise"></a>å…³äº Promise</h4><p>å°† async å…³é”®å­—æ ‡è®°åœ¨ä»»ä½•å‡½æ•°ä¸Šï¼Œæ„å‘³ç€è¿™ä¸ªå‡½æ•°éƒ½å°†è¿”å›ä¸€ä¸ª Promiseï¼Œå³ä½¿è¿™ä¸ªå‡½æ•°æ²¡æœ‰æ˜¾å¼çš„è¿”å›ï¼Œå®ƒåœ¨å†…éƒ¨ä¹Ÿä¼šè¿”å›ä¸€ä¸ª Promiseï¼Œè¿™å°±æ˜¯ä¸‹é¢è¿™ä»½ä»£ç æœ‰æ•ˆçš„åŸå› ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const aFunction = async () =&gt; &#123;</span><br><span class="line">  return &#x27;test&#x27;</span><br><span class="line">&#125;</span><br><span class="line">aFunction().then(alert) // This will alert &#x27;test&#x27;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢çš„ä¾‹å­ä¹Ÿä¸€æ ·:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const aFunction = async () =&gt; &#123;</span><br><span class="line">  return Promise.resolve(&#x27;test&#x27;)</span><br><span class="line">&#125;</span><br><span class="line">aFunction().then(alert) // This will alert &#x27;test&#x27;</span><br></pre></td></tr></table></figure><h5 id="æ›´æ˜“äºé˜…è¯»çš„ä»£ç "><a href="#æ›´æ˜“äºé˜…è¯»çš„ä»£ç " class="headerlink" title="æ›´æ˜“äºé˜…è¯»çš„ä»£ç "></a>æ›´æ˜“äºé˜…è¯»çš„ä»£ç </h5><p>æ­£å¦‚ä¸Šè¿°çš„ä¾‹å­ï¼Œæˆ‘ä»¬å°†å®ƒä¸æ™®é€šå›è°ƒå‡½æ•°æˆ–é“¾å¼å‡½æ•°è¿›è¡Œæ¯”è¾ƒï¼Œæˆ‘ä»¬çš„ä»£ç çœ‹èµ·æ¥éå¸¸çš„ç®€å•ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„ä¾‹å­ï¼Œå½“ä»£ç è¶³å¤Ÿå¤æ‚æ—¶ï¼Œå®ƒä¼šäº§ç”Ÿæ›´å¤šçš„æ”¶ç›Šã€‚</p><p>ä¾‹å¦‚ï¼Œä½¿ç”¨ Promise æ¥è·å– JSON èµ„æºå¹¶è§£æå®ƒï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const getFirstUserData = () =&gt; &#123;</span><br><span class="line">  return fetch(&#x27;/users.json&#x27;) // get users list</span><br><span class="line">    .then(response =&gt; response.json()) // parse JSON</span><br><span class="line">    .then(users =&gt; users[0]) // pick first user</span><br><span class="line">    .then(user =&gt; fetch(`/users/$&#123;user.name&#125;`)) // get user data</span><br><span class="line">    .then(userResponse =&gt; response.json()) // parse JSON</span><br><span class="line">&#125;</span><br><span class="line">getFirstUserData()</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä½¿ç”¨ async/await å®ç°ç›¸åŒåŠŸèƒ½çš„ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const getFirstUserData = async () =&gt; &#123;</span><br><span class="line">  const response = await fetch(&#x27;/users.json&#x27;) // get users list</span><br><span class="line">  const users = await response.json() // parse JSON</span><br><span class="line">  const user = users[0] // pick first user</span><br><span class="line">  const userResponse = await fetch(`/users/$&#123;user.name&#125;`) // get user data</span><br><span class="line">  const userData = await user.json() // parse JSON</span><br><span class="line">  return userData</span><br><span class="line">&#125;</span><br><span class="line">getFirstUserData()</span><br></pre></td></tr></table></figure><h5 id="ä¸²è¡Œå¤šä¸ªå¼‚æ­¥åŠŸèƒ½"><a href="#ä¸²è¡Œå¤šä¸ªå¼‚æ­¥åŠŸèƒ½" class="headerlink" title="ä¸²è¡Œå¤šä¸ªå¼‚æ­¥åŠŸèƒ½"></a>ä¸²è¡Œå¤šä¸ªå¼‚æ­¥åŠŸèƒ½</h5><p>async å‡½æ•°éå¸¸å®¹æ˜“ï¼Œå¹¶ä¸”å®ƒçš„è¯­æ³•æ¯” Promise æ›´æ˜“è¯»ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">const promiseToDoSomething = () =&gt; &#123;</span><br><span class="line">  return new Promise(resolve =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; resolve(&#x27;I did something&#x27;), 10000)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">const watchOverSomeoneDoingSomething = async () =&gt; &#123;</span><br><span class="line">  const something = await promiseToDoSomething()</span><br><span class="line">  return something + &#x27; and I watched&#x27;</span><br><span class="line">&#125;</span><br><span class="line">const watchOverSomeoneWatchingSomeoneDoingSomething = async () =&gt; &#123;</span><br><span class="line">  const something = await watchOverSomeoneDoingSomething()</span><br><span class="line">  return something + &#x27; and I watched as well&#x27;</span><br><span class="line">&#125;</span><br><span class="line">watchOverSomeoneWatchingSomeoneDoingSomething().then(res =&gt; &#123;</span><br><span class="line">  console.log(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ‰“å°ç»“æœ:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">I did something and I watched and I watched as well</span><br></pre></td></tr></table></figure><h4 id="æ›´ç®€å•çš„è°ƒè¯•"><a href="#æ›´ç®€å•çš„è°ƒè¯•" class="headerlink" title="æ›´ç®€å•çš„è°ƒè¯•"></a>æ›´ç®€å•çš„è°ƒè¯•</h4><p>è°ƒè¯• Promise å°±å¾ˆå›°éš¾ï¼Œå› ä¸ºè°ƒè¯•å™¨æ— æ³•è·¨è¶Šå¼‚æ­¥ä»£ç ï¼Œä½†è°ƒè¯• async/await å°±éå¸¸çš„ç®€å•ï¼Œè°ƒè¯•å™¨ä¼šåƒè°ƒè¯•åŒæ­¥ä»£ç ä¸€æ ·æ¥å¤„ç†å®ƒã€‚</p><h5 id="å…±äº«å†…å­˜å’ŒåŸå­"><a href="#å…±äº«å†…å­˜å’ŒåŸå­" class="headerlink" title="å…±äº«å†…å­˜å’ŒåŸå­"></a>å…±äº«å†…å­˜å’ŒåŸå­</h5><p>WebWorkers å¯ä»¥åœ¨æµè§ˆå™¨ä¸­åˆ›å»ºå¤šçº¿ç¨‹ç¨‹åºã€‚</p><p>å®ƒä»¬é€šè¿‡äº‹ä»¶çš„æ–¹å¼æ¥ä¼ é€’æ¶ˆæ¯ï¼Œä» ES2017 å¼€å§‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ SharedArrayBuffer åœ¨æ¯ä¸€ä¸ª Worker ä¸­å’Œå®ƒä»¬çš„åˆ›å»ºè€…ä¹‹é—´å…±äº«å†…å­˜æ•°ç»„.</p><p>ç”±äºä¸çŸ¥é“å†™å…¥å†…å­˜éƒ¨åˆ†éœ€è¦å¤šé•¿çš„å‘¨æœŸæ¥å¹¿æ’­ï¼Œå› æ­¤åœ¨è¯»å–å€¼æ—¶ï¼Œä»»ä½•ç±»å‹çš„å†™å…¥æ“ä½œéƒ½ä¼šå®Œæˆï¼ŒAtomics å¯ä»¥é¿å…ç«äº‰æ¡ä»¶çš„å‘ç”Ÿã€‚</p><p>å…³äºå®ƒçš„æ›´å¤šç»†èŠ‚å¯ä»¥åœ¨proposalä¸­æ‰¾åˆ°ã€‚</p><p>è¿™æ˜¯ ES2017ï¼Œæ¥ä¸‹æ¥æˆ‘å°†ä»‹ç» ES2018 çš„åŠŸèƒ½ã€‚</p><h5 id="Rest-Spread-Properties"><a href="#Rest-Spread-Properties" class="headerlink" title="Rest/Spread Properties"></a>Rest/Spread Properties</h5><p>ES2015 å¼•å…¥äº†è§£æ„æ•°ç»„çš„æ–¹æ³•ï¼Œå½“ä½ ä½¿ç”¨æ—¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const numbers = [1, 2, 3, 4, 5]</span><br><span class="line">[first, second, ...others] = numbers</span><br></pre></td></tr></table></figure><p>and å±•å¼€å‚æ•°:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const numbers = [1, 2, 3, 4, 5]</span><br><span class="line">const sum = (a, b, c, d, e) =&gt; a + b + c + d + e</span><br><span class="line">const sum = sum(...numbers)</span><br></pre></td></tr></table></figure><p>ES2018 ä¸ºå¯¹è±¡å¼•å…¥äº†åŒæ ·çš„åŠŸèƒ½ã€‚</p><p>è§£æ„:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const &#123; first, second, ...others &#125; = &#123; first: 1, second: 2, third: 3, fourth: 4, fifth: 5 &#125;</span><br><span class="line">first // 1</span><br><span class="line">second // 2</span><br><span class="line">others // &#123; third: 3, fourth: 4, fifth: 5 &#125;</span><br></pre></td></tr></table></figure><p>å±•å¼€å±æ€§ å…è®¸é€šè¿‡ç»„åˆåœ¨å±•å¼€è¿ç®—ç¬¦ä¹‹åä¼ é€’çš„å¯¹è±¡å±æ€§è€Œåˆ›å»ºæ–°å¯¹è±¡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const items = &#123; first, second, ...others &#125;</span><br><span class="line">items //&#123; first: 1, second: 2, third: 3, fourth: 4, fifth: 5 &#125;</span><br></pre></td></tr></table></figure><h5 id="å¼‚æ­¥è¿­ä»£å™¨"><a href="#å¼‚æ­¥è¿­ä»£å™¨" class="headerlink" title="å¼‚æ­¥è¿­ä»£å™¨"></a>å¼‚æ­¥è¿­ä»£å™¨</h5><p>for-await-of å…è®¸ä½ ä½¿ç”¨å¼‚æ­¥å¯è¿­ä»£å¯¹è±¡åšä¸ºå¾ªç¯è¿­ä»£ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for await (const line of readLines(filePath)) &#123;</span><br><span class="line">  console.log(line)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å› ä¸ºå®ƒä½¿ç”¨çš„äº† awaitï¼Œå› æ­¤ä½ åªèƒ½åœ¨ async å‡½æ•°ä¸­ä½¿ç”¨å®ƒã€‚</p><h5 id="Promise-prototype-finally"><a href="#Promise-prototype-finally" class="headerlink" title="Promise.prototype.finally()"></a>Promise.prototype.finally()</h5><p>å½“ä¸€ä¸ª Promise æ˜¯ fulfilled æ—¶ï¼Œå®ƒä¼šä¸€ä¸ªæ¥ä¸€ä¸ªçš„è°ƒç”¨ thenã€‚</p><p>å¦‚æœåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ï¼Œåˆ™ä¼šè·³è¿‡ then è€Œæ‰§è¡Œ catchã€‚</p><p>è€Œ finally() å…è®¸ä½ è¿è¡Œä¸€äº›ä»£ç ï¼Œæ— è®ºæ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fetch(&#x27;file.json&#x27;)</span><br><span class="line">  .then(data =&gt; data.json())</span><br><span class="line">  .catch(error =&gt; console.error(error))</span><br><span class="line">  .finally(() =&gt; console.log(&#x27;finished&#x27;))</span><br></pre></td></tr></table></figure><h5 id="æ­£åˆ™è¡¨è¾¾å¼æ”¹è¿›"><a href="#æ­£åˆ™è¡¨è¾¾å¼æ”¹è¿›" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼æ”¹è¿›"></a>æ­£åˆ™è¡¨è¾¾å¼æ”¹è¿›</h5><p>ES2018 å¯¹æ­£åˆ™è¡¨è¾¾å¼å¼•å…¥äº†è®¸å¤šæ”¹è¿›ï¼Œè¿™äº›éƒ½å¯ä»¥åœ¨ <a href="https://flaviocopes.com/javascript-regular-expressions/">https://flaviocopes.com/javascript-regular-expressions/</a> ä¸Šæ‰¾åˆ°ã€‚</p><p>ä»¥ä¸‹æ˜¯å…³äº ES2018 æ­£åˆ™è¡¨è¾¾å¼æ”¹è¿›çš„å…·ä½“è¡¥å……ï¼š</p><p>RegExp lookbehind assertions: æ ¹æ®å‰é¢çš„å†…å®¹åŒ¹é…å­—ç¬¦ä¸²</p><p>è¿™æ˜¯ä¸€ä¸ª lookahead: ä½ å¯ä»¥ä½¿ç”¨ ?= æ¥åŒ¹é…å­—ç¬¦ä¸²ï¼Œåé¢è·Ÿéšä¸€ä¸ªç‰¹å®šçš„å­—ç¬¦ä¸²ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/Roger(?=Waters)/</span><br><span class="line">/Roger(?= Waters)/.test(&#x27;Roger is my dog&#x27;) //false</span><br><span class="line">/Roger(?= Waters)/.test(&#x27;Roger is my dog and Roger Waters is a famous musician&#x27;) //true</span><br></pre></td></tr></table></figure><p>?! å¯ä»¥æ‰§è¡Œé€†æ“ä½œï¼Œå¦‚æœåŒ¹é…çš„å­—ç¬¦ä¸²æ˜¯noè€Œä¸æ˜¯åœ¨æ­¤åè·Ÿéšç‰¹å®šçš„å­å­—ç¬¦ä¸²çš„è¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/Roger(?!Waters)/</span><br><span class="line">/Roger(?! Waters)/.test(&#x27;Roger is my dog&#x27;) //true</span><br><span class="line">/Roger(?! Waters)/.test(&#x27;Roger Waters is a famous musician&#x27;) //false</span><br></pre></td></tr></table></figure><p>Lookaheads ä½¿ç”¨ ?= Symbolï¼Œå®ƒä»¬å·²ç»å¯ä»¥ç”¨äº†ã€‚</p><p>Lookbehinds, æ˜¯ä¸€ä¸ªæ–°åŠŸèƒ½ä½¿ç”¨?&lt;=.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/(?&lt;=Roger) Waters/</span><br><span class="line">/(?&lt;=Roger) Waters/.test(&#x27;Pink Waters is my dog&#x27;) //false</span><br><span class="line">/(?&lt;=Roger) Waters/.test(&#x27;Roger is my dog and Roger Waters is a famous musician&#x27;) //true</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸€ä¸ª lookbehind æ˜¯å¦å®šï¼Œé‚£ä¹ˆä½¿ç”¨ ?&gt;!:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/(?&lt;!Roger) Waters/</span><br><span class="line">/(?&lt;!Roger) Waters/.test(&#x27;Pink Waters is my dog&#x27;) //true</span><br><span class="line">/(?&lt;!Roger) Waters/.test(&#x27;Roger is my dog and Roger Waters is a famous musician&#x27;) //false</span><br></pre></td></tr></table></figure><h5 id="Unicodeå±æ€§è½¬ä¹‰-p-â€¦-and-P-â€¦"><a href="#Unicodeå±æ€§è½¬ä¹‰-p-â€¦-and-P-â€¦" class="headerlink" title="Unicodeå±æ€§è½¬ä¹‰ \p{â€¦} and \P{â€¦}"></a>Unicodeå±æ€§è½¬ä¹‰ \p{â€¦} and \P{â€¦}</h5><p>åœ¨æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ \d æ¥åŒ¹é…ä»»æ„çš„æ•°å­—ï¼Œ\s æ¥åŒ¹é…ä»»æ„ä¸æ˜¯ç©ºæ ¼çš„å­—ç¬¦ä¸²ï¼Œ\w æ¥åŒ¹é…ä»»æ„å­—æ¯æ•°å­—å­—ç¬¦ä¸²ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><blockquote><p>This new feature extends this concept to all Unicode characters introducing \p{} and is negation \P{}.</p></blockquote><p>è¿™ä¸ªæ–°åŠŸèƒ½æ‰©å±•äº†unicodeå­—ç¬¦ï¼Œå¼•å…¥äº† \p{} æ¥å¤„ç†</p><p>ä»»ä½• unicode å­—ç¬¦éƒ½æœ‰ä¸€ç»„å±æ€§ï¼Œä¾‹å¦‚ script ç¡®è®¤è¯­è¨€ï¼ŒASCII æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ç”¨äºæ£€æŸ¥ ASCII å­—ç¬¦ã€‚ä½ å¯ä»¥å°†æ­¤å±æ€§æ–¹åœ¨() ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°†æ¥æ£€æŸ¥æ˜¯å¦ä¸ºçœŸã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/^\p&#123;ASCII&#125;+$/u.test(&#x27;abc&#x27;)   //âœ…</span><br><span class="line">/^\p&#123;ASCII&#125;+$/u.test(&#x27;ABC@&#x27;)  //âœ…</span><br><span class="line">/^\p&#123;ASCII&#125;+$/u.test(&#x27;ABCğŸ™ƒ&#x27;) //âŒ</span><br></pre></td></tr></table></figure><p>ASCII_Hex_Digit æ˜¯å¦ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œç”¨äºæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æœ‰æ•ˆçš„åå…­è¿›åˆ¶æ•°å­—ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/^\p&#123;ASCII_Hex_Digit&#125;+$/u.test(&#x27;0123456789ABCDEF&#x27;) //âœ…</span><br><span class="line">/^\p&#123;ASCII_Hex_Digit&#125;+$/u.test(&#x27;h&#x27;)                //âŒ</span><br></pre></td></tr></table></figure><p>æ­¤å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šå…¶å®ƒçš„å±æ€§ã€‚ä½ å¯ä»¥åœ¨()ä¸­æ·»åŠ å®ƒä»¬çš„åå­—æ¥æ£€æŸ¥å®ƒä»¬ï¼ŒåŒ…æ‹¬ Uppercase, Lowercase, White_Space, Alphabetic, Emojiç­‰ç­‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/^\p&#123;Lowercase&#125;$/u.test(&#x27;h&#x27;) //âœ…</span><br><span class="line">/^\p&#123;Uppercase&#125;$/u.test(&#x27;H&#x27;) //âœ…</span><br><span class="line">/^\p&#123;Emoji&#125;+$/u.test(&#x27;H&#x27;)   //âŒ</span><br><span class="line">/^\p&#123;Emoji&#125;+$/u.test(&#x27;ğŸ™ƒğŸ™ƒ&#x27;) //âœ…</span><br></pre></td></tr></table></figure><p>é™¤äº†äºŒè¿›åˆ¶å±æ€§å¤–ï¼Œä½ è¿˜å¯ä»¥æ£€æŸ¥ä»»ä½• unicode å­—ç¬¦å±æ€§ä»¥åŒ¹é…ç‰¹å®šçš„å€¼ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯ç”¨å¸Œè…Šè¯­è¿˜æ˜¯æ‹‰ä¸å­—æ¯å†™çš„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/^\p&#123;Script=Greek&#125;+$/u.test(&#x27;ÎµÎ»Î»Î·Î½Î¹ÎºÎ¬&#x27;) //âœ…</span><br><span class="line">/^\p&#123;Script=Latin&#125;+$/u.test(&#x27;hey&#x27;) //âœ…</span><br></pre></td></tr></table></figure><p>é˜…è¯»<a href="https://github.com/tc39/proposal-regexp-unicode-property-escapes">https://github.com/tc39/proposal-regexp-unicode-property-escapes</a> è·å–ä½¿ç”¨æ‰€æœ‰å±æ€§çš„è¯¦ç»†ä¿¡æ¯ã€‚</p><p>Named capturing groups<br>In ES2018 a capturing group can be assigned to a name, rather than just being assigned a slot in the result array:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const re = /(?&lt;year&gt;\d&#123;4&#125;)-(?&lt;month&gt;\d&#123;2&#125;)-(?&lt;day&gt;\d&#123;2&#125;)/</span><br><span class="line">const result = re.exec(&#x27;2015-01-02&#x27;)</span><br><span class="line">// result.groups.year === &#x27;2015&#x27;;</span><br><span class="line">// result.groups.month === &#x27;01&#x27;;</span><br><span class="line">// result.groups.day === &#x27;02&#x27;;</span><br><span class="line">The s flag for regular expressions</span><br><span class="line">The s flag, short for single line, causes the . to match new line characters as well. Without it, the dot matches regular characters but not the new line:</span><br><span class="line"></span><br><span class="line">/hi.welcome/.test(&#x27;hi\nwelcome&#x27;) // false</span><br><span class="line">/hi.welcome/s.test(&#x27;hi\nwelcome&#x27;) // true</span><br></pre></td></tr></table></figure><h4 id="ESNext-1"><a href="#ESNext-1" class="headerlink" title="ESNext"></a>ESNext</h4><p>ä»€ä¹ˆæ˜¯ ESNext ï¼Ÿ</p><p>ESNext æ˜¯ä¸€ä¸ªå§‹ç»ˆæŒ‡å‘ä¸‹ä¸€ä¸ªç‰ˆæœ¬ JavaScript çš„åç§°ã€‚</p><p>å½“å‰çš„ ECMAScript ç‰ˆæœ¬æ˜¯ ES2018ï¼Œå®ƒäº2018å¹´6æœˆè¢«å‘å¸ƒã€‚</p><p>å†å²ä¸Š JavaScript æ ‡å‡†åŒ–çš„ç‰ˆæœ¬éƒ½æ˜¯åœ¨å¤å­£è¢«å‘å¸ƒï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é¢„æœŸ ECMAScript 2019 å°†äº 2019 å¹´çš„å¤å­£è¢«å‘å¸ƒã€‚</p><p>æ‰€ä»¥åœ¨ç¼–å†™æœ¬æ–‡æ—¶ ES2018 å·²ç»è¢«å‘å¸ƒï¼Œå› æ­¤ ESNext æŒ‡çš„æ˜¯ ES2019ã€‚</p><p>ECMAScript æ ‡å‡†çš„ææ¡ˆæ˜¯åˆ†é˜¶æ®µç»„ç»‡çš„ï¼Œç¬¬ä¸€åˆ°ç¬¬ä¸‰é˜¶æ®µå±äºåŠŸèƒ½æ€§çš„å­µåŒ–ï¼Œç¬¬å››é˜¶æ®µçš„åŠŸèƒ½æ‰æœ€ç»ˆç¡®å®šä¸ºæ–°æ ‡å‡†çš„ä¸€éƒ¨åˆ†ã€‚</p><p>åœ¨ç¼–å†™æœ¬æ–‡æ—¶ä¸»è¦æµè§ˆå™¨éƒ½å®ç°äº†ç¬¬å››é˜¶æ®µå¤§éƒ¨åˆ†çš„åŠŸèƒ½ï¼Œå› æ­¤æˆ‘å°†åœ¨æœ¬æ–‡ä¸­ä»‹ç»å®ƒä»¬ã€‚</p><p>å…¶ä¸­ä¸€äº›å˜åŒ–ä¸»è¦åœ¨å†…éƒ¨ä½¿ç”¨ï¼Œä½†çŸ¥é“å‘ç”Ÿäº†ä»€ä¹ˆè¿™ä¹Ÿå¾ˆå¥½ã€‚</p><p>ç¬¬ä¸‰é˜¶æ®µè¿˜æœ‰ä¸€äº›å…¶å®ƒåŠŸèƒ½ï¼Œå¯èƒ½ä¼šåœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªæœˆå†…å‡çº§åˆ°ç¬¬å››é˜¶æ®µï¼Œä½ å¯ä»¥åœ¨è¿™ä¸ª Github ä»“åº“ä¸­æŸ¥çœ‹å®ƒä»¬ï¼š<a href="https://github.com/tc39/proposals%E3%80%82">https://github.com/tc39/proposalsã€‚</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.&#123;flat,flatMap&#125;</span><br></pre></td></tr></table></figure><p>flat() æ˜¯ä¸€ä¸ªæ–°çš„æ•°ç»„å®ä¾‹æ–¹æ³•ï¼Œå®ƒå¯ä»¥å°†å¤šç»´æ•°ç»„è½¬åŒ–æˆä¸€ç»´æ•°ç»„ã€‚</p><p>ä¾‹å­:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[&#x27;Dog&#x27;, [&#x27;Sheep&#x27;, &#x27;Wolf&#x27;]].flat()</span><br><span class="line">//[ &#x27;Dog&#x27;, &#x27;Sheep&#x27;, &#x27;Wolf&#x27; ]</span><br></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹å®ƒåªèƒ½å°†äºŒç»´çš„æ•°ç»„è½¬åŒ–æˆä¸€ç»´çš„æ•°ç»„ï¼Œä½†ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå‚æ•°æ¥ç¡®å®šè¦å±•å¼€çš„çº§åˆ«ï¼Œå¦‚æœä½ å°†è¿™ä¸ªå‚æ•°è®¾ç½®ä¸º Infinity é‚£ä¹ˆå®ƒå°†å±•å¼€æ— é™çš„çº§åˆ«åˆ°ä¸€ç»´æ•°ç»„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[&#x27;Dog&#x27;, [&#x27;Sheep&#x27;, [&#x27;Wolf&#x27;]]].flat()</span><br><span class="line">//[ &#x27;Dog&#x27;, &#x27;Sheep&#x27;, [ &#x27;Wolf&#x27; ] ]</span><br><span class="line">[&#x27;Dog&#x27;, [&#x27;Sheep&#x27;, [&#x27;Wolf&#x27;]]].flat(2)</span><br><span class="line">//[ &#x27;Dog&#x27;, &#x27;Sheep&#x27;, &#x27;Wolf&#x27; ]</span><br><span class="line">[&#x27;Dog&#x27;, [&#x27;Sheep&#x27;, [&#x27;Wolf&#x27;]]].flat(Infinity)</span><br><span class="line">//[ &#x27;Dog&#x27;, &#x27;Sheep&#x27;, &#x27;Wolf&#x27; ]</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ ç†Ÿæ‚‰æ•°ç»„çš„ map æ–¹æ³•ï¼Œé‚£ä¹ˆä½ å°±çŸ¥é“ä½¿ç”¨å®ƒå¯ä»¥å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€ä¸ªå‡½æ•°ã€‚</p><p>flatMap() æ˜¯ä¸€ä¸ªæ–°çš„æ•°ç»„å®ä¾‹æ–¹æ³•ï¼Œå®ƒå°† flat() å’Œ map ç»“åˆäº†èµ·æ¥ï¼Œå½“ä½ æœŸæœ›åœ¨mapå‡½æ•°ä¸­åšä¸€äº›å¤„ç†æ—¶è¿™éå¸¸æœ‰ç”¨ï¼ŒåŒæ—¶åˆå¸Œæœ›ç»“æœå¦‚åŒ flat ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[&#x27;My dog&#x27;, &#x27;is awesome&#x27;].map(words =&gt; words.split(&#x27; &#x27;))</span><br><span class="line">//[ [ &#x27;My&#x27;, &#x27;dog&#x27; ], [ &#x27;is&#x27;, &#x27;awesome&#x27; ] ]</span><br><span class="line">[&#x27;My dog&#x27;, &#x27;is awesome&#x27;].flatMap(words =&gt; words.split(&#x27; &#x27;))</span><br><span class="line">//[ &#x27;My&#x27;, &#x27;dog&#x27;, &#x27;is&#x27;, &#x27;awesome&#x27; ]</span><br></pre></td></tr></table></figure><h5 id="Optional-catch-binding"><a href="#Optional-catch-binding" class="headerlink" title="Optional catch binding"></a>Optional catch binding</h5><p>æœ‰æ—¶å€™æˆ‘ä»¬å¹¶ä¸éœ€è¦å°†å‚æ•°ç»‘å®šåˆ° try/catch ä¸­ã€‚</p><p>åœ¨ä»¥å‰æˆ‘ä»¬ä¸å¾—ä¸è¿™æ ·åšï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">  //...</span><br><span class="line">&#125; catch (e) &#123;</span><br><span class="line">  //handle error</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å³ä½¿æˆ‘ä»¬ä»æ¥æ²¡æœ‰é€šè¿‡ e æ¥åˆ†æé”™è¯¯ï¼Œä½†ç°åœ¨æˆ‘ä»¬å¯ä»¥ç®€å•çš„çœç•¥å®ƒï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">  //...</span><br><span class="line">&#125; catch &#123;</span><br><span class="line">  //handle error</span><br><span class="line">&#125;</span><br><span class="line">Object.fromEntries()</span><br><span class="line">Objects have an entries() method, since ES2017.</span><br></pre></td></tr></table></figure><p>ä» ES2017 å¼€å§‹ Objectå°†æœ‰ä¸€ä¸ª entries() æ–¹æ³•ã€‚</p><p>å®ƒå°†è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å¯¹è±¡è‡ªèº«å±æ€§çš„æ•°ç»„çš„æ•°ç»„ï¼Œå¦‚[key, value]ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const person = &#123; name: &#x27;Fred&#x27;, age: 87 &#125;</span><br><span class="line">Object.entries(person) // [[&#x27;name&#x27;, &#x27;Fred&#x27;], [&#x27;age&#x27;, 87]]</span><br></pre></td></tr></table></figure><p>ES2019 å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ Object.fromEntries() æ–¹æ³•ï¼Œå®ƒå¯ä»¥ä»ä¸Šè¿°çš„å±æ€§æ•°ç»„ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const person = &#123; name: &#x27;Fred&#x27;, age: 87 &#125;</span><br><span class="line">const entries = Object.entries(person)</span><br><span class="line">const newPerson = Object.fromEntries(entries)</span><br><span class="line"></span><br><span class="line">person !== newPerson //true</span><br><span class="line">String.prototype.&#123;trimStart,trimEnd&#125;</span><br></pre></td></tr></table></figure><p>è¿™äº›åŠŸèƒ½å·²ç»è¢« v8/Chrome å®ç°äº†è¿‘ä¸€å¹´çš„æ—¶é—´ï¼Œå®ƒå°†åœ¨ ES2019 ä¸­å®ç°æ ‡å‡†åŒ–ã€‚</p><h5 id="trimStart"><a href="#trimStart" class="headerlink" title="trimStart()"></a>trimStart()</h5><p>åˆ é™¤å­—ç¬¦ä¸²é¦–éƒ¨çš„ç©ºæ ¼å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x27;Testing&#x27;.trimStart() //&#x27;Testing&#x27;</span><br><span class="line">&#x27; Testing&#x27;.trimStart() //&#x27;Testing&#x27;</span><br><span class="line">&#x27; Testing &#x27;.trimStart() //&#x27;Testing &#x27;</span><br><span class="line">&#x27;Testing&#x27;.trimStart() //&#x27;Testing&#x27;</span><br></pre></td></tr></table></figure><h5 id="trimEnd"><a href="#trimEnd" class="headerlink" title="trimEnd()"></a>trimEnd()</h5><p>åˆ é™¤å­—ç¬¦ä¸²å°¾éƒ¨çš„ç©ºæ ¼å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x27;Testing&#x27;.trimEnd() //&#x27;Testing&#x27;</span><br><span class="line">&#x27; Testing&#x27;.trimEnd() //&#x27; Testing&#x27;</span><br><span class="line">&#x27; Testing &#x27;.trimEnd() //&#x27; Testing&#x27;</span><br><span class="line">&#x27;Testing &#x27;.trimEnd() //&#x27;Testing&#x27;</span><br></pre></td></tr></table></figure><h5 id="Symbol-prototype-description"><a href="#Symbol-prototype-description" class="headerlink" title="Symbol.prototype.description"></a>Symbol.prototype.description</h5><p>ç°åœ¨ä½ å¯ä»¥ä½¿ç”¨ description æ¥è·å– Symbol çš„å€¼ï¼Œè€Œä¸å¿…ä½¿ç”¨ toString() æ–¹æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const testSymbol = Symbol(&#x27;Test&#x27;)</span><br><span class="line">testSymbol.description // &#x27;Test&#x27;</span><br></pre></td></tr></table></figure><h5 id="JSON-improvements"><a href="#JSON-improvements" class="headerlink" title="JSON improvements"></a>JSON improvements</h5><p>åœ¨æ­¤ä¹‹å‰ JSON å­—ç¬¦ä¸²ä¸­ä¸å…è®¸ä½¿ç”¨åˆ†éš”ç¬¦ï¼ˆ\u2028ï¼‰å’Œåˆ†éš”ç¬¦ï¼ˆ\u2029ï¼‰ã€‚</p><p>ä½¿ç”¨ JSON.parse æ—¶ï¼Œè¿™äº›å­—ç¬¦ä¼šå¯¼è‡´ä¸€ä¸ª SyntaxError é”™è¯¯ï¼Œä½†ç°åœ¨å®ƒä»¬å¯ä»¥æ­£ç¡®çš„è§£æå¹¶å¦‚ JSON æ ‡å‡†å®šä¹‰çš„é‚£æ ·ã€‚</p><h5 id="Well-formed-JSON-stringify"><a href="#Well-formed-JSON-stringify" class="headerlink" title="Well-formed JSON.stringify()"></a>Well-formed JSON.stringify()</h5><p>ä¿®å¤ JSON.stringify() åœ¨å¤„ç† UTF-8 code points (U+D800 to U+DFFF)ã€‚</p><p>åœ¨ä¿®å¤ä¹‹å‰ï¼Œè°ƒç”¨ JSON.stringify() å°†è¿”å›æ ¼å¼é”™è¯¯çš„ Unicode å­—ç¬¦ï¼Œå¦‚ï¼ˆa â€œï¿½â€)ã€‚</p><p>ç°åœ¨ä½ å¯ä»¥å®‰å…¨æ”¾å¿ƒçš„ä½¿ç”¨ JSON.stringify() è½¬æˆå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ JSON.parse() å°†å®ƒè½¬æ¢å›åŸå§‹è¡¨ç¤ºçš„å½¢æ€ã€‚</p><h5 id="Function-prototype-toString"><a href="#Function-prototype-toString" class="headerlink" title="Function.prototype.toString()"></a>Function.prototype.toString()</h5><p>å‡½æ•°æ€»ä¼šæœ‰ä¸€ä¸ª toString æ–¹æ³•ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªåŒ…å«å‡½æ•°ä»£ç çš„å­—ç¬¦ä¸²ã€‚</p><p>ES2019 å¯¹è¿”å›å€¼åšäº†ä¿®æ”¹ï¼Œä»¥é¿å…å‰¥ç¦»æ³¨é‡Šå’Œå…¶å®ƒå­—ç¬¦ä¸²ï¼ˆå¦‚ï¼šç©ºæ ¼ï¼‰ï¼Œå°†æ›´å‡†ç¡®çš„è¡¨ç¤ºå‡½æ•°çš„å®šä¹‰ã€‚</p><blockquote><p>If previously we had</p></blockquote><p>ä»¥å‰ä¹Ÿè®¸æˆ‘ä»¬è¿™æ ·è¿‡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function /* this is bar */ bar () &#123;&#125;</span><br></pre></td></tr></table></figure><p>å½“æ—¶çš„è¡Œä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bar.toString() //&#x27;function bar() &#123;&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨çš„è¡Œä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bar.toString(); // &#x27;function /* this is bar */ bar () &#123;&#125;&#x27;</span><br></pre></td></tr></table></figure><p>æ€»ç»“ä¸€ä¸‹ï¼Œæˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯ä»¥å¸®åŠ©ä½ äº†è§£ä¸€äº›æœ€æ–°çš„ JavaScript ä»¥åŠæˆ‘ä»¬åœ¨ 2019 å¹´å³å°†çœ‹è§çš„å†…å®¹ã€‚</p>]]></content>
    
    
    <summary type="html">ES-nextä½¿ç”¨è¯´æ˜</summary>
    
    
    
    <category term="å‰ç«¯" scheme="https://lovelee.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="ES6" scheme="https://lovelee.cn/tags/ES6/"/>
    
    <category term="ES-next" scheme="https://lovelee.cn/tags/ES-next/"/>
    
  </entry>
  
  <entry>
    <title>axiosä½¿ç”¨è¯´æ˜</title>
    <link href="https://lovelee.cn/2022/08/29/axios/"/>
    <id>https://lovelee.cn/2022/08/29/axios/</id>
    <published>2022-08-29T12:53:09.144Z</published>
    <updated>2022-08-27T12:00:25.050Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åŸæ–‡åœ°å€ï¼š<a href="https://link.jianshu.com/?t=http://blog.lee-cloud.xyz/post/1/Axios-zhong-wen-wen-dang">lewis1990@amoy</a></p></blockquote><h1 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h1><p>åŸºäºpromiseç”¨äºæµè§ˆå™¨å’Œnode.jsçš„httpå®¢æˆ·ç«¯</p><h2 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h2><ul><li>æ”¯æŒæµè§ˆå™¨å’Œnode.js</li><li>æ”¯æŒpromise</li><li>èƒ½æ‹¦æˆªè¯·æ±‚å’Œå“åº”</li><li>èƒ½è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ®</li><li>èƒ½å–æ¶ˆè¯·æ±‚</li><li>è‡ªåŠ¨è½¬æ¢JSONæ•°æ®</li><li>æµè§ˆå™¨ç«¯æ”¯æŒé˜²æ­¢CSRF(è·¨ç«™è¯·æ±‚ä¼ªé€ )</li></ul><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>npmå®‰è£…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install axios</span><br></pre></td></tr></table></figure><p>bowerå®‰è£…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bower install axios</span><br></pre></td></tr></table></figure><p>é€šè¿‡cdnå¼•å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><p>å‘èµ·ä¸€ä¸ª<code>GET</code>è¯·æ±‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// Make a request for a user with a given ID</span><br><span class="line">axios.get(&#x27;/user?ID=12345&#x27;)</span><br><span class="line">  .then(function (response) &#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(function (error) &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">// Optionally the request above could also be done as</span><br><span class="line">axios.get(&#x27;/user&#x27;, &#123;</span><br><span class="line">    params: &#123;</span><br><span class="line">      ID: 12345</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(function (response) &#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(function (error) &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>å‘èµ·ä¸€ä¸ª<code>POST</code>è¯·æ±‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">axios.post(&#x27;/user&#x27;, &#123;</span><br><span class="line">    firstName: &#x27;Fred&#x27;,</span><br><span class="line">    lastName: &#x27;Flintstone&#x27;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(function (response) &#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(function (error) &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>åŒæ—¶å‘èµ·å¤šä¸ªè¯·æ±‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function getUserAccount() &#123;</span><br><span class="line">  return axios.get(&#x27;/user/12345&#x27;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getUserPermissions() &#123;</span><br><span class="line">  return axios.get(&#x27;/user/12345/permissions&#x27;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">axios.all([getUserAccount(), getUserPermissions()])</span><br><span class="line">  .then(axios.spread(function (acct, perms) &#123;</span><br><span class="line">    // Both requests are now complete</span><br><span class="line">  &#125;));</span><br></pre></td></tr></table></figure><h2 id="axios-api"><a href="#axios-api" class="headerlink" title="axios api"></a>axios api</h2><p>å¯ä»¥é€šè¿‡å¯¼å…¥ç›¸å…³é…ç½®å‘èµ·è¯·æ±‚</p><h4 id="axios-config"><a href="#axios-config" class="headerlink" title="axios(config)"></a>axios(config)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// å‘èµ·ä¸€ä¸ªPOSTè¯·æ±‚</span><br><span class="line">axios(&#123;</span><br><span class="line">  method: &#x27;post&#x27;,</span><br><span class="line">  url: &#x27;/user/12345&#x27;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: &#x27;Fred&#x27;,</span><br><span class="line">    lastName: &#x27;Flintstone&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">// è·å–è¿œç¨‹å›¾ç‰‡</span><br><span class="line">axios(&#123;</span><br><span class="line">  method:&#x27;get&#x27;,</span><br><span class="line">  url:&#x27;http://bit.ly/2mTM3nY&#x27;,</span><br><span class="line">  responseType:&#x27;stream&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">  .then(function(response) &#123;</span><br><span class="line">  response.data.pipe(fs.createWriteStream(&#x27;ada_lovelace.jpg&#x27;))</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="axios-url-config"><a href="#axios-url-config" class="headerlink" title="axios(url[, config])"></a>axios(url[, config])</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// å‘èµ·ä¸€ä¸ªGETè¯·æ±‚ï¼ˆGETæ˜¯é»˜è®¤çš„è¯·æ±‚æ–¹æ³•ï¼‰</span><br><span class="line">axios(&#x27;/user/12345&#x27;);</span><br></pre></td></tr></table></figure><h3 id="è¯·æ±‚æ–¹æ³•åˆ«å"><a href="#è¯·æ±‚æ–¹æ³•åˆ«å" class="headerlink" title="è¯·æ±‚æ–¹æ³•åˆ«å"></a>è¯·æ±‚æ–¹æ³•åˆ«å</h3><p>ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬ä¸ºæ‰€æœ‰æ”¯æŒçš„è¯·æ±‚æ–¹æ³•å‡æä¾›äº†åˆ«åã€‚</p><h5 id="axios-request-config"><a href="#axios-request-config" class="headerlink" title="axios.request(config)"></a>axios.request(config)</h5><h5 id="axios-get-url-config"><a href="#axios-get-url-config" class="headerlink" title="axios.get(url[, config])"></a>axios.get(url[, config])</h5><h5 id="axios-delete-url-config"><a href="#axios-delete-url-config" class="headerlink" title="axios.delete(url[, config])"></a>axios.delete(url[, config])</h5><h5 id="axios-head-url-config"><a href="#axios-head-url-config" class="headerlink" title="axios.head(url[, config])"></a>axios.head(url[, config])</h5><h5 id="axios-options-url-config"><a href="#axios-options-url-config" class="headerlink" title="axios.options(url[, config])"></a>axios.options(url[, config])</h5><h5 id="axios-post-url-data-config"><a href="#axios-post-url-data-config" class="headerlink" title="axios.post(url[, data[, config]])"></a>axios.post(url[, data[, config]])</h5><h5 id="axios-put-url-data-config"><a href="#axios-put-url-data-config" class="headerlink" title="axios.put(url[, data[, config]])"></a>axios.put(url[, data[, config]])</h5><h5 id="axios-patch-url-data-config"><a href="#axios-patch-url-data-config" class="headerlink" title="axios.patch(url[, data[, config]])"></a>axios.patch(url[, data[, config]])</h5><h6 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h6><p>å½“ä½¿ç”¨ä»¥ä¸Šåˆ«åæ–¹æ³•æ—¶ï¼Œ<code>url</code>ï¼Œ<code>method</code>å’Œ<code>data</code>ç­‰å±æ€§ä¸ç”¨åœ¨configé‡å¤å£°æ˜ã€‚</p><h3 id="åŒæ—¶å‘ç”Ÿçš„è¯·æ±‚"><a href="#åŒæ—¶å‘ç”Ÿçš„è¯·æ±‚" class="headerlink" title="åŒæ—¶å‘ç”Ÿçš„è¯·æ±‚"></a>åŒæ—¶å‘ç”Ÿçš„è¯·æ±‚</h3><p>ä¸€ä¸‹ä¸¤ä¸ªç”¨æ¥å¤„ç†åŒæ—¶å‘ç”Ÿå¤šä¸ªè¯·æ±‚çš„è¾…åŠ©å‡½æ•°</p><h5 id="axios-all-iterable"><a href="#axios-all-iterable" class="headerlink" title="axios.all(iterable)"></a>axios.all(iterable)</h5><h5 id="axios-spread-callback"><a href="#axios-spread-callback" class="headerlink" title="axios.spread(callback)"></a>axios.spread(callback)</h5><h3 id="åˆ›å»ºä¸€ä¸ªå®ä¾‹"><a href="#åˆ›å»ºä¸€ä¸ªå®ä¾‹" class="headerlink" title="åˆ›å»ºä¸€ä¸ªå®ä¾‹"></a>åˆ›å»ºä¸€ä¸ªå®ä¾‹</h3><p>ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæ‹¥æœ‰é€šç”¨é…ç½®çš„axioså®ä¾‹</p><h4 id="axios-creat-config"><a href="#axios-creat-config" class="headerlink" title="axios.creat([config])"></a>axios.creat([config])</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var instance = axios.create(&#123;</span><br><span class="line">  baseURL: &#x27;https://some-domain.com/api/&#x27;,</span><br><span class="line">  timeout: 1000,</span><br><span class="line">  headers: &#123;&#x27;X-Custom-Header&#x27;: &#x27;foobar&#x27;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="å®ä¾‹çš„æ–¹æ³•"><a href="#å®ä¾‹çš„æ–¹æ³•" class="headerlink" title="å®ä¾‹çš„æ–¹æ³•"></a>å®ä¾‹çš„æ–¹æ³•</h3><p>ä»¥ä¸‹æ˜¯æ‰€æœ‰å¯ç”¨çš„å®ä¾‹æ–¹æ³•ï¼Œé¢å¤–å£°æ˜çš„é…ç½®å°†ä¸å®ä¾‹é…ç½®åˆå¹¶</p><h5 id="axios-request-config-1"><a href="#axios-request-config-1" class="headerlink" title="axios#request(config)"></a>axios#request(config)</h5><h5 id="axios-get-url-config-1"><a href="#axios-get-url-config-1" class="headerlink" title="axios#get(url[, config])"></a>axios#get(url[, config])</h5><h5 id="axios-delete-url-config-1"><a href="#axios-delete-url-config-1" class="headerlink" title="axios#delete(url[, config])"></a>axios#delete(url[, config])</h5><h5 id="axios-head-url-config-1"><a href="#axios-head-url-config-1" class="headerlink" title="axios#head(url[, config])"></a>axios#head(url[, config])</h5><h5 id="axios-options-url-config-1"><a href="#axios-options-url-config-1" class="headerlink" title="axios#options(url[, config])"></a>axios#options(url[, config])</h5><h5 id="axios-post-url-data-config-1"><a href="#axios-post-url-data-config-1" class="headerlink" title="axios#post(url[, data[, config]])"></a>axios#post(url[, data[, config]])</h5><h5 id="axios-put-url-data-config-1"><a href="#axios-put-url-data-config-1" class="headerlink" title="axios#put(url[, data[, config]])"></a>axios#put(url[, data[, config]])</h5><h5 id="axios-patch-url-data-config-1"><a href="#axios-patch-url-data-config-1" class="headerlink" title="axios#patch(url[, data[, config]])"></a>axios#patch(url[, data[, config]])</h5><h2 id="è¯·æ±‚é…ç½®"><a href="#è¯·æ±‚é…ç½®" class="headerlink" title="è¯·æ±‚é…ç½®"></a>è¯·æ±‚é…ç½®</h2><p>ä¸‹é¢æ˜¯æ‰€æœ‰å¯ç”¨çš„è¯·æ±‚é…ç½®é¡¹ï¼Œåªæœ‰<code>url</code>æ˜¯å¿…å¡«ï¼Œé»˜è®¤çš„è¯·æ±‚æ–¹æ³•æ˜¯<code>GET</code>ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šè¯·æ±‚æ–¹æ³•çš„è¯ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // `url` æ˜¯è¯·æ±‚çš„æ¥å£åœ°å€</span><br><span class="line">  url: &#x27;/user&#x27;,</span><br><span class="line"></span><br><span class="line">  // `method` æ˜¯è¯·æ±‚çš„æ–¹æ³•</span><br><span class="line">  method: &#x27;get&#x27;, // é»˜è®¤å€¼</span><br><span class="line"></span><br><span class="line">  // å¦‚æœurlä¸æ˜¯ç»å¯¹è·¯å¾„ï¼Œé‚£ä¹ˆä¼šå°†baseURLå’Œurlæ‹¼æ¥ä½œä¸ºè¯·æ±‚çš„æ¥å£åœ°å€</span><br><span class="line">  // ç”¨æ¥åŒºåˆ†ä¸åŒç¯å¢ƒï¼Œå»ºè®®ä½¿ç”¨</span><br><span class="line">  baseURL: &#x27;https://some-domain.com/api/&#x27;,</span><br><span class="line"></span><br><span class="line">  // ç”¨äºè¯·æ±‚ä¹‹å‰å¯¹è¯·æ±‚æ•°æ®è¿›è¡Œæ“ä½œ</span><br><span class="line">  // åªç”¨å½“è¯·æ±‚æ–¹æ³•ä¸ºâ€˜PUTâ€™ï¼Œâ€˜POSTâ€™å’Œâ€˜PATCHâ€™æ—¶å¯ç”¨</span><br><span class="line">  // æœ€åä¸€ä¸ªå‡½æ•°éœ€returnå‡ºç›¸åº”æ•°æ®</span><br><span class="line">  // å¯ä»¥ä¿®æ”¹headers</span><br><span class="line">  transformRequest: [function (data, headers) &#123;</span><br><span class="line">    // å¯ä»¥å¯¹dataåšä»»ä½•æ“ä½œ</span><br><span class="line"></span><br><span class="line">    return data;</span><br><span class="line">  &#125;],</span><br><span class="line"></span><br><span class="line">  // ç”¨äºå¯¹ç›¸åº”æ•°æ®è¿›è¡Œå¤„ç†</span><br><span class="line">  // å®ƒä¼šé€šè¿‡thenæˆ–è€…catch</span><br><span class="line">  transformResponse: [function (data) &#123;</span><br><span class="line">    // å¯ä»¥å¯¹dataåšä»»ä½•æ“ä½œ</span><br><span class="line"></span><br><span class="line">    return data;</span><br><span class="line">  &#125;],</span><br><span class="line"></span><br><span class="line">  // `headers` are custom headers to be sent</span><br><span class="line">  headers: &#123;&#x27;X-Requested-With&#x27;: &#x27;XMLHttpRequest&#x27;&#125;,</span><br><span class="line"></span><br><span class="line">  // URLå‚æ•°</span><br><span class="line">  // å¿…é¡»æ˜¯ä¸€ä¸ªçº¯å¯¹è±¡æˆ–è€… URLå‚æ•°å¯¹è±¡</span><br><span class="line">  params: &#123;</span><br><span class="line">    ID: 12345</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // æ˜¯ä¸€ä¸ªå¯é€‰çš„å‡½æ•°è´Ÿè´£åºåˆ—åŒ–`params`</span><br><span class="line">  // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)</span><br><span class="line">  paramsSerializer: function(params) &#123;</span><br><span class="line">    return Qs.stringify(params, &#123;arrayFormat: &#x27;brackets&#x27;&#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // è¯·æ±‚ä½“æ•°æ®</span><br><span class="line">  // åªæœ‰å½“è¯·æ±‚æ–¹æ³•ä¸º&#x27;PUT&#x27;, &#x27;POST&#x27;,å’Œ&#x27;PATCH&#x27;æ—¶å¯ç”¨</span><br><span class="line">  // å½“æ²¡æœ‰è®¾ç½®`transformRequest`æ—¶ï¼Œå¿…é¡»æ˜¯ä»¥ä¸‹å‡ ç§æ ¼å¼</span><br><span class="line">  // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams</span><br><span class="line">  // - Browser only: FormData, File, Blob</span><br><span class="line">  // - Node only: Stream, Buffer</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: &#x27;Fred&#x27;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span><br><span class="line">  timeout: 1000,</span><br><span class="line"></span><br><span class="line">  // æ˜¯å¦æºå¸¦cookieä¿¡æ¯</span><br><span class="line">  withCredentials: false, // default</span><br><span class="line"></span><br><span class="line">  // ç»Ÿä¸€å¤„ç†requestè®©æµ‹è¯•æ›´åŠ å®¹æ˜“</span><br><span class="line">  // è¿”å›ä¸€ä¸ªpromiseå¹¶æä¾›ä¸€ä¸ªå¯ç”¨çš„response</span><br><span class="line">  // å…¶å®æˆ‘å¹¶ä¸çŸ¥é“è¿™ä¸ªæ˜¯å¹²å˜›çš„ï¼ï¼ï¼ï¼</span><br><span class="line">  // (see lib/adapters/README.md).</span><br><span class="line">  adapter: function (config) &#123;</span><br><span class="line">    /* ... */</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `auth` indicates that HTTP Basic auth should be used, and supplies credentials.</span><br><span class="line">  // This will set an `Authorization` header, overwriting any existing</span><br><span class="line">  // `Authorization` custom headers you have set using `headers`.</span><br><span class="line">  auth: &#123;</span><br><span class="line">    username: &#x27;janedoe&#x27;,</span><br><span class="line">    password: &#x27;s00pers3cret&#x27;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // å“åº”æ ¼å¼</span><br><span class="line">  // å¯é€‰é¡¹ &#x27;arraybuffer&#x27;, &#x27;blob&#x27;, &#x27;document&#x27;, &#x27;json&#x27;, &#x27;text&#x27;, &#x27;stream&#x27;</span><br><span class="line">  responseType: &#x27;json&#x27;, // é»˜è®¤å€¼æ˜¯json</span><br><span class="line"></span><br><span class="line">  // `xsrfCookieName` is the name of the cookie to use as a value for xsrf token</span><br><span class="line">  xsrfCookieName: &#x27;XSRF-TOKEN&#x27;, // default</span><br><span class="line"></span><br><span class="line">  // `xsrfHeaderName` is the name of the http header that carries the xsrf token value</span><br><span class="line">  xsrfHeaderName: &#x27;X-XSRF-TOKEN&#x27;, // default</span><br><span class="line"></span><br><span class="line">  // å¤„ç†ä¸Šä¼ è¿›åº¦äº‹ä»¶</span><br><span class="line">  onUploadProgress: function (progressEvent) &#123;</span><br><span class="line">    // Do whatever you want with the native progress event</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // å¤„ç†ä¸‹è½½è¿›åº¦äº‹ä»¶</span><br><span class="line">  onDownloadProgress: function (progressEvent) &#123;</span><br><span class="line">    // Do whatever you want with the native progress event</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // è®¾ç½®httpå“åº”å†…å®¹çš„æœ€å¤§é•¿åº¦</span><br><span class="line">  maxContentLength: 2000,</span><br><span class="line"></span><br><span class="line">  // å®šä¹‰å¯è·å¾—çš„httpå“åº”çŠ¶æ€ç </span><br><span class="line">  // return trueã€è®¾ç½®ä¸ºnullæˆ–è€…undefinedï¼Œpromiseå°†resolved,å¦åˆ™å°†rejected</span><br><span class="line">  validateStatus: function (status) &#123;</span><br><span class="line">    return status &gt;= 200 &amp;&amp; status &lt; 300; // default</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `maxRedirects` defines the maximum number of redirects to follow in node.js.</span><br><span class="line">  // If set to 0, no redirects will be followed.</span><br><span class="line">  // æœ€å¤§é‡å®šå‘æ¬¡æ•°ï¼Ÿæ²¡ç”¨è¿‡ä¸æ¸…æ¥š</span><br><span class="line">  maxRedirects: 5, // default</span><br><span class="line"></span><br><span class="line">  // `httpAgent` and `httpsAgent` define a custom agent to be used when performing http</span><br><span class="line">  // and https requests, respectively, in node.js. This allows options to be added like</span><br><span class="line">  // `keepAlive` that are not enabled by default.</span><br><span class="line">  httpAgent: new http.Agent(&#123; keepAlive: true &#125;),</span><br><span class="line">  httpsAgent: new https.Agent(&#123; keepAlive: true &#125;),</span><br><span class="line"></span><br><span class="line">  // &#x27;proxy&#x27; defines the hostname and port of the proxy server</span><br><span class="line">  // Use `false` to disable proxies, ignoring environment variables.</span><br><span class="line">  // `auth` indicates that HTTP Basic auth should be used to connect to the proxy, and</span><br><span class="line">  // supplies credentials.</span><br><span class="line">  // This will set an `Proxy-Authorization` header, overwriting any existing</span><br><span class="line">  // `Proxy-Authorization` custom headers you have set using `headers`.</span><br><span class="line">  // ä»£ç†</span><br><span class="line">  proxy: &#123;</span><br><span class="line">    host: &#x27;127.0.0.1&#x27;,</span><br><span class="line">    port: 9000,</span><br><span class="line">    auth: &#123;</span><br><span class="line">      username: &#x27;mikeymike&#x27;,</span><br><span class="line">      password: &#x27;rapunz3l&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `cancelToken` specifies a cancel token that can be used to cancel the request</span><br><span class="line">  // (see Cancellation section below for details)</span><br><span class="line">  // ç”¨äºå–æ¶ˆè¯·æ±‚ï¼Ÿåˆæ˜¯ä¸€ä¸ªä¸çŸ¥é“æ€ä¹ˆç”¨çš„é…ç½®é¡¹</span><br><span class="line">  cancelToken: new CancelToken(function (cancel) &#123;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å“åº”ç»„æˆ"><a href="#å“åº”ç»„æˆ" class="headerlink" title="å“åº”ç»„æˆ"></a>å“åº”ç»„æˆ</h3><p>responseç”±ä»¥ä¸‹å‡ éƒ¨åˆ†ä¿¡æ¯ç»„æˆ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // æœåŠ¡ç«¯è¿”å›çš„æ•°æ®</span><br><span class="line">  data: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">  // æœåŠ¡ç«¯è¿”å›çš„çŠ¶æ€ç </span><br><span class="line">  status: 200,</span><br><span class="line"></span><br><span class="line">  // æœåŠ¡ç«¯è¿”å›çš„çŠ¶æ€ä¿¡æ¯</span><br><span class="line">  statusText: &#x27;OK&#x27;,</span><br><span class="line"></span><br><span class="line">  // å“åº”å¤´</span><br><span class="line">  // æ‰€æœ‰çš„å“åº”å¤´åç§°éƒ½æ˜¯å°å†™</span><br><span class="line">  headers: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">  // axiosè¯·æ±‚é…ç½®</span><br><span class="line">  config: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">  // è¯·æ±‚</span><br><span class="line">  request: &#123;&#125;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure><p>ç”¨<code>then</code>æ¥æ”¶ä»¥ä¸‹å“åº”ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&#x27;/user/12345&#x27;)</span><br><span class="line">  .then(function(response) &#123;</span><br><span class="line">    console.log(response.data);</span><br><span class="line">    console.log(response.status);</span><br><span class="line">    console.log(response.statusText);</span><br><span class="line">    console.log(response.headers);</span><br><span class="line">    console.log(response.config);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><h2 id="é»˜è®¤é…ç½®"><a href="#é»˜è®¤é…ç½®" class="headerlink" title="é»˜è®¤é…ç½®"></a>é»˜è®¤é…ç½®</h2><h3 id="å…¨å±€ä¿®æ”¹axiosé»˜è®¤é…ç½®"><a href="#å…¨å±€ä¿®æ”¹axiosé»˜è®¤é…ç½®" class="headerlink" title="å…¨å±€ä¿®æ”¹axiosé»˜è®¤é…ç½®"></a>å…¨å±€ä¿®æ”¹axiosé»˜è®¤é…ç½®</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">axios.defaults.baseURL = &#x27;https://api.example.com&#x27;;</span><br><span class="line">axios.defaults.headers.common[&#x27;Authorization&#x27;] = AUTH_TOKEN;</span><br><span class="line">axios.defaults.headers.post[&#x27;Content-Type&#x27;] = &#x27;application/x-www-form-urlencoded&#x27;;</span><br></pre></td></tr></table></figure><h3 id="å®ä¾‹é»˜è®¤é…ç½®"><a href="#å®ä¾‹é»˜è®¤é…ç½®" class="headerlink" title="å®ä¾‹é»˜è®¤é…ç½®"></a>å®ä¾‹é»˜è®¤é…ç½®</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// åˆ›å»ºå®ä¾‹æ—¶ä¿®æ”¹é…ç½®</span><br><span class="line">var instance = axios.create(&#123;</span><br><span class="line">  baseURL: &#x27;https://api.example.com&#x27;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// å®ä¾‹åˆ›å»ºä¹‹åä¿®æ”¹é…ç½®</span><br><span class="line">instance.defaults.headers.common[&#x27;Authorization&#x27;] = AUTH_TOKEN;</span><br></pre></td></tr></table></figure><h3 id="é…ç½®ä¼˜å…ˆçº§"><a href="#é…ç½®ä¼˜å…ˆçº§" class="headerlink" title="é…ç½®ä¼˜å…ˆçº§"></a>é…ç½®ä¼˜å…ˆçº§</h3><p>é…ç½®é¡¹é€šè¿‡ä¸€å®šçš„è§„åˆ™åˆå¹¶ï¼Œ<code>request config</code> &gt; <code>instance.defaults</code> &gt; <code>ç³»ç»Ÿé»˜è®¤</code>ï¼Œä¼˜å…ˆçº§é«˜çš„è¦†ç›–ä¼˜å…ˆçº§ä½çš„ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œè¿™æ—¶çš„è¶…æ—¶æ—¶é—´ä¸ºç³»ç»Ÿé»˜è®¤çš„ 0</span><br><span class="line">var instance = axios.create();</span><br><span class="line"></span><br><span class="line">// é€šè¿‡instance.defaultsé‡æ–°è®¾ç½®è¶…æ—¶æ—¶é—´ä¸º2.5sï¼Œå› ä¸ºä¼˜å…ˆçº§æ¯”ç³»ç»Ÿé»˜è®¤é«˜</span><br><span class="line">instance.defaults.timeout = 2500;</span><br><span class="line"></span><br><span class="line">// é€šè¿‡request configé‡æ–°è®¾ç½®è¶…æ—¶æ—¶é—´ä¸º5sï¼Œå› ä¸ºä¼˜å…ˆçº§æ¯”instance.defaultså’Œç³»ç»Ÿé»˜è®¤éƒ½é«˜</span><br><span class="line">instance.get(&#x27;/longRequest&#x27;, &#123;</span><br><span class="line">  timeout: 5000</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="æ‹¦æˆªå™¨"><a href="#æ‹¦æˆªå™¨" class="headerlink" title="æ‹¦æˆªå™¨"></a>æ‹¦æˆªå™¨</h2><p>ä½ å¯ä»¥åœ¨<code>then</code>å’Œ<code>catch</code>ä¹‹å‰æ‹¦æˆªè¯·æ±‚å’Œå“åº”ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// æ·»åŠ ä¸€ä¸ªè¯·æ±‚æ‹¦æˆªå™¨</span><br><span class="line">axios.interceptors.request.use(function (config) &#123;</span><br><span class="line">    // Do something before request is sent</span><br><span class="line">    return config;</span><br><span class="line">  &#125;, function (error) &#123;</span><br><span class="line">    // Do something with request error</span><br><span class="line">    return Promise.reject(error);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">// æ·»åŠ ä¸€ä¸ªå“åº”æ‹¦æˆªå™¨</span><br><span class="line">axios.interceptors.response.use(function (response) &#123;</span><br><span class="line">    // Do something with response data</span><br><span class="line">    return response;</span><br><span class="line">  &#125;, function (error) &#123;</span><br><span class="line">    // Do something with response error</span><br><span class="line">    return Promise.reject(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>å¦‚æœä¹‹åæƒ³ç§»é™¤æ‹¦æˆªå™¨ä½ å¯ä»¥è¿™ä¹ˆåš</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var myInterceptor = axios.interceptors.request.use(function () &#123;/*...*/&#125;);</span><br><span class="line">axios.interceptors.request.eject(myInterceptor);</span><br></pre></td></tr></table></figure><p>ä½ ä¹Ÿå¯ä»¥ä¸ºaxioså®ä¾‹æ·»åŠ ä¸€ä¸ªæ‹¦æˆªå™¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var instance = axios.create();</span><br><span class="line">instance.interceptors.request.use(function () &#123;/*...*/&#125;);</span><br></pre></td></tr></table></figure><h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&#x27;/user/12345&#x27;)</span><br><span class="line">  .catch(function (error) &#123;</span><br><span class="line">    if (error.response) &#123;</span><br><span class="line">      // å‘é€è¯·æ±‚åï¼ŒæœåŠ¡ç«¯è¿”å›çš„å“åº”ç ä¸æ˜¯ 2xx   </span><br><span class="line">      console.log(error.response.data);</span><br><span class="line">      console.log(error.response.status);</span><br><span class="line">      console.log(error.response.headers);</span><br><span class="line">    &#125; else if (error.request) &#123;</span><br><span class="line">      // å‘é€è¯·æ±‚ä½†æ˜¯æ²¡æœ‰å“åº”è¿”å›</span><br><span class="line">      console.log(error.request);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      // å…¶ä»–é”™è¯¯</span><br><span class="line">      console.log(&#x27;Error&#x27;, error.message);</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(error.config);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥ç”¨<code>validateStatus</code>å®šä¹‰ä¸€ä¸ªhttpçŠ¶æ€ç è¿”å›çš„èŒƒå›´.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&#x27;/user/12345&#x27;, &#123;</span><br><span class="line">  validateStatus: function (status) &#123;</span><br><span class="line">    return status &lt; 500; // Reject only if the status code is greater than or equal to 500</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="å–æ¶ˆè¯·æ±‚"><a href="#å–æ¶ˆè¯·æ±‚" class="headerlink" title="å–æ¶ˆè¯·æ±‚"></a>å–æ¶ˆè¯·æ±‚</h2><p>ä½ å¯ä»¥é€šè¿‡<code>cancel token</code>æ¥å–æ¶ˆä¸€ä¸ªè¯·æ±‚</p><blockquote><p>The axios cancel token API is based on the withdrawn <a href="https://link.jianshu.com/?t=https://github.com/tc39/proposal-cancelable-promises">cancelable promises proposal</a>.</p></blockquote><p>You can create a cancel token using the <code>CancelToken.source</code> factory as shown below:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var CancelToken = axios.CancelToken;</span><br><span class="line">var source = CancelToken.source();</span><br><span class="line"></span><br><span class="line">axios.get(&#x27;/user/12345&#x27;, &#123;</span><br><span class="line">  cancelToken: source.token</span><br><span class="line">&#125;).catch(function(thrown) &#123;</span><br><span class="line">  if (axios.isCancel(thrown)) &#123;</span><br><span class="line">    console.log(&#x27;Request canceled&#x27;, thrown.message);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    // handle error</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// cancel the request (the message parameter is optional)</span><br><span class="line">source.cancel(&#x27;Operation canceled by the user.&#x27;);</span><br></pre></td></tr></table></figure><p>You can also create a cancel token by passing an executor function to the <code>CancelToken</code>constructor:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var CancelToken = axios.CancelToken;</span><br><span class="line">var cancel;</span><br><span class="line"></span><br><span class="line">axios.get(&#x27;/user/12345&#x27;, &#123;</span><br><span class="line">  cancelToken: new CancelToken(function executor(c) &#123;</span><br><span class="line">    // An executor function receives a cancel function as a parameter</span><br><span class="line">    cancel = c;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// cancel the request</span><br><span class="line">cancel();</span><br></pre></td></tr></table></figure><blockquote><p>Note: you can cancel several requests with the same cancel token.</p></blockquote><h2 id="Using-application-x-www-form-urlencoded-format"><a href="#Using-application-x-www-form-urlencoded-format" class="headerlink" title="Using application/x-www-form-urlencoded format"></a>Using application/x-www-form-urlencoded format</h2><p>By default, axios serializes JavaScript objects to <code>JSON</code>. To send data in the <code>application/x-www-form-urlencoded</code> format instead, you can use one of the following options.</p><h3 id="Browser"><a href="#Browser" class="headerlink" title="Browser"></a>Browser</h3><p>In a browser, you can use the <a href="https://link.jianshu.com/?t=https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams"><code>URLSearchParams</code></a> API as follows:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var params = new URLSearchParams();</span><br><span class="line">params.append(&#x27;param1&#x27;, &#x27;value1&#x27;);</span><br><span class="line">params.append(&#x27;param2&#x27;, &#x27;value2&#x27;);</span><br><span class="line">axios.post(&#x27;/foo&#x27;, params);</span><br></pre></td></tr></table></figure><blockquote><p>Note that <code>URLSearchParams</code> is not supported by all browsers (see <a href="https://link.jianshu.com/?t=http://www.caniuse.com/%23feat=urlsearchparams">caniuse.com</a>), but there is a <a href="https://link.jianshu.com/?t=https://github.com/WebReflection/url-search-params">polyfill</a> available (make sure to polyfill the global environment).</p></blockquote><p>Alternatively, you can encode data using the <a href="https://link.jianshu.com/?t=https://github.com/ljharb/qs"><code>qs</code></a> library:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var qs = require(&#x27;qs&#x27;);</span><br><span class="line">axios.post(&#x27;/foo&#x27;, qs.stringify(&#123; &#x27;bar&#x27;: 123 &#125;));</span><br></pre></td></tr></table></figure><h3 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h3><p>In node.js, you can use the <a href="https://link.jianshu.com/?t=https://nodejs.org/api/querystring.html"><code>querystring</code></a> module as follows:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var querystring = require(&#x27;querystring&#x27;);</span><br><span class="line">axios.post(&#x27;http://something.com/&#x27;, querystring.stringify(&#123; foo: &#x27;bar&#x27; &#125;));</span><br></pre></td></tr></table></figure><p>You can also use the <a href="https://link.jianshu.com/?t=https://github.com/ljharb/qs"><code>qs</code></a> library.</p><h2 id="Semver"><a href="#Semver" class="headerlink" title="Semver"></a>Semver</h2><p>Until axios reaches a <code>1.0</code> release, breaking changes will be released with a new minor version. For example <code>0.5.1</code>, and <code>0.5.4</code> will have the same API, but <code>0.6.0</code> will have breaking changes.</p><h2 id="Promises"><a href="#Promises" class="headerlink" title="Promises"></a>Promises</h2><p>axios depends on a native ES6 Promise implementation to be <a href="https://link.jianshu.com/?t=http://caniuse.com/promises">supported</a>.<br>If your environment doesnâ€™t support ES6 Promises, you can <a href="https://link.jianshu.com/?t=https://github.com/jakearchibald/es6-promise">polyfill</a>.</p><h2 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h2><p>axios includes <a href="https://link.jianshu.com/?t=http://typescriptlang.org">TypeScript</a> definitions.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import axios from &#x27;axios&#x27;;</span><br><span class="line">axios.get(&#x27;/user?ID=12345&#x27;);</span><br></pre></td></tr></table></figure><h2 id="Resources"><a href="#Resources" class="headerlink" title="Resources"></a>Resources</h2><ul><li><a href="https://link.jianshu.com/?t=https://github.com/axios/axios/blob/master/CHANGELOG.md">Changelog</a></li><li><a href="https://link.jianshu.com/?t=https://github.com/axios/axios/blob/master/UPGRADE_GUIDE.md">Upgrade Guide</a></li><li><a href="https://link.jianshu.com/?t=https://github.com/axios/axios/blob/master/ECOSYSTEM.md">Ecosystem</a></li><li><a href="https://link.jianshu.com/?t=https://github.com/axios/axios/blob/master/CONTRIBUTING.md">Contributing Guide</a></li><li><a href="https://link.jianshu.com/?t=https://github.com/axios/axios/blob/master/CODE_OF_CONDUCT.md">Code of Conduct</a></li></ul><h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Credits</h2><p>axios is heavily inspired by the <a href="https://link.jianshu.com/?t=https://docs.angularjs.org/api/ng/service/%2524http">$http service</a> provided in <a href="https://link.jianshu.com/?t=https://angularjs.org/">Angular</a>. Ultimately axios is an effort to provide a standalone <code>$http</code>-like service for use outside of Angular.</p><h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>MIT</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;åŸæ–‡åœ°å€ï¼š&lt;a href=&quot;https://link.jianshu.com/?t=http://blog.lee-cloud.xyz/post/1/Axios-zhong-wen-wen-dang&quot;&gt;lewis1990@amoy&lt;/a&gt;&lt;/p&gt;
</summary>
      
    
    
    
    <category term="å‰ç«¯" scheme="https://lovelee.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="axios" scheme="https://lovelee.cn/tags/axios/"/>
    
  </entry>
  
  <entry>
    <title>ç”µè„‘å°æŠ€å·§</title>
    <link href="https://lovelee.cn/2022/08/29/%E5%85%B6%E4%BB%96%E7%94%B5%E8%84%91%E7%9F%A5%E8%AF%86/"/>
    <id>https://lovelee.cn/2022/08/29/%E5%85%B6%E4%BB%96%E7%94%B5%E8%84%91%E7%9F%A5%E8%AF%86/</id>
    <published>2022-08-28T19:56:28.000Z</published>
    <updated>2022-08-28T11:59:59.284Z</updated>
    
    <content type="html"><![CDATA[<div class="timeline purple"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>08-28</p></div></div><div class='timeline-item-content'><p>ä»Šå¤©ç§»åŠ¨ç¡¬ç›˜æ’ä¸Šæœ‰ååº”ï¼Œä½†æ˜¯åœ¨ç›˜ç¬¦é‡Œæ‰¾ä¸åˆ°ï¼Œä¸Šç½‘æŸ¥äº†äº†è§£åˆ°ï¼Œæ˜¯æŠŠç§»åŠ¨å­˜å‚¨è®¾å¤‡å½“æˆ æ‰“å°æœºå’Œåª’ä½“è®¾å¤‡è§£æäº†ï¼Œæœ€ååœ¨è“ç‰™é‚£ä¸€åˆ—é‡Œï¼ŒæŠŠä»–ä»åª’ä½“è®¾å¤‡åˆ—è¡¨é‡Œåˆ é™¤ï¼Œç„¶åé‡æ–°æ’æ‹”ã€‚å°±okäº†ã€‚</p></div></div></div>]]></content>
    
    
    <summary type="html">ç”µè„‘ä½¿ç”¨ç›¸å…³æŠ€å·§</summary>
    
    
    
    <category term="ç”µè„‘æŠ€å·§" scheme="https://lovelee.cn/categories/%E7%94%B5%E8%84%91%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="å­¦ä¹ " scheme="https://lovelee.cn/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
</feed>
